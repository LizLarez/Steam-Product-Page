










/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/. 
****/
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+ZmX":function(e,t,a){"use strict";a.r(t),a.d(t,"Init",function(){return r});var n=a("5y3B"),j=a.n(n);function r(){var r,o,i,l,e,s,c,d;window.ZdogSpookyHouse={wobbling:!0,sceneY:12,hillScale:.75,color:{deep:"hsl(230, 60%, 40%)",dark:"hsl(230, 60%, 50%)",darker:"#2a3a81",medium:"hsl(230, 60%, 60%)",light:"hsl(230, 60%, 70%)",pale:"#6D77AD",highlight:"#FFB",fog:"hsla(230, 60%, 80%, 0.4)",paintjob:"#d59c55"}},ZdogSpookyHouse.addBones=function(e){var t=j.a.TAU,a=ZdogSpookyHouse.color.light,n=new j.a.Shape({addTo:e.addTo,path:[{x:-2},{x:2}],closed:!1,stroke:1.3,color:a,translate:{y:12,z:-30},rotate:{y:t/16,z:t/16}}),r=n.copy({translate:{x:-6,y:15,z:-28},rotate:{y:-t/8,z:t/8}}),o=n.copy({addTo:r,path:[{x:1,y:-1},{x:0,y:0},{x:1,y:1}],closed:!1,rotate:null,translate:{x:2}});r.copyGraph({translate:{x:1,y:6,z:-31},rotate:{z:-t/8,x:t/8},scale:.75}),n.copy({scale:.25,translate:{y:18,z:-26},rotate:{z:t/8}});var i=r.copyGraph({translate:{x:-9,y:10,z:-30},rotate:{z:-t/16}});o.copy({addTo:i,scale:{x:-1},translate:{x:-2}}),n.copy({scale:.4,translate:{x:-12,y:14,z:-28},rotate:{z:-t/16}})},ZdogSpookyHouse.addCarRoad=function(e){for(var t=ZdogSpookyHouse.color,a=j.a.TAU,n=120,r=125*a/40/2,o=[{x:1-r,z:5},{x:r-1,z:5},{x:r,z:-5},{x:-r,z:-5}],i=0;i<40;i++){var l=i/40*a;new j.a.Shape({addTo:e.addTo,path:o,translate:{x:Math.cos(l)*n,z:Math.sin(l)*n},rotate:{y:l+a/4},fill:!0,stroke:2,color:t.deep})}var s=-2.5,c=2.5,d={grill:new j.a.Vector({x:-5,y:-1,z:c}),hood:new j.a.Vector({x:-4,y:s,z:c}),wipers:new j.a.Vector({x:-2,y:s,z:c}),windshield:new j.a.Vector({x:-1,y:-4.5,z:1.5}),roof:new j.a.Vector({x:2,y:-4.5,z:1.5}),trunk:new j.a.Vector({x:4,y:s,z:c}),bumper:new j.a.Vector({x:5,y:-1,z:c})},p={};for(var u in d){var m=d[u];p[u]=m.copy().multiply({z:-1})}var h=new j.a.Anchor({addTo:e.addTo}),v=new j.a.Group({addTo:h,translate:{z:120,y:-6},scale:1.2,updateSort:!0}),g=new j.a.Shape({addTo:v,path:[d.grill,d.hood,d.wipers,d.windshield,d.roof,d.trunk,d.bumper],stroke:2,fill:!0,color:t.paintjob});function _(e,t,a){return g.copy({path:[d[e],d[t],p[t],p[e]],color:a||g.color})}g.copy({scale:{z:-1}}),_("grill","hood"),_("hood","wipers"),_("wipers","windshield",t.medium),_("windshield","roof"),_("roof","trunk",t.medium),_("trunk","bumper");var y=new j.a.Vector({x:-3.5,z:c,y:-1}),b=new j.a.Ellipse({addTo:v,diameter:1.8,translate:y,stroke:2,fill:!0,color:t.paintjob});return b.copy({translate:y.copy().multiply({x:-1})}),b.copy({translate:y.copy().multiply({z:-1})}),b.copy({translate:y.copy().multiply({x:-1,z:-1})}),{animate:function(e){h.rotate.y=j.a.easeInOut(e/4%1)*a+3*a/8,v.rotate.x=.1*Math.sin(e*a*2),v.translate.y=2*Math.sin(e*a*1.5)-6}}},ZdogSpookyHouse.addCats=function(e){var t=j.a.TAU,a=ZdogSpookyHouse.color,n=1.1,r=new j.a.Anchor({addTo:e.addTo,translate:{z:-22,x:-28,y:-2},scale:n,rotate:{y:t/8}});new j.a.Cone({addTo:r,diameter:1,length:3,rotate:{x:t/4},stroke:4.4,color:a.deep});var o=new j.a.Shape({addTo:r,translate:{y:-4},stroke:5.5,color:a.deep});new j.a.Shape({addTo:o,translate:{x:-1,z:1},stroke:.9*n,color:a.highlight}).copy({translate:{x:1,z:1}});var i={x:-1,y:-1},l={x:1,y:1,z:-1},s=new j.a.Anchor({addTo:o,scale:new j.a.Vector({x:1,y:1,z:1.25})});new j.a.Shape({addTo:s,path:[{x:-1,y:1},i,l],translate:{x:-.96,y:-1.5,z:0},stroke:.66,fill:!0,color:a.deep}).copy({path:[i,{x:1,y:1},l]}),s.copyGraph({scale:s.scale.copy().multiply({x:-1})}),new j.a.Shape({addTo:r,path:[{},{bezier:[{x:4,y:0,z:-4},{x:0,y:-3,z:0},{x:3,y:-5,z:-1}]}],closed:!1,translate:{z:-1},stroke:0,color:a.deep}),r.copyGraph({translate:{z:-6,x:-42,y:-15},scale:n,rotate:{y:t/4}}),r.copyGraph({translate:{z:-30,x:-30,y:-2},scale:n,rotate:{y:t/4}})},ZdogSpookyHouse.addFogMonster=function(e){for(var t=j.a.TAU,a=ZdogSpookyHouse.color,r=new j.a.Anchor(e),o=4*t/8,i=[],n=0;n<74;n++){var l=n/74,s=l*o,c=new j.a.Shape({addTo:r,path:[{},{x:54*t/74*.8}],stroke:22+8*-Math.cos(t/8*(3+5*l)),translate:{x:54*Math.sin(s),z:54*Math.cos(s),y:6*Math.sin(4*s)},rotate:{y:l*-o},color:a.fog});i.push(c)}return new j.a.Shape({addTo:i[0],translate:{x:-10,z:8},color:a.deep,stroke:3.5}).copy({translate:{x:-10,z:-8}}),new j.a.Ellipse({addTo:i[0],translate:{x:-10,y:4},quarters:2,rotate:{z:t/4,y:t/4},closed:!0,diameter:8,stroke:!1,fill:!0,color:a.deep}),{animate:function(e){var n=r.rotate.y=e*t/6;i.forEach(function(e,t){var a=t/74*o;e.translate.y=6*Math.sin(4*(a-n))})}}},ZdogSpookyHouse.addHouse=function(e){var i=j.a.TAU,l=ZdogSpookyHouse.color,s=[],c=[];function t(e){s.push(e)}function a(e){c.push(e)}var n=new j.a.Anchor({addTo:e.addTo,translate:{x:0,y:-8,z:-6}}),r={addTo:n,width:12,height:12,stroke:e.stroke,fill:!0,backface:l.deep},o=Object.assign({color:l.light},r),d=new j.a.Group({addTo:n,translate:{z:24}});a(new j.a.Rect(Object.assign({},o,{addTo:d}))),new j.a.Rect({addTo:d,width:6,height:8,translate:{y:2},color:l.dark,fill:!0,stroke:!1}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({translate:{y:-12,z:24}},o),pane:l.medium,wallRectCallback:a}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({translate:{y:-24,z:24}},o),pane:l.highlight,wallRectCallback:a});var p=Object.assign({color:l.medium,rotate:{y:-i/4}},r),u=Object.assign({color:l.medium,rotate:{y:i/4}},r),m=new j.a.Rect(Object.assign({},p,{translate:{x:6,z:18}}));t(m),t(m.copy({translate:{x:6,y:-12,z:18}})),t(m.copy({translate:{x:6,y:-24,z:18}}));var h=m.copy({translate:{x:-6,z:18},rotate:{y:i/4}});t(h),t(h.copy({translate:{x:-6,y:-12,z:18}})),t(h.copy({translate:{x:-6,y:-24,z:18}}));var v=new j.a.Anchor({addTo:n,translate:{y:-36,z:18}}),g=new j.a.Shape({addTo:v,path:[{x:-8,y:6},{x:8,y:6},{x:4,y:-6,z:-4},{x:-4,y:-6,z:-4}],translate:{z:8},stroke:e.stroke,fill:!0,color:l.dark});g.copy({rotate:{y:i/4},translate:{x:-8}}),g.copy({rotate:{y:i/2},translate:{z:-8},color:l.deep}),g.copy({rotate:{y:3*i/4},translate:{x:8},color:l.deep}),new j.a.Rect({addTo:v,width:8,height:8,rotate:{x:-i/4},translate:{y:-6},stroke:e.stroke,fill:!0,color:l.dark}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},o,{translate:{x:12,z:12}}),pane:l.medium,wallRectCallback:a}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},o,{translate:{x:12,y:-12,z:12}}),pane:l.medium,wallRectCallback:a}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},o,{translate:{x:-12,z:12}}),pane:l.medium,wallRectCallback:a}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},o,{translate:{x:-12,y:-12,z:12}}),pane:l.medium,wallRectCallback:a}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},p,{translate:{x:18,z:6}}),pane:l.dark,wallRectCallback:t}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},p,{translate:{x:18,y:-12,z:6}}),pane:l.dark,wallRectCallback:t}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},p,{translate:{x:18,z:-6}}),pane:l.dark,wallRectCallback:t}),t(m.copy({width:6,translate:{x:18,y:-12,z:-3}}));var _=m.copy({width:6,translate:{x:15,z:-12},rotate:{y:i/2},color:l.dark}),y=new j.a.Shape({addTo:n,path:[{x:-4,y:12},{x:-4,y:-6},{arc:[{x:-4,y:-10},{x:0,y:-10}]},{arc:[{x:4,y:-10},{x:4,y:-6}]},{x:4,y:12},{x:5,y:12},{x:5,y:-12},{x:-5,y:-12},{x:-5,y:12}],translate:{x:7,y:-6,z:-12},stroke:e.stroke,color:l.dark,fill:!0});new j.a.Shape({addTo:y,path:[{move:{x:-4,y:-6}},{line:{x:4,y:-6}},{move:{x:-4,y:0}},{line:{x:4,y:0}},{move:{x:-4,y:6}},{line:{x:4,y:6}},{move:{x:0,y:-11}},{line:{x:0,y:12}}],closed:!1,stroke:.2,color:l.dark}),y.copyGraph({translate:{x:-3,y:-6,z:-12}}),y.copyGraph({translate:{x:-13,y:-6,z:-12}}),_.copy({width:36,height:3,translate:{x:0,y:4.5,z:-12},color:l.dark}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},u,{translate:{x:-18,z:-6}}),pane:l.dark,wallRectCallback:t}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},u,{translate:{x:-18,y:-12,z:-6}}),wallRectCallback:t}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},u,{translate:{x:-18,z:6}}),pane:l.dark,wallRectCallback:t}),ZdogSpookyHouse.getWallPanel({wall:Object.assign({},u,{translate:{x:-24,y:-12,z:6}}),pane:l.highlight,wallRectCallback:t}),new j.a.Rect({addTo:n,width:12,height:6,translate:{x:-21,y:-6,z:6},stroke:e.stroke,fill:!0,color:l.deep,rotate:{x:i/4,z:i/4}});var b=_.copy({width:6,rotate:null,translate:{x:-21,y:-12,z:12},color:l.light});a(b),_.copy({width:6,translate:{x:-21,y:-12}}),_.copy({width:12,height:18,translate:{x:-6,y:-27,z:-18}}),new j.a.Rect({addTo:n,width:12,height:6,translate:{x:0,y:-33,z:-12},rotate:{y:i/4},stroke:e.stroke,fill:!0,color:l.medium}),new j.a.Shape({addTo:n,path:[{z:2,y:-3},{z:-6,y:-3},{z:-6,y:9},{z:-2,y:9}],translate:{y:-27,z:-12},stroke:e.stroke,fill:!0,color:l.medium}),h.copy({height:18,translate:{x:-12,y:-27,z:-12}}),b.copy({height:6,width:12,translate:{x:-6,y:-33,z:-6}}),new j.a.Rect({addTo:n,width:12,height:6,translate:{x:-6,y:-18,z:-15},rotate:{x:i/4},stroke:e.stroke,fill:!0,color:l.deep}),v.copyGraph({translate:{x:-6,y:-42,z:-12}});var E=new j.a.Anchor({addTo:n,translate:{x:18,y:-18,z:-12}}),S=new j.a.Group({addTo:E});new j.a.Cylinder({addTo:S,diameter:12,length:24,color:l.medium,backface:l.deep,rotate:{x:i/4},stroke:!1}),new j.a.Cone({addTo:E,diameter:16,length:16,translate:{y:-12},rotate:{x:i/4},color:l.deep,stroke:!1}),new j.a.Rect({addTo:S,width:2,height:6,translate:{x:5,y:-6},rotate:{y:-i/4},fill:!0,stroke:!1,color:l.dark,backface:!1}).copy({translate:{y:6,z:-5},rotate:{y:i/2}}),E.copyGraph({translate:{x:-18,y:-30,z:-6},rotate:{y:-i/4},scale:{x:-1}});var f=new j.a.Shape({addTo:n,path:[{x:-6,y:6},{x:8,y:6},{x:4,y:-6,z:-4},{x:-6,y:-6,z:-4}],translate:{x:12,y:-24,z:14},stroke:e.stroke,fill:!0,color:l.dark});f.copy({scale:{x:-1},translate:{x:20,y:-24,z:6},rotate:{y:-i/4},color:l.deep}),f.copy({scale:{x:-1},translate:{x:-18,y:-24,z:14}}),f.copy({translate:{x:-26,y:-24,z:6},rotate:{y:i/4}});var C=new j.a.Shape({addTo:n,path:[{x:-3,y:6},{x:3,y:6},{x:3,y:-6,z:-4},{x:-3,y:-6,z:-4}],translate:{x:-9,y:-24,z:14},stroke:e.stroke,fill:!0,color:l.dark});C.copy({rotate:{y:-i/4},translate:{x:20,y:-24,z:-3},color:l.deep}),C.copy({rotate:{y:-i/2},translate:{x:9,y:-24,z:-14},color:l.deep}),C.copy({rotate:{y:-i/2},translate:{x:3,y:-24,z:-14},color:l.deep});var I=new j.a.Anchor({addTo:n,translate:{y:-30}}),O=new j.a.Rect({addTo:I,width:12,height:10,rotate:{x:-i/4},translate:{z:5},stroke:e.stroke,fill:!0,color:l.dark});O.copy({width:10,translate:{x:11,z:5}}),O.copy({width:10,translate:{x:11,z:-5}}),O.copy({translate:{x:-12,z:5}}),O.copy({width:4,translate:{x:-20,z:5}}),O.copy({width:6,translate:{x:3,z:-5}}),O.copy({height:6,translate:{x:-6,z:-3}});var w=new j.a.Anchor({addTo:n,translate:{y:2}}),T=new j.a.Anchor({addTo:w,translate:{x:9,z:30}});new j.a.Shape({addTo:T,path:[{x:-3,y:0},{arc:[{x:-3,y:-3},{x:0,y:-3}]},{arc:[{x:3,y:-3},{x:3,y:0}]},{x:3,y:-3},{x:-3,y:-3}],translate:{y:-3},fill:!0,stroke:1,color:l.deep});var k=new j.a.Rect({addTo:T,width:6,height:10,translate:{y:-1},stroke:1,color:l.deep});k.copy({height:4,translate:{y:2}}),k.copy({width:2,height:4,translate:{y:2}}),T.copyGraph({translate:{x:15,z:30}}),T.copyGraph({translate:{x:21,z:30}}),T.copyGraph({translate:{x:-9,z:30}});var D=T.copyGraph({translate:{x:24,z:27},rotate:{y:-i/4}});D.copyGraph({translate:{x:24,z:21}}),D.copyGraph({translate:{x:24,z:15}}),D.copyGraph({translate:{x:24,z:9}}),D.copyGraph({translate:{x:24,z:3}}),T.copyGraph({translate:{x:-12,z:27},rotate:{y:i/4}}).copyGraph({translate:{x:-12,z:21}});var A=new j.a.Shape({addTo:n,path:[{x:-12,y:2},{x:6,y:2},{x:6,y:0,z:-6},{x:-6,y:0,z:-6}],translate:{y:-6,z:30},fill:!0,stroke:e.stroke,color:l.dark});return A.copy({path:[{x:24,y:2},{x:6,y:2},{x:6,y:0,z:-6},{x:18,y:0,z:-6}]}),A.copy({path:[{x:18,y:0,z:-6},{x:24,y:2},{x:24,y:2,z:-18},{x:18,y:0,z:-18}],color:l.deep}),A.copy({path:[{x:24,y:2,z:-18},{x:18,y:0,z:-18},{x:18,y:0,z:-30},{x:24,y:2,z:-30}],color:l.deep}),A.copy({path:[{x:-6,y:0,z:-6},{x:-12,y:2},{x:-12,y:2,z:-12},{x:-6,y:0,z:-12}]}),new j.a.Rect({addTo:n,width:12,height:12,translate:{x:12,y:-6,z:18},rotate:{x:-i/4},fill:!0,stroke:e.stroke,color:l.dark}),{shape:n,animate:function(e,t){var a=Math.abs(Math.round(t.y/i*360)-180),n=a<=50||60<=a&&a<=65,r=n?l.highlight:l.deep,o=n||l.deep;s.forEach(function(e){e.backface=r}),c.forEach(function(e){e.backface=o})}}},ZdogSpookyHouse.addInteriorScene=function(e){var t=ZdogSpookyHouse.color,a=j.a.TAU,n=[{y:0},{y:1}],r=new j.a.Anchor({addTo:e.addTo,translate:e.translate,rotate:e.rotate}),o=t.medium,i=new j.a.Anchor({addTo:r,rotate:{z:.1}});new j.a.Rect({addTo:i,width:9,height:4,rotate:{x:a/4},fill:!0,color:o,stroke:1.5});var l=new j.a.Shape({addTo:i,path:n,scale:3,translate:{x:-4.5,z:-2},color:o,stroke:1.5});l.copy({translate:{x:4.5,z:-2}}),l.copy({translate:{x:4.5,z:2}}),l.copy({translate:{x:-4.5,z:2}});var s=new j.a.Anchor({addTo:i,translate:{y:-8}}),c=new j.a.Group({addTo:s,rotate:{y:a/2}}),d=new j.a.Rect({addTo:c,width:10,height:5,color:t.deep,fill:!0,stroke:1.5});new j.a.Rect({addTo:c,width:9.5,height:4.5,color:t.highlight,backface:!1,fill:!0,stroke:!1}),d.copy({addTo:s,width:5,height:2,rotate:{x:a/4},translate:{y:5}}),new j.a.Shape({addTo:s,path:n,scale:2,translate:{y:3.1},stroke:1.5,color:t.deep});var p=new j.a.Anchor({addTo:r,translate:{z:-15},rotate:{z:-.1}});new j.a.Rect({addTo:p,width:3,height:3,rotate:{x:a/4},fill:!0,stroke:1.5,color:o}),new j.a.Shape({addTo:p,path:n,scale:3,stroke:1.5,color:o});var u=new j.a.Shape({addTo:p,path:[{},{z:-2.5,y:.5}],translate:{y:3},stroke:1,color:o});u.copy({rotate:{y:a/5*1}}),u.copy({rotate:{y:a/5*2}}),u.copy({rotate:{y:a/5*3}}),u.copy({rotate:{y:a/5*4}}),new j.a.Rect({addTo:p,width:3,height:4,translate:{z:-2.5,y:-2},rotate:{x:.2},stroke:1.5,color:o,fill:!0});var m=t.deep,h=new j.a.Anchor({addTo:r,translate:{z:-13,y:-6},scale:.6}),v=new j.a.Shape({addTo:h,path:[{x:-1},{x:-1.5,y:-3},{x:1.5,y:-3},{x:1}],rotate:{x:.4},stroke:1.5,color:m,fill:!0});new j.a.Shape({addTo:v,path:n,scale:-1,translate:{y:-5.5},stroke:2.5,color:m});var g=new j.a.Shape({addTo:v,path:[{},{y:3},{z:2,y:4}],translate:{x:-1.5,y:-3},rotate:{x:1,z:.5},scale:1.25,closed:!1,stroke:1.5,color:m});g.copy({translate:{x:1.5,y:-3},rotate:{z:-1}});var _=new j.a.Shape({addTo:h,path:[{x:-1},{x:1}],translate:{y:2,z:.5},stroke:2,color:m});return g.copy({addTo:_,scale:{x:1.75,y:1.75,z:-1.75},translate:{x:-1.5},rotate:{x:1.8,z:.1}}).copy({translate:{x:1.5},rotate:{x:1,z:-.2}}),{animate:function(e){i.translate.y=-1*Math.sin(6*e),p.translate.y=2*Math.sin(7*e),h.translate.y=2*Math.sin(8*e)-6}}},ZdogSpookyHouse.getConeTree=function(e){j.a.extend(e,{rotate:{x:j.a.TAU/4},stroke:!1,color:ZdogSpookyHouse.color.deep});var t=new j.a.Cone(e);return t.copy({addTo:t,rotate:null,translate:{z:Math.round(e.length/2)}}),t},ZdogSpookyHouse.getGraveIsland=function(e){var t=j.a.TAU,a=ZdogSpookyHouse.color,n=new j.a.Anchor({addTo:e.addTo,translate:e.translate});ZdogSpookyHouse.getPyramid({addTo:n,scale:{x:9,y:-9,z:9},color:a.deep,snub:e.snub}),new j.a.Rect({width:18,height:18,addTo:n,rotate:{x:t/4},color:a.dark,stroke:4,fill:!0});var r=new j.a.Rect({addTo:n,width:4,height:4,translate:{x:-4,y:-6},rotate:{y:t/4},stroke:3,color:a.medium});return new j.a.Ellipse({addTo:r,diameter:4,translate:{y:-2},stroke:3,color:a.medium}),n},r=j.a.TAU,o=ZdogSpookyHouse.color,i=[{move:{x:0,y:14}},{line:{x:-12,y:2}},{move:{x:-4,y:10}},{line:{x:-10,y:10}},{move:{x:-8,y:6}},{line:{x:-8,y:0}},{line:{x:-12,y:-4}},{move:{x:0,y:8}},{line:{x:-4,y:4}},{move:{x:0,y:2}},{line:{x:-10,y:-8}},{move:{x:0,y:-4}},{line:{x:-4,y:-8}},{line:{x:-4,y:-10}},{move:{x:0,y:12}},{line:{x:6,y:6}},{line:{x:10,y:6}},{move:{x:2,y:10}},{line:{x:8,y:10}},{move:{x:0,y:6}},{line:{x:12,y:-6}},{move:{x:8,y:-2}},{line:{x:8,y:-8}},{move:{x:4,y:2}},{line:{x:12,y:2}},{move:{x:0,y:0}},{line:{x:4,y:-4}},{move:{x:0,y:-6}},{line:{x:4,y:-10}}],ZdogSpookyHouse.getLeafTree=function(e){var t=-e.height;j.a.extend(e,{path:[{y:0},{y:t-26}],stroke:.5,color:o.deep});var a=new j.a.Shape(e),n=new j.a.Anchor({addTo:a,translate:{y:t-14},rotate:{y:-r/8}});return new j.a.Shape({addTo:n,path:i,closed:!1,stroke:.6,color:o.deep}).copyGraph({rotate:{y:r/4}}),a},l=j.a.TAU,e=Math.sqrt(2),s=[{x:-1},{x:1},{y:-e}],c=[{x:-1},{x:1},{x:.5,y:-.5*e},{x:-.5,y:-.5*e}],ZdogSpookyHouse.getPyramid=function(e){var t=new j.a.Anchor({addTo:e.addTo,translate:e.translate,scale:e.scale,rotate:e.rotate}),a=e.stroke||4,n=new j.a.Anchor({addTo:t});return new j.a.Shape({addTo:n,path:e.snub?c:s,translate:{z:1},rotate:{x:l/8},stroke:a,fill:!0,color:e.color,backface:void 0===e.backface||e.backface}),n.copyGraph({rotate:{y:l/4}}),n.copyGraph({rotate:{y:l/2}}),n.copyGraph({rotate:{y:3*l/4}}),e.snub&&new j.a.Rect({addTo:t,translate:{y:-.5},rotate:{x:-l/4},color:e.color,stroke:4,fill:!0}),t},d=["color","stroke","fill","width","height","backface"],ZdogSpookyHouse.getWallPanel=function(e){var t;return e.pane?t=function(a){var e=new j.a.Group(a.wall),t=d.reduce(function(e,t){return e[t]=a.wall[t],e},{});t.addTo=e;var n=new j.a.Rect(t);return a.wallRectCallback&&a.wallRectCallback(n),new j.a.Rect({addTo:e,width:8,height:6,translate:{y:-1},color:ZdogSpookyHouse.color.dark,fill:!0,stroke:!1,backface:!1}),new j.a.Rect({addTo:e,width:4,height:6,translate:{y:-1},color:a.pane,fill:!0,stroke:!1}),e}(e):(t=new j.a.Rect(e.wall),e.wallRectCallback&&e.wallRectCallback(t)),t},ZdogSpookyHouse.init=function(e){var r=j.a.TAU,t=ZdogSpookyHouse.color,a=Math.floor(e.width/135)/2,o=new j.a.Illustration({element:e,zoom:a,rotate:{y:r/8},dragRotate:!0,onDragStart:function(){ZdogSpookyHouse.wobbling=!1}}),n=new j.a.Anchor({addTo:o,translate:{y:ZdogSpookyHouse.sceneY}}),i=new j.a.Anchor({addTo:n});new j.a.Rect({addTo:i,width:72,height:72,rotate:{x:r/4},color:t.dark,stroke:4,fill:!0,backface:!1}),ZdogSpookyHouse.getPyramid({addTo:i,scale:{x:36,y:-52,z:36},translate:{y:2},color:t.darker}),ZdogSpookyHouse.getPyramid({addTo:i,scale:{x:12,y:-28,z:12},translate:{x:-12,y:18,z:8},color:t.darker,backface:!1}),ZdogSpookyHouse.getPyramid({addTo:i,scale:{x:8,y:-28,z:8},translate:{x:8,y:8,z:-22},color:t.darker,backface:!1}),ZdogSpookyHouse.getLeafTree({addTo:i,height:3,translate:{x:-35,z:3}});var l=new j.a.Anchor({addTo:i,translate:{x:20,y:54,z:-16},scale:{x:4,y:-8,z:4}});ZdogSpookyHouse.getPyramid({addTo:l,scale:{y:-1},color:t.deep}),ZdogSpookyHouse.getPyramid({addTo:l,color:t.deep});var s=new j.a.Group({addTo:n,translate:{x:18,z:80},scale:ZdogSpookyHouse.hillScale,updateSort:!0}),c=new j.a.Anchor({addTo:s,scale:{x:24,y:32,z:24}});ZdogSpookyHouse.getPyramid({addTo:c,color:t.dark}),ZdogSpookyHouse.getPyramid({addTo:c,scale:{y:-1},snub:!0,color:t.deep}),ZdogSpookyHouse.getPyramid({addTo:s,scale:{x:6,y:-14,z:6},translate:{x:-8,y:12,z:8},color:t.deep}),ZdogSpookyHouse.getPyramid({addTo:s,scale:{x:12,y:46,z:12},translate:{x:-12,z:-4},color:t.dark}),ZdogSpookyHouse.getConeTree({addTo:s,diameter:8,length:10,translate:{x:2,y:-15,z:18}}),ZdogSpookyHouse.getConeTree({addTo:s,diameter:8,length:10,translate:{x:15,y:-8,z:16}}),ZdogSpookyHouse.getConeTree({addTo:s,diameter:8,length:10,translate:{x:22,y:-3,z:5}});var d=t.dark,p=t.deep,u=new j.a.Group({addTo:n,translate:{x:-52,z:-64},scale:ZdogSpookyHouse.hillScale,updateSort:!0});ZdogSpookyHouse.getPyramid({addTo:u,scale:{x:26,y:60,z:26},color:d}),ZdogSpookyHouse.getPyramid({addTo:u,scale:{x:14,y:52,z:14},translate:{x:12,y:-2,z:-12},color:d}),ZdogSpookyHouse.getPyramid({addTo:u,scale:{x:26,y:-26,z:26},color:p}),ZdogSpookyHouse.getPyramid({addTo:u,scale:{x:10,y:-20,z:10},translate:{x:12,y:2,z:-12},color:p}),ZdogSpookyHouse.getConeTree({addTo:u,diameter:8,length:10,translate:{x:18,y:-26,z:0}}),ZdogSpookyHouse.getConeTree({addTo:u,diameter:8,length:10,translate:{x:32,y:-8,z:-4}}),ZdogSpookyHouse.getConeTree({addTo:u,diameter:8,length:10,translate:{x:10,y:-16,z:24}}),ZdogSpookyHouse.getConeTree({addTo:u,diameter:8,length:10,translate:{x:0,y:-28,z:-22}});var m=new j.a.Group({addTo:n,translate:{x:76,z:36},scale:ZdogSpookyHouse.hillScale,updateSort:!0});ZdogSpookyHouse.getPyramid({addTo:m,scale:{x:20,y:36,z:20},color:t.dark}),ZdogSpookyHouse.getPyramid({addTo:m,scale:{x:20,y:-24,z:20},color:t.deep,snub:!0}),ZdogSpookyHouse.getConeTree({addTo:m,diameter:8,length:10,translate:{x:10,y:-10,z:18}}),ZdogSpookyHouse.getConeTree({addTo:m,diameter:8,length:10,translate:{x:16,y:-16}}),ZdogSpookyHouse.getConeTree({addTo:m,diameter:8,length:10,translate:{x:-14,y:-18,z:-10}}),l.copyGraph({addTo:m,scale:{x:4,y:-6,z:4},translate:{x:0,y:28,z:2}});var h=new j.a.Group({addTo:n,translate:{x:-78,z:-36},scale:ZdogSpookyHouse.hillScale,updateSort:!0}),v=t.dark,g=t.deep;ZdogSpookyHouse.getPyramid({addTo:h,scale:{x:26,y:42,z:26},color:v}),ZdogSpookyHouse.getPyramid({addTo:h,scale:{x:26,y:-40,z:26},color:g,snub:!0}),ZdogSpookyHouse.getPyramid({addTo:h,scale:{x:14,y:29,z:14},translate:{x:12,y:-2,z:-12},color:v}),ZdogSpookyHouse.getPyramid({addTo:h,scale:{x:16,y:54,z:16},translate:{x:-4,y:-2,z:-4},color:v}),ZdogSpookyHouse.getConeTree({addTo:h,diameter:8,length:10,translate:{x:-16,y:-24,z:6}}),ZdogSpookyHouse.getConeTree({addTo:h,diameter:8,length:10,translate:{x:-22,y:-14,z:-16}}),ZdogSpookyHouse.getConeTree({addTo:h,diameter:8,length:8,translate:{x:-22,y:-10,z:15}});var _=new j.a.Anchor({addTo:h,scale:{x:6,y:9,z:6},translate:{x:0,y:40,z:0}});ZdogSpookyHouse.getPyramid({addTo:_,color:g}),ZdogSpookyHouse.getPyramid({addTo:_,scale:{y:-1.2},color:g}),_.copyGraph({scale:{x:2,y:4,z:4},translate:{x:24,y:29,z:-8}}),ZdogSpookyHouse.getGraveIsland({addTo:n,translate:{x:62,z:-32}}),ZdogSpookyHouse.getGraveIsland({addTo:n,translate:{x:60,z:-60}}),ZdogSpookyHouse.getGraveIsland({addTo:n,translate:{x:32,z:-64}});var y=t.darker,b=new j.a.Anchor({addTo:n,translate:{y:-94}}),E=new j.a.Shape({addTo:b,translate:{z:-64},stroke:32,scale:2,color:y});new j.a.Shape({addTo:E,translate:{x:-9,y:4,z:4},stroke:16,color:y}).copy({translate:{x:9,y:5,z:6},stroke:20});var S=new j.a.RoundedRect({addTo:E,width:26,height:12,cornerRadius:6,translate:{x:-6,y:7,z:4},rotate:{x:r/4},stroke:6,color:y,fill:!0});S.copy({translate:{x:6,y:9,z:8}});var f=new j.a.Anchor({addTo:n,translate:{y:-60}}),C=new j.a.Anchor({addTo:f,translate:{z:88}});new j.a.Hemisphere({addTo:C,diameter:36,rotate:{x:r/4},color:y,stroke:6}),E.copy({addTo:C,translate:{x:16,y:-14,z:-4}}),S.copy({addTo:C,width:28,height:16,cornerRadius:8,stroke:10,scale:2,translate:{x:8,y:2,z:4}});var I=ZdogSpookyHouse.addHouse({addTo:i,stroke:1/o.zoom});ZdogSpookyHouse.addCats({addTo:i}),ZdogSpookyHouse.addBones({addTo:i});var O=ZdogSpookyHouse.addInteriorScene({addTo:I.shape,translate:{z:6}}),w=ZdogSpookyHouse.addFogMonster({addTo:n,translate:{y:12}}),T=ZdogSpookyHouse.addCarRoad({addTo:n}),k=0,D=300;!function e(){var t=k/D;if(ZdogSpookyHouse.wobbling&t<=2){var a=j.a.easeInOut(t%1)*r,n=-3*r/64;o.rotate.y=Math.sin(a)*n+r/8,o.rotate.x=(-.5*Math.cos(a)+.5)*n}o.normalizeRotate(),w.animate(t),T.animate(t),I.animate(t,o.rotate),O.animate(t),b.rotate.y=t*r/12,f.rotate.y=t*r/16,i.translate.y=4*Math.sin(t/4*r),m.translate.y=-4*Math.sin(t/1.5*r),h.translate.y=-4*Math.sin(t/2.5*r),u.translate.y=4*Math.sin(t/3*r),s.translate.y=4*Math.sin(t/2*r),k++,o.updateRenderGraph(),requestAnimationFrame(e)}()};var t=document.querySelector(".zdog-canvas");ZdogSpookyHouse.init(t)}},"2TyT":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABcCAYAAADj79JYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDdGOTQ3RDYzRDc1MTFFQTk1MjRDRjc1M0VCNkRCRjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDdGOTQ3RDczRDc1MTFFQTk1MjRDRjc1M0VCNkRCRjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N0Y5NDdENDNENzUxMUVBOTUyNENGNzUzRUI2REJGNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0N0Y5NDdENTNENzUxMUVBOTUyNENGNzUzRUI2REJGNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr88d9sAAAOESURBVHja7J1ZiI1hHMbfj5GSoiw35I7cOLaSpEkupDGSkosxjLU0yFxa7623dneMpGwzZGmIbGnsa5QtxFiyXCByPG/vufg6Y3Twvf/zLs9Tz+2Z7/z6zf/7zv+c850kn88rRi6diIDACZwhcAJnSktFho/VhM5LkqQtRFBZXc1laXg1egsHNokey42UvmgzoG9CuxFv+yQZvvApfqD76AyMmKscKTInzcHoJRzoMpQnZwHD0zmLzoLtT2m4TCrRGzjoGp405dID3Q3ojWhPjhS7I6U4zwoj5gxHikwGoKfwJNagXWi4fcPTuVa4fLxHw2UyHL2CJ1SPJjTcvuHpHEXnwvbXNFwmVcrsYybzslAufdDDgL4lxH2MayOlOA8KJ9RWjhSZDEIv4smuQDvTcPuGp3MOnQnbn9BwmYxVZh9TS8NlDE9nL7oQtn/wzXBfges8V2Yfc5ojRSb90RaAWId25UiRzfXC5eNdGi6TYcrsYxa7vo8JxfB0jqFzYPsrGi6TicrsY6a4eHChvpveGz0I6NvQ7hwpsnmI1mLEXOZIkclA9DyArXJhHxOD4elcUGYf84iGy2SMvmYHvDoaLp99yuxj3ksaHjNwnRdoHaC3cKTIpB96EjA3SO1jYjc8nZvK7GNu03CZ5NBWgF1qcx9Dw3+fE8rsY17ScJlM0CMGkKdm/cAE3nF6ofsBfUeW+xiOlNJyXJktJA0XyE50WlYPVkGeHeYdugAnzgNZnjQJvMSrFJ407eQb2qDntQ3YNLz9K80agL5j84/QcHN1tREdZRs2Df+LbSEN///ofXhOEnaswD+jswF6eqlvPnCk/Hv0e5r6HfzH5TqAWAz/ga5GK8sJOxbDM/lcCg0vLdvREa7ADtnwt+h8gD7k2oGFCNzKp2c5UtrnK7oErXIVdkiGW/8GBA030XuQ9ehoH2D7brjot9hiN1x/TzPnG2wfDf+ELgLoXb7+W/oEvKzftY9ppOg9yEp0nO+wfTDcmfulxGD4VmX2IMHAdtXwN8rc+L0pwLWDc8CdvatbaCPli77cQ6tDhu2K4V7cmTMEw3+ia5XZg0QBu5yGe3d3ZZ8N34MOjRG2tOEf0XqAblQRRwq4978B4ctI+Y4uR8cTtn3Dg/odH9cN34yOJGz7hrcVXpofIVr7hjejQwj7z0n4I9TxvLQncIbACZwhcAJnOs4vAQYAwpCDXwAmgMUAAAAASUVORK5CYII="},E9gz:function(e,t,a){e.exports={AnalysisCtn:"eventmoderation_AnalysisCtn_1YGfW",AnalysisMissing:"eventmoderation_AnalysisMissing_rH1Dt",ModerationContainer:"eventmoderation_ModerationContainer_4HRKp",FilterContainer:"eventmoderation_FilterContainer_qY07T",Tile:"eventmoderation_Tile_3oU1y",TileEventOtherType:"eventmoderation_TileEventOtherType_3LUrW",TileCapsule:"eventmoderation_TileCapsule_36tP8",NoCapsule:"eventmoderation_NoCapsule_1onVF",TileDetails:"eventmoderation_TileDetails_2mRup",DetailsLeft:"eventmoderation_DetailsLeft_1O0y5",EventTitle:"eventmoderation_EventTitle_3ahHd",DetailsRight:"eventmoderation_DetailsRight_2BaxW",ArtHeader:"eventmoderation_ArtHeader_38IkF",ArtSpotlight:"eventmoderation_ArtSpotlight_2oUPY",DetailsMiddle:"eventmoderation_DetailsMiddle_VcJpZ",ModeratedFlagCtn:"eventmoderation_ModeratedFlagCtn_2JGGc",TitleLink:"eventmoderation_TitleLink_1OG__",TileAppInfo:"eventmoderation_TileAppInfo_2IJ__",TileAppInfoTitle:"eventmoderation_TileAppInfoTitle_2X75q",TileAppInfoImage:"eventmoderation_TileAppInfoImage_1rVmL",TileSplit:"eventmoderation_TileSplit_aaFuC",TileTitle:"eventmoderation_TileTitle_yJw1i",TimeWidth:"eventmoderation_TimeWidth_xSOgV",CategoryChangeDialog:"eventmoderation_CategoryChangeDialog_1VSAj",ModeratorAuditActionCtn:"eventmoderation_ModeratorAuditActionCtn_lx3MC",Button:"eventmoderation_Button_wu9Kr",RightSideTitles:"eventmoderation_RightSideTitles_XDAwD",DateAndTime:"eventmoderation_DateAndTime_2cW9N"}},Ff1b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgJJREFUeNrsmz9LxDAYxpNyIhzICeIkiLM46KAf4EY9HBzcnDwXJ0cnFxddHdQP4ScQcXJxUvDP7qAOLg5Ot8TnpDhIkja5mL5t3hcechDS9Pmlb3mba6VSSqQcmUg8GAADYAAMgAHoQkr5K8QppGouvU9THZAbF+hvo3mDOjVfbOmbApsNMD/SPaDf5HuANQXQN4+fT4ax79CAqK9ZzSWvTYFWwYF2LH2rgHRP0T0W7rNs2maWg4yj2Uq5DtiAplIG0BcJhA1Al0thBsAAGEDToxVzMtQWL38LFBRTk6HHkAWQG+lEGMMpwAAYAANgAAyAATAABsAAGAADIPUw1POYs/ef5xkVAB5jb2KMSToFlFITaMaSBADzw32DK6idHIDc/CW0klwKlDB/bhtsUlEsUjEP3VrO8wySJp+1BlDWvG2hawvAxXzjALiatwEYpRBad4BwgYLmS2NkGs2ax9y70LKh7wTaw3yqLE3fK8Al5nTmoYfA8xy5+swquoSHK38NLQQ87DFWfZ98KUzJfHQA1MxHBUDRfEwAJM3/PG5bvhkK+THRKzRTpXnjC6GRAISMA5g/9EhB5x2hJY+Tu/MY8whti3Kv3Q5g/jnoLlXR6/KOlJWH+S7m+ohwEya3HxDNPMUNERLmqwJAxnwVAEiZjw2AnPmiOiCJ4D9HUwfwLcAAxHgyaE4johYAAAAASUVORK5CYII="},IWyE:function(e,t,a){e.exports={strResponsiveWidth:"910px",strMaxMobileWidth:"700px",strMinMobileHeight:"360px",strDesktopControlBarWidth:"300px",strDesktopGlobalHeaderHeight:"104px",strMobileGlobalHeaderHeight:"62px",strDesktopLabsBannerHeight:"46px",strMobileLabsBannerHeight:"42px",strDesktopGroupHeaderHeight:"70px",strMobileGroupHeaderHeight:"37px",strDesktopTopSpacerHeight:"150px",strMobileTopSpacerHeight:"104px",strEndOfRowsHeight:"60px",SteamLabsBanner:"eventcalendar_SteamLabsBanner_8sQfl",SteamLabsBannerCtn:"eventcalendar_SteamLabsBannerCtn_3olyO",SteamLabsIdentifiers:"eventcalendar_SteamLabsIdentifiers_3SWqw",SteamLabsName:"eventcalendar_SteamLabsName_1wILk",SteamLabsNumber:"eventcalendar_SteamLabsNumber_2ByeP",SteamLabsButton:"eventcalendar_SteamLabsButton_3YoSz",SidebarContainer:"eventcalendar_SidebarContainer_15YLD",SidebarCollapsed:"eventcalendar_SidebarCollapsed_3x2Ig",CollapseButton:"eventcalendar_CollapseButton_1RCio",DesktopButton:"eventcalendar_DesktopButton_2vMIl",SidebarBackground:"eventcalendar_SidebarBackground_1ZO60",Sidebar:"eventcalendar_Sidebar_1nf0v",SidebarTitle:"eventcalendar_SidebarTitle_3uZE-",SidebarBackLink:"eventcalendar_SidebarBackLink_2NQEg",FilterSection:"eventcalendar_FilterSection_34HOA",FilterSubSection:"eventcalendar_FilterSubSection_1Ko6o",FilterSubSectionTitle:"eventcalendar_FilterSubSectionTitle_MeJhm",SidebarManageMutedApps:"eventcalendar_SidebarManageMutedApps_2IWYf",SidebarLink:"eventcalendar_SidebarLink_2VFTM",ForceDesktopLink:"eventcalendar_ForceDesktopLink_1Kydh",ForceResponsiveLink:"eventcalendar_ForceResponsiveLink_3dRqL",SidebarFooter:"eventcalendar_SidebarFooter_3sXsg",MobileButton:"eventcalendar_MobileButton_3cMvc",EventCalendarContainer:"eventcalendar_EventCalendarContainer_1e3Wb",RowContainer:"eventcalendar_RowContainer_3yqpP",WideLeftGutter:"eventcalendar_WideLeftGutter_ws9AN",Rows:"eventcalendar_Rows_r3Dia",DisappearingHeaderSpacer:"eventcalendar_DisappearingHeaderSpacer_1l_KP",FutureSection:"eventcalendar_FutureSection_290nk",PastSection:"eventcalendar_PastSection_3FpvG",DarkerBackground:"eventcalendar_DarkerBackground_1U2BW",EmptySectionText:"eventcalendar_EmptySectionText_3TwYr",CalendarRow:"eventcalendar_CalendarRow_398u2",GroupHeader:"eventcalendar_GroupHeader_3j2de",GroupHeaderTitle:"eventcalendar_GroupHeaderTitle_2aVLR",FutureHint:"eventcalendar_FutureHint_8a9Pv",HeaderAtTop:"eventcalendar_HeaderAtTop_2VZun",EndOfRows:"eventcalendar_EndOfRows_1lK7p",ErrorText:"eventcalendar_ErrorText_2dLzG",LiveText:"eventcalendar_LiveText_14EbB",LoginPrompt:"eventcalendar_LoginPrompt_1EXXC",LoginButton:"eventcalendar_LoginButton_1wuxX"}},JtYz:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjJDNUE2RjczRDc4MTFFQUJCNUM5MTQ1OEUyRDM3MUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjJDNUE2RjgzRDc4MTFFQUJCNUM5MTQ1OEUyRDM3MUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMkM1QTZGNTNENzgxMUVBQkI1QzkxNDU4RTJEMzcxQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMkM1QTZGNjNENzgxMUVBQkI1QzkxNDU4RTJEMzcxQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpcPAGYAAABcSURBVHjaYvz//z8DNQHjCDQQRAANNQBS9kAsSKY574H4ICMj4wVGqGEBVHLgBpCBeUCGEJUMfMdERcNAQIiJgcpg1MBBauA7KpoHToeHqGjgIZrk5RFWHgIEGADwni0lk+j0EwAAAABJRU5ErkJggg=="},Lql7:function(e,t,a){e.exports={DevSummaryCtn:"creatorhomeembed_DevSummaryCtn_1k0S-",DevSummaryWidgetCtn:"creatorhomeembed_DevSummaryWidgetCtn_A2B2V",SmallFormat:"creatorhomeembed_SmallFormat_18tLe",DevSummaryBackground:"creatorhomeembed_DevSummaryBackground_1TsqA",DevSummaryContent:"creatorhomeembed_DevSummaryContent_23xa4",Avatar:"creatorhomeembed_Avatar_3Jepb",CreatorTitleCtn:"creatorhomeembed_CreatorTitleCtn_2T8Ub",CreatorNameName:"creatorhomeembed_CreatorNameName_8196l",CreatorTagline:"creatorhomeembed_CreatorTagline_NX5We",Title:"creatorhomeembed_Title_37vyV",Followers:"creatorhomeembed_Followers_2ZpFi",FollowBtnCtn:"creatorhomeembed_FollowBtnCtn_2artm",FollowButton:"creatorhomeembed_FollowButton_1HwWX",FollowBtnText:"creatorhomeembed_FollowBtnText_1a5dj",SocialContainer:"creatorhomeembed_SocialContainer_1o1Ds",SocialImg:"creatorhomeembed_SocialImg_2v_K1",SocialLink:"creatorhomeembed_SocialLink_3eCVb"}},SS32:function(e,t,a){e.exports={carouselBtnCtn:"carousel_carouselBtnCtn_3zfZ9",left:"carousel_left_S8IHd",right:"carousel_right_Cq59o",carouselBtnImg:"carousel_carouselBtnImg_2uouo"}},Wym2:function(e,t,a){"use strict";a.r(t);var G=a("mrSG"),k=a("q1tI"),s=a.n(k),n=a("vDqi"),g=a.n(n),r=a("okNM"),m=a("2vnA"),o=a("Gp1o"),i=a("uuth"),_=a("ylkE"),D=a("cGQe"),l=a("qiKp"),A=a("9w6b"),L=a("6oCP"),h=a("r64O"),j=a("TLQK"),y=a("bDQf"),M=a("lkRc"),b=a("KEpR"),c=a("5bld"),d=new(function(){function e(){this.m_mapBlockedAppIds=new Map,this.m_mapBlockedClanIds=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var t=this;if(!this.m_bLoadedFromConfig){var e=Object(M.f)("mutedcomminfo","application_config");this.ValidateStoreDefault(e)&&("dev"!=M.c.WEB_UNIVERSE&&"beta"!=M.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CMutedCommunicationStore loading bundles payload: "+JSON.stringify(e)),e.appids&&e.appids.forEach(function(e){return t.m_mapBlockedAppIds.set(e,!0)}),e.clanids&&e.clanids.forEach(function(e){return t.m_mapBlockedClanIds.set(e,!0)})),this.m_bLoadedFromConfig=!0}},e.prototype.ValidateStoreDefault=function(e){var t=e;return!(!t||"object"!=typeof t)&&(Array.isArray(t.appids)&&0<t.appids.length||Array.isArray(t.clanids)&&0<t.clanids.length)},e.prototype.BIsEventBlocked=function(e){return this.LazyInit(),e.appid?this.m_mapBlockedAppIds.has(e.appid):!!e.clanInfo&&this.m_mapBlockedClanIds.has(e.clanInfo.clanid)},e.prototype.BIsMutedAppID=function(e){return this.LazyInit(),this.m_mapBlockedAppIds.has(e)},e.prototype.BIsMutedClanID=function(e){return this.LazyInit(),this.m_mapBlockedClanIds.has(e)},e.prototype.UpdateCommunitionSetting=function(r,o,i){return Object(G.b)(this,void 0,void 0,function(){var t,a,n;return Object(G.e)(this,function(e){switch(e.label){case 0:if(this.LazyInit(),t=M.c.STORE_BASE_URL+"account/optoutappcommunication/",(a=new FormData).append("sessionid",M.c.SESSIONID),a.append("allowCommunication",r?"1":"0"),o){if(!r&&this.m_mapBlockedAppIds.has(o)||r&&!this.m_mapBlockedAppIds.has(o))return[2,!0];r?this.m_mapBlockedAppIds.delete(o):this.m_mapBlockedAppIds.set(o,!0),a.append("appId",o.toString())}else{if(!i)return Object(h.a)(!1,"BlockEventsFromCalenderEvent: Invalid AppID and ClanID"),[2,!1];if(!r&&this.m_mapBlockedClanIds.has(i)||r&&!this.m_mapBlockedClanIds.has(i))return[2,!0];r?this.m_mapBlockedClanIds.delete(i):this.m_mapBlockedClanIds.set(i,!0),a.append("clanId",i.toString())}e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g.a.post(t,a)];case 2:return[2,1==e.sent().data.success];case 3:return n=e.sent(),console.error("Blocking app id hit error "+Object(y.a)(n)),[2,!1];case 4:return[2]}})})},e}());window.g_MutedCommunicationStore=d;var p=a("O0NR"),N=a("ee7K");function E(e,t,a,n){return{strId:"section-"+t,strSectionLabel:t,rtSectionStart:a,rtSectionEnd:n,bIsFutureSection:e<=a,nRenderedHeight:3e3}}var u=function(){function e(e){this.m_nForwardStuckCount=0,this.m_nBackwardStuckCount=0,this.m_mapCalendarAppsByID=new Map,this.m_mapCalendarClansByID=new Map,this.m_mapCalendarEventsByGid=new Map,this.m_rgSortedCalendarEvents=new Array,this.m_bFinishedSearchingForward=!1,this.m_bFinishedSearchingBackward=!1,this.m_rgCalendarSections=[],this.m_key=e}return e.prototype.BIsGlobalCalendar=function(){return!this.m_key.appids&&!this.m_key.clanaccountids},e.prototype.BIsSingleSourceCalendar=function(){return Boolean(this.BIsSingleGroupCalendar()?!this.BIsSingleAppCalendar():this.BIsSingleAppCalendar())},e.prototype.BIsSingleSourceMuted=function(){return!!this.BIsSingleSourceCalendar()&&(this.BIsSingleAppCalendar()?d.BIsMutedAppID(this.GetSingleAppID()):d.BIsMutedClanID(this.GetSingleGroupID()))},e.prototype.BIsSingleGroupCalendar=function(){return Boolean(this.m_key.clanaccountids&&1==this.m_key.clanaccountids.length)},e.prototype.GetSingleGroupID=function(){return this.m_key.clanaccountids[0]},e.prototype.BIsSingleAppCalendar=function(){return Boolean(this.m_key.appids&&1==this.m_key.appids.length)},e.prototype.GetSingleAppID=function(){return this.m_key.appids[0]},e.prototype.GetRequestInFlight=function(e){return"forward"===e?this.m_forwardRequestInFlight:this.m_backwardRequestInFlight},e.prototype.SetRequestInFlight=function(e,t){Object(h.a)(!t||!this.GetRequestInFlight(e),"Already have a request in flight for",e),"forward"===e?this.m_forwardRequestInFlight=t:this.m_backwardRequestInFlight=t},e.prototype.GetCalendarEventList=function(){return this.m_rgSortedCalendarEvents},e.prototype.GetCalendarItemsInTimeRange=function(t,a){var e=this.GetCalendarEventList().filter(function(e){return e.start_time>=t&&(!a||e.start_time<a)&&b.c.BShouldDisplayEvent(e)}),n=a?this.BHitBackwardHorizon()||this.GetCalendarEventList().some(function(e){return e.start_time<t}):this.BHitForwardHorizon();return n||this.LoadAdditionalEvents(a?"backward":"forward"),{rgCalendarItems:e,bIsComplete:n}},e.prototype.GetCalendarSections=function(){return this.m_rgCalendarSections},e.prototype.BMayHaveAnyVisibleFutureEvents=function(){var t=this.GetStoreInitializationTimestamp().getTime()/1e3;return this.GetCalendarEventList().some(function(e){return e.start_time>=t&&b.c.BShouldDisplayEvent(e)})},e.prototype.GetStoreInitializationTimestamp=function(){return this.m_dtInitTime||(this.m_dtInitTime=new Date),this.m_dtInitTime},e.prototype.InitCalendarSections=function(){var t=this,e=this.GetStoreInitializationTimestamp(),a=[],n=e.getTime()/1e3;a.push(E(n,Object(j.c)("#EventCalendar_FutureEventsHeader"),n));var r=new Date(e);r.setHours(0,0,0,1);var o=r.getTime()/1e3;a.push(E(n,Object(j.c)("#Time_Today"),o,n)),r.setDate(r.getDate()-1);var i=o;o=r.getTime()/1e3,a.push(E(n,Object(j.c)("#Time_Yesterday"),o,i));for(var l=this.m_rgSortedCalendarEvents[this.m_rgSortedCalendarEvents.length-1],s=!1,c=0;c<5&&!s;c++)r.setDate(r.getDate()-1),i=o,o=r.getTime()/1e3,a.push(E(n,Object(j.e)(r),o,i)),l&&l.start_time>o&&(s=!0);for(var d=new Date(r),p=o;d.getMonth()==e.getMonth()&&1!=d.getDate()&&!s;){d.setDate(d.getDate()-7);var u=d.getTime()/1e3;a.push(E(n,Object(j.d)(u),u,p)),l&&l.start_time>u&&(s=!0),p=u}var m=new Date(e);m.setHours(0,0,0,1),m.setDate(1);for(var h=p,v=1;v<=14&&!s;v++){var g=new Date(m);g.setMonth(e.getMonth()-v,1);var _=g.getTime()/1e3;a.push(E(n,Object(j.d)(_),_,h)),l&&l.start_time>_&&(s=!0),h=_}this.m_rgCalendarSections.length>a.length?this.m_rgCalendarSections.splice(a.length,this.m_rgCalendarSections.length):a.splice(this.m_rgCalendarSections.length,a.length).forEach(function(e){return t.m_rgCalendarSections.push(e)})},e.prototype.BHitForwardHorizon=function(){return this.m_bFinishedSearchingForward},e.prototype.BHitBackwardHorizon=function(){return this.m_bFinishedSearchingBackward},e.prototype.RegisterCalendarEventsAndModels=function(e){this.RegisterCalendarApps(e.apps),this.RegisterCalendarClans(e.clans),this.RegisterCalendarEvents(e.documents),L.c.RegisterClanEvents(e.events),this.RegisterReadEvents(e.events_read),this.RegisterEventVotes(e.event_votes),e.forwardComplete&&(this.m_bFinishedSearchingForward=!0),e.backwardComplete&&(this.m_bFinishedSearchingBackward=!0),this.InitCalendarSections()},e.prototype.RegisterCalendarApps=function(e){if(e)for(var t=0,a=e;t<a.length;t++){var n=a[t];if(!this.m_mapCalendarAppsByID.has(n.appid)){var r=new c.b;r.appid=n.appid,r.source=n.source,r.playtime=n.playtime,r.last_played=n.last_played,r.wishlist_added=n.wishlist_added,this.m_mapCalendarAppsByID.set(n.appid,r)}}},e.prototype.RegisterCalendarClans=function(e){if(e)for(var t=0,a=e;t<a.length;t++){var n=a[t];if(!this.m_mapCalendarClansByID.has(n.clanid)){var r=new c.c;r.clanid=n.clanid,r.source=n.source,this.m_mapCalendarClansByID.set(n.clanid,r)}}},e.prototype.RegisterReadEvents=function(e){if(e)for(var t=A.a.Get(),a=0,n=e;a<n.length;a++){var r=n[a];t.SetEventAsRead(r)}},e.prototype.RegisterEventVotes=function(e){if(e)for(var t=A.a.Get(),a=0,n=e;a<n.length;a++){var r=n[a],o=void 0===r.vote?void 0:Boolean(r.vote);t.SetVote(r.id,o)}},e.prototype.RegisterCalendarEvents=function(e){if(e){for(var t=this.BIsGlobalCalendar(),a=!1,n=0,r=e;n<r.length;n++){var o=r[n];t&&o.appid&&(d.BIsMutedAppID(o.appid)||N.a.BIsGameIgnored(o.appid))||this.InternalInsertCalendarEventItem(o)&&(a=!0)}a&&this.RebuildSortedCalendarEventList()}},e.prototype.GetTimeEdgeForDirection=function(e,t){return void 0===t&&(t=void 0),"forward"===e?0<this.m_rgSortedCalendarEvents.length?this.m_rgSortedCalendarEvents[0].start_time:t:0<this.m_rgSortedCalendarEvents.length?this.m_rgSortedCalendarEvents[this.m_rgSortedCalendarEvents.length-1].start_time:t},e.prototype.UpdateStuckCounters=function(e,t){var a="forward"===e?this.m_bFinishedSearchingForward:this.m_bFinishedSearchingBackward,n=this.GetTimeEdgeForDirection(e,void 0);return a||n!==t?("forward"==e?this.m_nForwardStuckCount=0:this.m_nBackwardStuckCount=0,!1):("forward"==e?this.m_nForwardStuckCount++:this.m_nBackwardStuckCount++,!0)},e.prototype.LoadAdditionalEvents=function(d,p){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o,i,l,s,c=this;return Object(G.e)(this,function(e){return("forward"===d?this.BHitForwardHorizon():this.BHitBackwardHorizon())?[2,1]:(t=M.c.STORE_BASE_URL+"events/ajaxgetusereventcalendarrange/",a="forward"===d?this.m_nForwardStuckCount:this.m_nBackwardStuckCount,n=3<=a?1:0,r=50*(a<3?a+1:1),15,o=this.GetTimeEdgeForDirection(d,Date.now()/1e3),i={minTime:0,maxTime:0,ascending:!0,maxResults:r,populateEvents:15,appTypes:b.c.GetGameSources().join(","),eventTypes:Array.from(b.c.enabledEventTypeSet).join(","),appIdFilter:Boolean(this.m_key.appids&&0<this.m_key.appids.length)?this.m_key.appids.sort().join(","):void 0,clanIdFilter:Boolean(this.m_key.clanaccountids&&0<this.m_key.clanaccountids.length)?this.m_key.clanaccountids.sort().join(","):void 0},"forward"===d?(i.minTime=o+n,i.ascending=!0):(i.maxTime=o-n,i.ascending=!1),(l=this.GetRequestInFlight(d))||(s=g.a.get(t,{params:i,cancelToken:p?p.token:void 0}),l=s.then(function(e){if(c.SetRequestInFlight(d,null),1==e.data.success){if(c.RegisterCalendarEventsAndModels(e.data),c.UpdateStuckCounters(d,o))return c.LoadAdditionalEvents(d,p)}else console.error("LoadAdditionalEvents was not successful: Msg"+e.data.msg);return e.data.success}).catch(function(e){return c.SetRequestInFlight(d,null),console.error("LoadAdditionalEvents hit error "+Object(y.a)(e)),2}),this.SetRequestInFlight(d,l)),[2,l])})})},e.prototype.InternalInsertCalendarEventItem=function(e){if(!e.unique_id)return Object(h.a)(!1,"Attmpted to register a calendar event item with an invalid unique id!"),!1;if(this.m_mapCalendarEventsByGid.has(e.unique_id))return!1;var t=this.m_mapCalendarAppsByID.get(e.appid),a=this.m_mapCalendarClansByID.get(e.clanid);if(!t&&!a)return console.log("No AppInfo or ClanInfo For: ",e),!1;var n=new c.d;return n.clanid=e.clanid,n.unique_id=e.unique_id,n.event_type=e.event_type,n.appid=e.appid,n.start_time=e.start_time,n.score=e.score,n.appInfo=t,n.clanInfo=a,this.m_rgSortedCalendarEvents.push(n),this.m_mapCalendarEventsByGid.set(n.unique_id,n),!0},e.prototype.RebuildSortedCalendarEventList=function(){var e=this.m_rgSortedCalendarEvents.slice();this.m_rgSortedCalendarEvents=e.sort(function(e,t){return t.start_time-e.start_time})},e.prototype.UpdateEventBlockFromCalenderEvent=function(n,r){return Object(G.b)(this,void 0,void 0,function(){var t,a;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=n.appInfo?n.appid:void 0,a=n.clanInfo?n.clanInfo.clanid:void 0,null==t&&null==a?(Object(h.a)(!1,"Both clan id and account id are missing, cannot change communication status"),[2]):[4,d.UpdateCommunitionSetting(r,t,a)];case 1:return e.sent()&&!r&&this.BIsGlobalCalendar()&&(t||a)&&this.FilterOutCalendarEntryBy(t,a),[2]}})})},e.prototype.FilterOutCalendarEntryBy=function(e,t){var a=new Array;if(e){for(var n=0,r=this.m_rgSortedCalendarEvents;n<r.length;n++){(l=r[n]).appid!=e&&a.push(l)}p.b.RecordAppInteractionEvent(e,p.a.k_eMuted)}else if(t)for(var o=0,i=this.m_rgSortedCalendarEvents;o<i.length;o++){var l;(l=i[o]).clanid!=t&&a.push(l)}this.m_rgSortedCalendarEvents=a},e.prototype.IgnoreAppAndFilterCalendar=function(a){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return[4,N.a.UpdateAppIgnore(a.appInfo.appid,!0)];case 1:return t=e.sent(),this.BIsGlobalCalendar()&&1==t.success&&this.FilterOutCalendarEntryBy(a.appInfo.appid,void 0),[2]}})})},e.m_strCurCalendarKey=null,Object(G.c)([m.observable],e.prototype,"m_mapCalendarEventsByGid",void 0),Object(G.c)([m.observable],e.prototype,"m_rgSortedCalendarEvents",void 0),Object(G.c)([m.observable],e.prototype,"m_bFinishedSearchingForward",void 0),Object(G.c)([m.observable],e.prototype,"m_bFinishedSearchingBackward",void 0),Object(G.c)([m.observable],e.prototype,"m_rgCalendarSections",void 0),Object(G.c)([m.action],e.prototype,"InitCalendarSections",null),Object(G.c)([m.action],e.prototype,"RegisterCalendarEventsAndModels",null),Object(G.c)([m.action],e.prototype,"RegisterCalendarApps",null),Object(G.c)([m.action],e.prototype,"RegisterCalendarClans",null),Object(G.c)([m.action],e.prototype,"RegisterReadEvents",null),Object(G.c)([m.action],e.prototype,"RegisterEventVotes",null),Object(G.c)([m.action],e.prototype,"RegisterCalendarEvents",null),Object(G.c)([m.action],e.prototype,"UpdateEventBlockFromCalenderEvent",null),Object(G.c)([m.action],e.prototype,"FilterOutCalendarEntryBy",null),Object(G.c)([m.action],e.prototype,"IgnoreAppAndFilterCalendar",null),Object(G.c)([m.observable],e,"m_strCurCalendarKey",void 0),e}(),v=new Map;function S(e){var t="";return e.appids&&0<e.appids.length&&(t+="appids:"+e.appids.sort().join(",")),e.clanaccountids&&0<e.clanaccountids.length&&(t+="clanids:"+e.clanaccountids.sort().join(",")),u.m_strCurCalendarKey=t,v.has(u.m_strCurCalendarKey)||v.set(u.m_strCurCalendarKey,new u(e)),t}function B(){return null==u.m_strCurCalendarKey&&S({}),v.get(u.m_strCurCalendarKey)}window.g_EventCalendarMap=v;var f,C,I=function(){return function(){this.m_bHasBeenTracked=!1,this.m_fnSubmit=null}}(),O=new(function(){function e(){this.m_nImpressionDelayMS=500,this.m_mapEvents=new Map}return e.prototype.ShouldTrack=function(e){if(e.bOldAnnouncement)return!1;var t=this.m_mapEvents.get(e.GID);return!t||!t.m_bHasBeenTracked},e.prototype.StartTracking=function(e){if(!e.bOldAnnouncement){var t=this.m_mapEvents.get(e.GID);t||(t=new I,this.m_mapEvents.set(e.GID,t)),t.m_bHasBeenTracked||t.m_fnSubmit||(t.m_fnSubmit=new l.b,t.m_fnSubmit.Schedule(this.m_nImpressionDelayMS,this.ReportImpression.bind(this,e)))}},e.prototype.StopTracking=function(e){var t=this.m_mapEvents.get(e.GID);t&&t.m_fnSubmit&&(t.m_fnSubmit.Cancel(),t.m_fnSubmit=null)},e.prototype.ReportImpression=function(e){A.a.Get().RecordEventShown(e,8),p.b.RecordViewedEvent(B(),e.GID);var t=this.m_mapEvents.get(e.GID);t&&(t.m_bHasBeenTracked=!0,t.m_fnSubmit.Cancel(),t.m_fnSubmit=null)},e}()),x=function(e){var t=e.event;if(O.ShouldTrack(t)){return k.createElement(i.a,{onEnter:function(){return O.StartTracking(t)},onLeave:function(){return O.StopTracking(t)}})}return null},R=a("mgoM"),F=a("U+Q5"),H=a("6Y59"),w=a("YLyR"),P=a("Kw0F"),T=a("bxiW"),z=a("exH9"),U=a("0OaU");(C=f||(f={}))[C.NotLoaded=0]="NotLoaded",C[C.Loading=1]="Loading",C[C.Loaded=2]="Loaded";var V=f.NotLoaded,Z=[];function W(t){if(V!=f.Loaded){if(V==f.NotLoaded){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a),window.onYouTubeIframeAPIReady=Y}Z.findIndex(function(e){return t==e})<0&&Z.push(t)}else t()}function Y(){V=f.Loaded;for(var e=0,t=Z;e<t.length;e++){(0,t[e])()}Z=[]}var J=function(a){function n(e){var t=a.call(this,e)||this;return t.m_strPlayerID="",t.m_player=null,t.m_playerContainer=null,t.m_bPlayerReady=!1,t.m_strPlayerID="YoutubePlayer_"+n.s_nPlayerIndex++,t.state={bYoutubeLoaded:!1},t}return Object(G.d)(n,a),n.prototype.componentWillUnmount=function(){this.DestroyPlayer(),function(e){P.b(Z,e)}(this.OnYoutubeScriptsReady)},n.prototype.shouldComponentUpdate=function(e,t){if(!this.m_player)return!1;var a=this.props;return a.autoplay!=e.autoplay||a.controls!=e.controls||a.showInfo!=e.showInfo||a.video!=e.video?this.CreatePlayer(e):a.width==e.width&&a.height==e.height||this.m_bPlayerReady&&e.width&&e.height&&this.m_player.setSize(e.width,e.height),!1},n.prototype.DestroyPlayer=function(){if(this.m_player)try{this.m_player.stopVideo&&this.m_player.stopVideo(),this.m_player.destroy&&this.m_player.destroy()}catch(e){}finally{this.m_player=null}},n.prototype.BindPlayerContainer=function(e){this.m_playerContainer!=e&&(this.m_playerContainer=e,this.DestroyPlayer(),this.m_playerContainer&&W(this.OnYoutubeScriptsReady))},n.prototype.OnYoutubeScriptsReady=function(){this.CreatePlayer(this.props)},n.prototype.CreatePlayer=function(e){if(this.DestroyPlayer(),this.m_playerContainer){var t=!1===e.autoplay?0:1,a=!0===e.showInfo?1:0,n=!0===e.controls?1:0,r=!0===e.showFullscreenBtn?1:0,o=!0===e.playsInline?1:0,i={width:void 0!==e.width?String(e.width):void 0,height:void 0!==e.height?String(e.height):void 0,videoId:e.video,playerVars:{autoplay:t,showinfo:a,autohide:1,fs:r,modestbranding:1,rel:0,playsinline:o,iv_load_policy:3,controls:n,start:e.startSeconds},events:{onReady:this.OnPlayerReady,onStateChange:this.OnPlayerStateChange,onError:this.OnError}},l=this.m_playerContainer.firstElementChild;this.m_bPlayerReady=!1,this.m_player=new YT.Player(l,i)}},n.prototype.OnPlayerReady=function(e){if(this.m_bPlayerReady=!0,this.props.onVideoInfoChanged){var t=this.m_player.getVideoData(),a={strAuthor:"",strTitle:"",strVideoID:""};t.author&&(a.strAuthor=t.author),t.title&&(a.strTitle=t.title),t.video_id&&(a.strVideoID=t.video_id),this.props.onVideoInfoChanged(a)}this.props.width&&this.props.height&&this.m_player.setSize(this.props.width,this.props.height),this.props.autoplay&&this.m_player.playVideo(),this.props.onPlayerReady&&this.props.onPlayerReady()},n.prototype.OnPlayerStateChange=function(e){switch(e.data){case YT.PlayerState.UNSTARTED:case YT.PlayerState.PLAYING:case YT.PlayerState.PAUSED:case YT.PlayerState.BUFFERING:break;case YT.PlayerState.ENDED:this.props.onMovieEnd&&this.props.onMovieEnd()}},n.prototype.OnError=function(e){console.log("Youtube: Playback failed",e),this.props.onError&&this.props.onError(e)},n.prototype.OnPlayerLeftView=function(){this.props.autopause&&this.m_player&&this.m_bPlayerReady&&this.m_player.pauseVideo()},n.prototype.render=function(){var e=k.createElement("div",{key:this.m_strPlayerID,ref:this.BindPlayerContainer,className:Object(z.a)("YoutubePlayer",this.props.classnames)},k.createElement(U.a,{className:"YoutubePlayerThrobber"}));return this.props.autopause?k.createElement(i.a,{onLeave:this.OnPlayerLeftView},e):e},n.s_nPlayerIndex=0,Object(G.c)([T.a],n.prototype,"BindPlayerContainer",null),Object(G.c)([T.a],n.prototype,"OnYoutubeScriptsReady",null),Object(G.c)([T.a],n.prototype,"CreatePlayer",null),Object(G.c)([T.a],n.prototype,"OnPlayerReady",null),Object(G.c)([T.a],n.prototype,"OnPlayerStateChange",null),Object(G.c)([T.a],n.prototype,"OnError",null),Object(G.c)([T.a],n.prototype,"OnPlayerLeftView",null),n}(k.Component),Q=a("02Wr"),X=function(a){function e(e){var t=a.call(this,e)||this;return t.state={bDismissedPreviewImage:!1},t}return Object(G.d)(e,a),e.prototype.render=function(){var t=this;if(this.props.preloadYoutubeScripts&&W(function(){}),this.state.bDismissedPreviewImage)return k.createElement(J,Object(G.a)({},this.props));var e=this.props.altImg?this.props.altImg:"https://img.youtube.com/vi/"+this.props.video+"/maxresdefault.jpg";return k.createElement("div",{className:Object(z.a)("YoutubePreviewContainer",this.props.imageClassnames),onClick:function(e){t.props.onPlayerActivated&&t.props.onPlayerActivated(),t.setState({bDismissedPreviewImage:!0}),e.stopPropagation(),e.preventDefault()}},this.props.altImgWithFallback&&k.createElement(Q.b,{className:"YoutubePreviewImage",srcs:this.props.altImgWithFallback}),!this.props.altImgWithFallback&&k.createElement("img",{src:e,className:"YoutubePreviewImage"}),k.createElement("div",{className:"YoutubePreviewPlay"},k.createElement(H.D,null)),k.createElement("div",{className:"VideoHintText"},"Watch YouTube Video"))},e}(k.Component),q=a("N0Ye"),K=a("mB/g"),$=a("i6tc"),ee=a.n($),te=a("ir+G"),ae=a("kLLr"),ne=a("TQGK"),re=a("QYE3"),oe=a("5E+2"),ie=a("ka0M"),le=a("Jqb/"),se=a("X3Ds"),ce=a("TtDX"),de=a("y+6m"),pe=a("Ty5D"),ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.OnMuteButton=function(e){var t=this.props.calendarEvent,a=t.GetEntityName();Object(ie.d)(k.createElement(le.b,{strTitle:Object(j.c)("#EventCalendar_MuteApp"),strDescription:Object(j.c)("#EventCalendar_MuteApp_details",a),onOK:function(){return B().UpdateEventBlockFromCalenderEvent(t,!1)}},k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+M.c.STORE_BASE_URL+"account/emailoptout/app",target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#EventCalendar_ManageMutedApps"))),Object(se.m)(e))},t.prototype.OnUnMuteButton=function(){var e=this.props.calendarEvent;B().UpdateEventBlockFromCalenderEvent(e,!0)},t.prototype.IgnoreAppButton=function(e){var t=this.props.calendarEvent;t.GetEntityName();Object(ie.d)(k.createElement(le.b,{strTitle:Object(j.c)("#EventCalendar_Ignore"),strDescription:Object(j.c)("#EventCalendar_IgnoreApp_ttip"),onOK:function(){return B().IgnoreAppAndFilterCalendar(t)}},k.createElement("br",null),k.createElement("p",null,Object(j.c)("#EventCalendar_IgnoreApp_newhub")),k.createElement("br",null),k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+M.c.STORE_BASE_URL+"account/preferences",target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#EventCalendar_ManageStorePref"))),Object(se.m)(e))},t.prototype.UnignoreAppButton=function(){var e=this.props.calendarEvent;N.a.UpdateAppIgnore(e.appInfo.appid,!1)},t.prototype.HideAllEventsOfMyType=function(){var e=this.props.eventModel,t=b.c.MapClanEventTypeToGroup(e.GetEventType());b.c.SetEventTypeGroupAllowed(t,!1)},t.prototype.NoOp=function(){},t.prototype.AddContextMenuForSource=function(e,t,a,n){void 0===n&&(n=!0),b.c.BIsGameSourceAllowed(t)&&(n&&e.push(k.createElement(de.d,{key:"item-source-"+a+"-"+t,disabled:!0,onSelected:function(){}},Object(j.c)("#EventCalender_Reason_"+t))),e.push(k.createElement(de.d,{key:"item-hidesource-"+a+"-"+t,onSelected:function(){b.c.SetGameSourceAllowed(t,!1)}},Object(j.c)("#EventCalender_Hide_Reason_"+t))))},t.prototype.RemoveFromWishlist=function(){N.a.UpdateGameWishlist(this.props.eventModel.appid,!1)},t.prototype.AddToWishlist=function(){N.a.UpdateGameWishlist(this.props.eventModel.appid,!0)},t.prototype.GotoAppID=function(){var e=this.props.eventModel;e.appid&&this.props.history.push("/newshub/app/"+e.appid+"/")},t.prototype.GotoGroupID=function(){var e=this.props.eventModel;e.clanSteamID&&this.props.history.push("/newshub/group/"+e.clanSteamID.GetAccountID()+"/")},t.prototype.CreateContextMenu=function(e){var t=this.props,a=t.eventModel,n=t.calendarEvent,r=[],o=n.GetSource(),i=n.unique_id,l=B();l.BIsGlobalCalendar()&&(o&&o&c.a.k_eLibrary&&(b.c.BIsGameSourceAllowed(b.b.k_ERecent)&&n.appInfo?(r.push(k.createElement(de.d,{key:"item-source-"+i+"-lastplayed",disabled:!0,onSelected:function(){}},Object(j.c)("#EventCalender_LastPlayed",Object(j.l)(Date.now()/1e3-n.appInfo.last_played)))),this.AddContextMenuForSource(r,b.b.k_ERecent,i,!1)):this.AddContextMenuForSource(r,b.b.k_ELibrary,i)),o&&o&c.a.k_eWishlist&&this.AddContextMenuForSource(r,b.b.k_EWishist,i),o&&o&c.a.k_eFollowing&&this.AddContextMenuForSource(r,b.b.k_EFollowing,i),o&&o&c.a.k_eRecommended&&this.AddContextMenuForSource(r,b.b.k_ERecommended,i),o&&o&c.a.k_eSteam&&this.AddContextMenuForSource(r,b.b.k_ESteam,i),o&&o&c.a.k_eFeatured&&this.AddContextMenuForSource(r,b.b.k_EFeatured,i)),r.push(k.createElement(de.d,{key:a.GID+"hidetype",onSelected:this.HideAllEventsOfMyType},Object(j.c)("#EVentCalendar_Hide_EventType",Object(j.c)("#EventCalendar_EventTypeGroup_"+b.c.MapClanEventTypeToGroup(a.GetEventType()))))),M.i.logged_in&&(d.BIsEventBlocked(n)?r.push(k.createElement(de.d,{key:a.GID+"unmuteapp",onSelected:this.OnUnMuteButton},k.createElement(oe.a,{toolTipContent:Object(j.c)("#EventCalendar_UnMuteApp_ttip")},Object(j.c)("#EventCalendar_UnMuteApp_Title",this.props.calendarEvent.GetEntityName())))):r.push(k.createElement(de.d,{key:a.GID+"muteapp",onSelected:this.OnMuteButton},k.createElement(oe.a,{toolTipContent:Object(j.c)("#EventCalendar_MuteApp_ttip")},Object(j.c)("#EventCalendar_MuteApp_Title",this.props.calendarEvent.GetEntityName())))),n.appInfo&&(N.a.BIsGameIgnored(n.appInfo.appid)?r.push(k.createElement(de.d,{key:a.GID+"unignoreapp",onSelected:this.UnignoreAppButton},Object(j.c)("#EventCalendar_UnignoreApp",this.props.calendarEvent.GetEntityName()))):r.push(k.createElement(de.d,{key:a.GID+"ignoreapp",onSelected:this.IgnoreAppButton},k.createElement(oe.a,{toolTipContent:Object(j.c)("#EventCalendar_IgnoreApp_ttip")},Object(j.c)("#EventCalendar_IgnoreApp",this.props.calendarEvent.GetEntityName())))))),l.BIsSingleSourceCalendar()||(a.appid?r.push(k.createElement(de.d,{key:a.GID+"goto",onSelected:this.GotoAppID},Object(j.c)("#EventCalendar_Goto_SpecificCalendar",n.GetEntityName()))):r.push(k.createElement(de.d,{key:a.GID+"goto",onSelected:this.GotoGroupID},Object(j.c)("#EventCalendar_Goto_SpecificCalendar",n.GetEntityName())))),Object(ce.a)(k.createElement(de.c,null,r),e)},t.prototype.render=function(){return k.createElement("div",{className:Object(z.a)(ee.a.FooterStat,ee.a.Options),onClick:this.CreateContextMenu},k.createElement(H.x,null))},Object(G.c)([T.a],t.prototype,"OnMuteButton",null),Object(G.c)([T.a],t.prototype,"OnUnMuteButton",null),Object(G.c)([T.a],t.prototype,"IgnoreAppButton",null),Object(G.c)([T.a],t.prototype,"UnignoreAppButton",null),Object(G.c)([T.a],t.prototype,"HideAllEventsOfMyType",null),Object(G.c)([T.a],t.prototype,"NoOp",null),Object(G.c)([T.a],t.prototype,"AddContextMenuForSource",null),Object(G.c)([T.a],t.prototype,"RemoveFromWishlist",null),Object(G.c)([T.a],t.prototype,"AddToWishlist",null),Object(G.c)([T.a],t.prototype,"GotoAppID",null),Object(G.c)([T.a],t.prototype,"GotoGroupID",null),Object(G.c)([T.a],t.prototype,"CreateContextMenu",null),t=Object(G.c)([r.observer],t)}(k.Component),me=Object(pe.g)(ue),he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bVideoPlayerReady:!1},e}return Object(G.d)(e,t),e.prototype.OnFallbackClick=function(e){p.b.RecordAppInteractionEvent(this.props.calendarEvent.appid,p.a.k_eClickThrough),this.props.fnOnClicked(this.props.eventModel),e.stopPropagation(),e.preventDefault()},e.prototype.componentDidMount=function(){if(this.props.calendarEvent.clanInfo){var e=ae.a.InitFromClanID(this.props.calendarEvent.clanInfo.clanid);ne.a.LoadOGGClanInfoForClanSteamID(e)}},e.prototype.getVideoPreviewControl=function(){var e=this,t=this.props.eventModel,a=t.video_preview_type,n=t.video_preview_id;if(!n)return null;if(this.props.eventModel.type===R.a.k_ESmallUpdateEvent)return null;if("youtube"!==a)return null;var r=Object(R.e)(M.c.LANGUAGE),o=Fe()&&this.props.eventModel.GetEventType()==R.a.k_EMajorUpdateEvent?F.c.full:F.c.capsule_main,i=this.props.eventModel.GetImageForSizeAsArrayWithFallback("capsule",r,o);return k.createElement(X,{video:n,altImgWithFallback:i,autoplay:!0,autopause:!0,showFullscreenBtn:!0,controls:!0,imageClassnames:ee.a.YoutubePreviewImage,onPlayerActivated:function(){p.b.RecordAppInteractionEvent(e.props.calendarEvent.appid,p.a.k_ePlayedVideo),e.setState({bVideoPlayerReady:!0})},preloadYoutubeScripts:!0,playsInline:!0})},e.prototype.render=function(){var e=this.props,t=e.eventModel,a=e.calendarEvent,n=e.bSuppressHoverEffects,r=A.a.Get(),o=a.GetEntityName(),i=a.GetGameCapsule(),l=Object(R.e)(M.c.LANGUAGE),s=t.has_live_stream,c=t.has_live_stream,d=Fe()&&t.GetEventType()==R.a.k_EMajorUpdateEvent?F.c.full:F.c.capsule_main,p="capsule",u=t.BImageNeedScreenshotFallback(p,l),m=u?t.GetFallbackArtworkScreenshot():t.GetImageURLWithFallback(p,l,d),h=this.getVideoPreviewControl(),v=!h,g=t.GetCategoryAsString(),_=ee.a["EventType"+t.GetEventType()],y=t.GetAllTags().map(function(e){return ee.a["Tag-"+e]}),b=z.a.apply(void 0,Object(G.g)([ee.a.TileContainer,_,s&&ee.a.TileVideoIcon,n?ee.a.DisableHovers:ee.a.EnableHovers,this.state.bVideoPlayerReady&&ee.a.VideoPlayerReady,h&&ee.a.HasVideo,r.HasEventBeenRead(t.GID)&&ee.a.HasBeenRead],y)),E=t.GetNameWithFallback(l),S=t.GetSubTitleWithLanguageFallback(l),f=t.GetSummaryWithFallback(l);S===f&&(f=void 0),S===E&&(S=void 0);var C=t.type!==R.a.k_ENewsEvent&&t.type!==R.a.k_ESmallUpdateEvent&&Date.now()/1e3<t.GetStartTimeAndDateUnixSeconds(),I=k.createElement("div",{className:ee.a.CoverImageCtn},h,v&&k.createElement(k.Fragment,null,t.type===R.a.k_ESmallUpdateEvent&&k.createElement("div",{className:ee.a.GameCapsuleCtn},k.createElement("div",{className:ee.a.AppBannerLogo,style:{backgroundImage:"url("+i+")"}})),t.type!==R.a.k_ESmallUpdateEvent&&k.createElement("div",{className:Object(z.a)(ee.a.EventCapsuleCtn)},k.createElement("div",{className:Object(z.a)(ee.a.TileImage,u&&ee.a.FallbackImage),style:{backgroundImage:"url("+m+")"}}),s&&k.createElement("div",{className:ee.a.TileCoverImagePlayable}),c&&k.createElement("div",{className:ee.a.TileCoverLiveIcon},Object(j.c)("#home_page_live_broadcast")))),k.createElement("div",{className:ee.a.EventSummary},k.createElement("div",{className:Object(z.a)(ee.a.TileTextCategoryType,_)},g))),O=n&&t.GetEventType()!=R.a.k_EMajorUpdateEvent&&!h,w=O&&I,T=!O&&I;return k.createElement("div",{className:b},k.createElement(x,{event:t}),k.createElement(K.c,{eventModel:t,route:K.a.k_eView},k.createElement("div",{className:ee.a.Tile,onClick:this.OnFallbackClick},t.type===R.a.k_EMajorUpdateEvent&&k.createElement("div",{className:Object(z.a)(ee.a.TileBackgroundImage,u&&ee.a.FallbackImage),style:{backgroundImage:"url("+m+")"}}),k.createElement("div",{className:ee.a.MainContentContainer},k.createElement("div",{className:ee.a.TileTextContainer},k.createElement("div",{className:ee.a.PatchIconCtn},k.createElement(H.r,null)),k.createElement("div",{className:ee.a.EventTitleCtn},w,k.createElement(ve,Object(G.a)({},this.props)),k.createElement("div",{className:ee.a.EventName},E),S&&k.createElement("div",{className:ee.a.EventSubTitle},S),t.type!==R.a.k_ESmallUpdateEvent&&f&&k.createElement("div",{className:ee.a.EventSummaryDefault},f),k.createElement("div",{className:ee.a.EventTypeAndDateCtn},t.type===R.a.k_ESmallUpdateEvent&&k.createElement("div",{className:ee.a.SmallAppName},o),k.createElement(ge,{eventModel:t}))),C&&k.createElement("div",{className:ee.a.ReminderContainer},k.createElement(D.a,{eventModel:t,eventGID:t.GID,lang:l,bShowStartTime:!0}))),T))),k.createElement(_e,Object(G.a)({},this.props)))},Object(G.c)([T.a],e.prototype,"OnFallbackClick",null),e=Object(G.c)([r.observer],e)}(k.Component),ve=function(e){var t=e.eventModel,a=e.calendarEvent,n=e.bSuppressHoverEffects,r=a.GetEntityName(),o=a.GetGameIcon(),i=function(e){Object(K.f)(t,K.a.k_eStoreOwnerPage),e.stopPropagation(),e.preventDefault()},l=n?k.createElement("div",{className:Object(z.a)(ee.a.TileGameCapsule,ee.a.DisableHovers),onClick:i},k.createElement("img",{className:ee.a.AppIcon,src:o}),k.createElement("div",{className:ee.a.TileTextAppName},r)):k.createElement("div",{onClick:i},k.createElement(re.b,{hoverClassName:Object(z.a)(ee.a.TileGameCapsule,ee.a.EnableHovers),type:"app",id:a.appid},k.createElement("img",{className:ee.a.AppIcon,src:o}),k.createElement("div",{className:ee.a.TileTextAppName},r)));return k.createElement("div",{className:ee.a.TileTextHeader},l,a.GetSource()===c.a.k_eRecommended&&k.createElement("div",{className:ee.a.SourceRecommended},Object(j.c)("#EventCalendar_GameSource_recommended_Verbose")))},ge=Object(r.observer)(function(e){var t=e.eventModel,a=e.calendarEvent,n=Date.now()/1e3,r=t?t.GetStartTimeAndDateUnixSeconds():a.start_time,o=t?t.GetPostTimeAndDateUnixSeconds():a.start_time,i=t&&Object(q.a)(t.type)&&t.GetEndTimeAndDateUnixSeconds();if(i&&r<n&&n<i){var l=i-n,s=Object(j.l)(l,!0);return k.createElement("div",{className:ee.a.LiveText},k.createElement(w.e,{rtFullDate:r,stylesmodule:ee.a},k.createElement("div",{className:ee.a.LiveNow},Object(j.c)("#EventCalendar_LiveNow"))),k.createElement(w.e,{rtFullDate:i,stylesmodule:ee.a},Object(j.c)("#EventCalendar_TimeLeft",s)))}if(r<n){var c=n-r,d=c<86400?Object(j.l)(c):Object(j.k)(r),p=3600<Math.abs(r-o);return k.createElement(w.e,{rtFullDate:r,stylesmodule:ee.a},k.createElement("div",{className:ee.a.PastDateText},Object(j.c)(p?"#EventCalendar_StartedAtTime":"#EventCalendar_PostedAtTime",d)))}var u=(l=r-n)<86400;return k.createElement(w.e,{rtFullDate:r,stylesmodule:ee.a},k.createElement("div",{className:ee.a.FutureDateText},u?Object(j.c)("#EventCalendar_WillStartAfterDuration",Object(j.l)(l,!0)):Object(j.c)("#EventCalendar_WillStartAtTime",Object(j.k)(r))))});var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.OnPerformVoteUp=function(){var e=this.props.eventModel,t=A.a.Get();!0!==t.GetPreviouslyLoadedVote(this.props.eventModel)&&Object(_.a)(e,t)&&(t.Vote(e,!0,g.a.CancelToken.source()),p.b.RecordAppInteractionEvent(e.appid,p.a.k_eThumbsUp))},t.prototype.OnDiscussionClicked=function(){var e=this.props.eventModel;p.b.RecordAppInteractionEvent(e.appid,p.a.k_eDiscussions)},t.prototype.render=function(){var e=A.a.Get(),t=this.props.eventModel,a=Math.max(0,t.nVotesUp-t.nVotesDown),n=e.GetPreviouslyLoadedVote(this.props.eventModel),r=function(e,t){return e.BIsUserLoggedIn()?M.i.is_limited?ee.a.Vote_LimitedUser:!0===t?ee.a.Vote_Positive:!1===t?ee.a.Vote_Negative:ee.a.Vote_Ready:ee.a.Vote_NotLoggedIn}(e,n),o=(M.c.IN_CLIENT?"steam://openurl/":"")+t.GetForumTopicURL(),i=0<t.live_stream_viewer_count?t.live_stream_viewer_count:void 0;return k.createElement("div",{className:ee.a.Footer},k.createElement("div",{className:ee.a.FooterRightSide},Boolean(i)&&k.createElement("div",{className:ee.a.TileViewerCount},i.toLocaleString(j.b.GetPreferredLocales())),k.createElement("div",{className:Object(z.a)(ee.a.FooterStat,ee.a.Vote,r),onClick:this.OnPerformVoteUp},k.createElement(H.C,{className:ee.a.RateIcon}),k.createElement("span",null,""+a)),k.createElement("div",{className:ee.a.FooterStat},k.createElement("a",{href:o,className:ee.a.CommentIconCtn,target:"_blank",onClick:this.OnDiscussionClicked},k.createElement(H.e,{className:ee.a.CommentIcon}),k.createElement("span",null,""+t.nCommentCount))),k.createElement(me,Object(G.a)({},this.props))))},Object(G.c)([T.a],t.prototype,"OnPerformVoteUp",null),Object(G.c)([T.a],t.prototype,"OnDiscussionClicked",null),t=Object(G.c)([r.observer],t)}(k.Component),ye=Object(r.observer)(function(t){var e=t.calendarEvent,a=ee.a["EventType"+e.event_type],n=Object(z.a)(ee.a.TileContainer,a);return k.createElement(i.a,{onEnter:function(){if(t.partnerEventStore.QueueLoadPartnerEvent(t.calendarEvent.clanid,t.calendarEvent.unique_id),t.calendarEvent.appid&&te.a.GetStoreCapsuleInfo(t.calendarEvent.appid),t.calendarEvent.clanInfo){var e=ae.a.InitFromClanID(t.calendarEvent.clanInfo.clanid);ne.a.LoadOGGClanInfoForClanSteamID(e)}},topOffset:"-500px",bottomOffset:"-500px"},k.createElement("div",{className:n},k.createElement("div",{className:ee.a.Tile}),k.createElement("div",{className:ee.a.Footer})))}),be=Object(r.observer)(function(e){var t=e.partnerEventStore,a=e.calendarEvent,n=Object(G.f)(e,["partnerEventStore","calendarEvent"]),r=t.GetClanEventModel(a.unique_id);return r?k.createElement(he,Object(G.a)({eventModel:r,calendarEvent:a},n)):k.createElement(ye,{calendarEvent:a,partnerEventStore:t})}),Ee=a("UWWC"),Se=a("yJqL"),fe=a("xnZ7"),Ce=a.n(fe),Ie=a("qD+2"),Oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoading:!1,eventModel:e.props.eventModel},e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){this.state.eventModel||this.setState({bLoading:!0},this.LoadEvent)},e.prototype.LoadEvent=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r=this;return Object(G.e)(this,function(e){return t=this.props,a=t.appid,n=t.announcementGID,t.partnerEventStore.LoadPartnerEventFromAnnoucementGID(a,n,0).then(function(e){return r.setState({bLoading:!1,eventModel:e},r.HandleReadEvent)}).catch(function(e){var t=Object(y.a)(e);console.log("EventInfiniteScrollModal failed "+t.strErrorMsg,t),r.setState({bLoading:!1})}),[2]})})},e.prototype.HandleReadEvent=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a;return Object(G.e)(this,function(e){return t=this.state.eventModel,a=this.props.trackingLocation,t&&t.BIsPartnerEvent()&&A.a.Get().GetTracker().MarkEventRead(t.GID,t.clanSteamID.GetAccountID(),a)&&A.a.Get().GetTracker().Flush(),[2]})})},e.prototype.render=function(){if(this.state.bLoading)return k.createElement(le.g,null,k.createElement("div",{className:Ce.a.FlexCenter,style:{height:"400px"}},k.createElement(U.a,null)));var e=this.props,t=e.classname,a=e.partnerEventStore;return this.state.eventModel?k.createElement(le.g,{className:t},k.createElement("div",null,k.createElement(Se.a,{location:Se.b.AppDetails,initialEvent:this.state.eventModel,partnerEventStore:a,emoticonStore:Ee.b,appInfoStore:Ie.a,closeFn:this.props.closeModal,showAppHeader:this.props.showAppHeader}))):null},e=Object(G.c)([r.observer],e)}(k.Component),we=a("BFsE"),Te=a("IjL/"),ke=a("Mgs7"),De=a("IWyE"),Ae=a.n(De),je=new(function(){return function(){this.bOpenEventLandingPage=!1,this.bIncludeFeaturedAsGameSource=!0,this.bEnableSteamGameFestival="dev"==M.c.WEB_UNIVERSE}}());window.g_EventCalendarDevFeatures=je;var Ge=a("0pDH"),Le=a("55Ip"),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.componentDidMount=function(){},t.prototype.OnEventTypeChange=function(e,t){b.c.SetEventTypeGroupAllowed(e,t),this.props.fnOnFilterChange()},t.prototype.RenderEventTypeCheckbox=function(t){var a=this,e=b.c.BIsEventTypeGroupAllowed(t);return k.createElement(oe.a,{toolTipContent:Object(j.c)("#EventCalendar_EventTypeGroup_ttip_"+t),direction:"top"},k.createElement(ke.d,{key:"group-"+t,label:Object(j.c)("#EventCalendar_EventTypeGroup_"+t),checked:e,onChange:function(e){return a.OnEventTypeChange(t,e)}}))},t.prototype.OnGameSourceChange=function(e,t){b.c.SetGameSourceAllowed(e,t),this.props.fnOnFilterChange()},t.prototype.RenderGameSourceCheckbox=function(t,e){var a=this,n=b.c.BIsGameSourceAllowed(t);return k.createElement(oe.a,{direction:"top",toolTipContent:e?Object(j.c)("#EventCalendar_DisabledFilter_LoginPrompt"):Object(j.c)("#EventCalendar_GameSource_ttip_"+t)},k.createElement(ke.d,{key:"gs-"+t,label:Object(j.c)("#EventCalendar_GameSource_"+t),checked:n,disabled:e,onChange:function(e){return a.OnGameSourceChange(t,e)}}))},t.prototype.GetCalendarTitle=function(e){if(e.BIsSingleSourceCalendar()){var t=e.BIsSingleAppCalendar()?c.d.GetEntityNameForID(e.GetSingleAppID(),void 0):c.d.GetEntityNameForID(void 0,Number(e.GetSingleGroupID()));return Object(j.i)("#EventCalendar_SpecificCalendar",t,k.createElement("br",null))}return Object(j.i)("#EventCalendar_Title",k.createElement("br",null))},t.prototype.DecorateSearchSuggestion=function(e,t){return e&&e.id&&("software"==e.type||"game"==e.type)?k.createElement(Le.b,{to:"/newshub/app/"+e.id+"/"},t):t},t.prototype.render=function(){var e=this.props,t=e.bUserIsLoggedIn,a=e.nDisappearingHeaderVisibleHeight,n=e.nGlobalHeaderTop,r=e.nVisibleHeight,o=e.bIsCollapsed,i=e.bShouldIncludeLegalFooter,l=e.fnToggleCollapsed,s=Re(),c=s?k.createElement("div",{className:Ae.a.MobileButton,onClick:l,style:{transform:"translateY("+n+"px)"}},o?k.createElement(H.a,null):k.createElement(H.y,null)):null,d=r/2-(o?0:a),p=s?null:k.createElement("div",{onClick:l,className:Ae.a.CollapseButton},k.createElement("div",{style:{marginTop:d+"px"},className:Ae.a.DesktopButton},k.createElement(H.g,{angle:o?180:0}))),u=o?null:{top:a+"px"},m=B(),h="Responsive_RequestDesktopView"in window&&window.Responsive_RequestDesktopView,v="Responsive_RequestMobileView"in window&&window.Responsive_RequestMobileView;return k.createElement(k.Fragment,null,c,k.createElement("div",{className:Object(z.a)(Ae.a.SidebarContainer,o&&Ae.a.SidebarCollapsed),style:u},p,o?null:k.createElement("div",{className:Ae.a.Sidebar},k.createElement("div",{className:Ae.a.SidebarBackground},k.createElement(H.z,null)),Boolean(!m.BIsGlobalCalendar())&&k.createElement("span",{className:Ae.a.SidebarBackLink},k.createElement(Le.b,{to:"/newshub"},k.createElement(H.g,{angle:0,singlearrow:!0}),Object(j.c)("#EventCalendar_GlobalCalendar_Action"))),k.createElement("div",{className:Ae.a.SidebarTitle},this.GetCalendarTitle(m)),k.createElement("div",{className:Ae.a.FilterSection},k.createElement("div",{className:Ae.a.FilterSubSection},k.createElement("div",{className:Ae.a.FilterSubSectionTitle},Object(j.c)("#EventCalendar_FilterSubSection_EventTypeGroups")),this.RenderEventTypeCheckbox(b.a.k_EEvents),this.RenderEventTypeCheckbox(b.a.k_EStreaming),this.RenderEventTypeCheckbox(b.a.k_EUpdates),this.RenderEventTypeCheckbox(b.a.k_EReleases),this.RenderEventTypeCheckbox(b.a.k_ESales),this.RenderEventTypeCheckbox(b.a.k_ENews)),Boolean(m.BIsGlobalCalendar())&&k.createElement("div",{className:Ae.a.FilterSubSection},k.createElement("div",{className:Ae.a.FilterSubSectionTitle},Object(j.c)("#EventCalendar_FilterSubSection_GameSources")),this.RenderGameSourceCheckbox(b.b.k_ERecent,!t),this.RenderGameSourceCheckbox(b.b.k_ELibrary,!t),this.RenderGameSourceCheckbox(b.b.k_EWishist,!t),this.RenderGameSourceCheckbox(b.b.k_EFollowing,!t),this.RenderGameSourceCheckbox(b.b.k_ERecommended),this.RenderGameSourceCheckbox(b.b.k_ESteam),je.bIncludeFeaturedAsGameSource&&this.RenderGameSourceCheckbox(b.b.k_EFeatured)),Boolean(m.BIsSingleSourceMuted())&&k.createElement("div",null,Object(j.c)("#EventCalendar_SingleAppIsMuted"))),k.createElement(Ge.a,{strLabel:Object(j.c)("#EventCalendar_GameSearch"),fnOnSelected:function(){},fnDecorateSuggestion:this.DecorateSearchSuggestion,filterStoreItemType:["game","software"]}),k.createElement("div",{className:Ae.a.SidebarManageMutedApps},h&&k.createElement("div",{className:Object(z.a)(Ae.a.SidebarLink,Ae.a.ForceDesktopLink),onClick:h},Object(j.c)("#EventCalendar_ForceDesktopView")),v&&k.createElement("div",{className:Object(z.a)(Ae.a.SidebarLink,Ae.a.ForceResponsiveLink),onClick:v},Object(j.c)("#EventCalendar_ShowResponsiveView")),k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+M.c.STORE_BASE_URL+"account/emailoptout/app",target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#EventCalendar_ManageMutedApps")),k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+M.c.STORE_BASE_URL+"account/preferences",target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#EventCalendar_ManageStorePref"))),i&&k.createElement("div",{className:Ae.a.SidebarFooter},k.createElement("img",{src:M.c.STORE_CDN_URL+"public/images/footerLogo_valve_new.png"}),k.createElement("div",null,Object(j.c)("#Legal_Footer_WithYear",Object(j.f)(new Date)))))))},t=Object(G.c)([r.observer],t)}(k.Component),Ne=Object(pe.g)(Me),Be="global_header";function xe(){var e=document.getElementById(Be);if(e&&"none"!=getComputedStyle(e).display)return e;var t=document.getElementsByClassName("responsive_header");return Object(h.a)(t.length<=1,"Must have at most one responsive_header"),1!=t.length?null:t[0]}function Re(){var e=xe();return e&&e.id!=Be}function Fe(){return window.innerWidth<parseInt(Ae.a.strMaxMobileWidth)}function He(){return Re()||window.innerWidth<parseInt(Ae.a.strDesktopControlBarWidth)+parseInt(Ae.a.strMaxMobileWidth)}function Pe(){var e=Re(),t=Fe(),a=0;return xe()&&(a=parseInt(e?Ae.a.strMobileGlobalHeaderHeight:Ae.a.strDesktopGlobalHeaderHeight)),{nGlobalHeaderHeight:a,nSteamLabsBannerHeight:parseInt(e?Ae.a.strMobileLabsBannerHeight:Ae.a.strDesktopLabsBannerHeight),nGroupHeaderHeight:parseInt(t?Ae.a.strMobileGroupHeaderHeight:Ae.a.strDesktopGroupHeaderHeight)}}var ze,Ue,Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=Object(G.a)({bUserIsLoggedIn:M.i.logged_in,nVisibleHeight:0,nScrollTop:null,bControlBarIsCollapsed:He(),bControlBarWasOpenedByUser:!1,nDisappearingHeaderTop:0},Pe()),e.m_cancelSignal=g.a.CancelToken.source(),e.m_nForcedScrollPosition=null,e.m_nInitialScrollPosition=null,e.m_refDiv=k.createRef(),e.k_nMaxScrollErrorInPixels=2,e}var n;return Object(G.d)(e,t),(n=e).prototype.componentDidMount=function(){this.InitEventCalendarStore(),window.addEventListener("resize",this.OnResize),window.addEventListener("scroll",this.OnScroll),this.setState({nVisibleHeight:window.innerHeight})},e.prototype.componentDidUpdate=function(e,t){t.bUserIsLoggedIn==this.state.bUserIsLoggedIn&&JSON.stringify(e.filter_to_appids)==JSON.stringify(this.props.filter_to_appids)&&JSON.stringify(e.filter_to_clanids)==JSON.stringify(this.props.filter_to_clanids)||this.InitEventCalendarStore()},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted"),window.removeEventListener("resize",this.OnResize),window.removeEventListener("scroll",this.OnScroll)},e.prototype.OnResize=function(){this.setState(function(e){var t=window.innerHeight,a=!e.bControlBarWasOpenedByUser&&He(),n=Pe();return Object(G.a)({nVisibleHeight:t,bControlBarIsCollapsed:a},n)})},e.prototype.SetInitialScrollTop=function(e){var t=null==this.m_nInitialScrollPosition;this.m_nInitialScrollPosition=Math.round(e),t&&this.ScrollToInitialPosition()},e.prototype.ScrollToInitialPosition=function(){this.m_nForcedScrollPosition=this.m_nInitialScrollPosition,window.scrollTo(0,this.m_nForcedScrollPosition)},e.prototype.OnScroll=function(){var o=this,i=Math.round(window.scrollY);null!=this.m_nForcedScrollPosition&&Math.abs(this.m_nForcedScrollPosition-i)>this.k_nMaxScrollErrorInPixels&&this.m_refDiv.current.clientHeight>window.innerHeight+this.m_nForcedScrollPosition?window.setTimeout(function(){return window.scrollTo({top:o.m_nForcedScrollPosition})},0):this.setState(function(e){if(null!=o.m_nForcedScrollPosition)return o.m_nForcedScrollPosition=null,{nScrollTop:i,nDisappearingHeaderTop:e.nDisappearingHeaderTop};if(Math.abs(i-e.nScrollTop)<2)return{nScrollTop:i,nDisappearingHeaderTop:e.nDisappearingHeaderTop};var t=i>e.nScrollTop&&o.state.bControlBarIsCollapsed||!!e.modalEvent,a=e.nGlobalHeaderHeight+e.nSteamLabsBannerHeight,n=t?-1*a:0,r=xe();return r&&(r.style.transform="translateY("+n+"px)"),{nScrollTop:i,nDisappearingHeaderTop:n}})},e.prototype.InitEventCalendarStore=function(){var e=n.m_bInitialLoad;if(this.state.bUserIsLoggedIn||!this.BRequireLoggedInUser()){S({appids:this.props.filter_to_appids,clanaccountids:this.props.filter_to_clanids});var t=B(),a=Object(M.f)("initialEvents","application_config");a&&n.m_bInitialLoad?(t.RegisterCalendarEventsAndModels(a),n.m_bInitialLoad=!1):t.RegisterCalendarEventsAndModels({success:1}),t.BIsSingleSourceCalendar()&&(t.BIsSingleAppCalendar()?te.a.GetStoreCapsuleInfo(t.GetSingleAppID()).HintLoadBroadcastAppData():ne.a.LoadOGGClanInfoForClanSteamID(ae.a.InitFromClanID(t.GetSingleGroupID())))}e&&b.c.InitializeCheckboxes(this.state.bUserIsLoggedIn&&M.i.accountid)},e.prototype.ToggleControlBarCollapsed=function(){this.setState(function(e){var t=!e.bControlBarIsCollapsed,a=e.bControlBarIsCollapsed,n=t?e.nDisappearingHeaderTop:0,r=xe();return r&&(r.style.transform="translateY("+n+"px)"),{bControlBarIsCollapsed:t,bControlBarWasOpenedByUser:a,nDisappearingHeaderTop:n}})},e.prototype.OnControlBarChange=function(){this.m_nInitialScrollPosition=null,window.scrollTo(0,0)},e.prototype.CloseEventModal=function(){var e=xe();e&&(e.style.transform="translateY("+this.state.nDisappearingHeaderTop+"px)"),this.setState({modalEvent:null})},e.prototype.OnEventClicked=function(e){A.a.Get().RecordEventRead(e,8);var t=this.state.nGlobalHeaderHeight+this.state.nSteamLabsBannerHeight,a=xe();if(a&&(a.style.transform="translateY("+-1*t+"px)"),je.bOpenEventLandingPage){var n="/newshub/app/"+e.appid+"/view/"+e.GID;this.props.history.push(n)}else this.setState({modalEvent:e})},e.prototype.BRequireLoggedInUser=function(){return!this.props.filter_to_appids&&!this.props.filter_to_clanids},e.prototype.render=function(){var e=this.state.nGlobalHeaderHeight+this.state.nSteamLabsBannerHeight,t=this.state.nDisappearingHeaderTop,a=t+this.state.nGlobalHeaderHeight,n=this.state.nVisibleHeight<=parseInt(Ae.a.strMinMobileHeight)?0:this.state.nDisappearingHeaderTop+e;return k.createElement(k.Fragment,null,k.createElement(Te.a,null,k.createElement(Je,{nTopOffset:a})),k.createElement("div",{ref:this.m_refDiv,className:Ae.a.EventCalendarContainer},k.createElement(Te.a,null,this.state.modalEvent?k.createElement(Oe,{classname:Ae.a.StoreHeaderAdjust,appid:this.state.modalEvent.appid,trackingLocation:0,announcementGID:this.state.modalEvent.GetAnnouncementGID(),partnerEventStore:L.c,eventModel:this.state.modalEvent,showAppHeader:!0,closeModal:this.CloseEventModal}):null),k.createElement(Te.a,null,k.createElement(Ne,{bUserIsLoggedIn:this.state.bUserIsLoggedIn,nDisappearingHeaderVisibleHeight:n,nGlobalHeaderTop:t,nVisibleHeight:this.state.nVisibleHeight,bIsCollapsed:this.state.bControlBarIsCollapsed,bShouldIncludeLegalFooter:!Re(),fnToggleCollapsed:this.ToggleControlBarCollapsed,fnOnFilterChange:this.OnControlBarChange})),Boolean(!this.BRequireLoggedInUser()||this.state.bUserIsLoggedIn)?k.createElement(Te.a,null,k.createElement(Qe,{fnOnEventClick:this.OnEventClicked,fnSetInitialScrollPosition:this.SetInitialScrollTop,nVisibleHeight:this.state.nVisibleHeight,nScrollTop:this.state.nScrollTop,nDisappearingHeaderHeight:e,nDisappearingHeaderVisibleHeight:n,nGroupHeaderHeight:this.state.nGroupHeaderHeight,bSaveSpaceForControlBar:!this.state.bControlBarIsCollapsed})):k.createElement(Te.a,null,k.createElement("div",{className:Ae.a.LoginPrompt},Object(j.c)("#EventCalendar_MainLoginPrompt"),k.createElement("button",{onClick:we.a,className:Ae.a.LoginButton},Object(j.c)("#Login_SignIn"))))))},e.m_bInitialLoad=!0,Object(G.c)([T.a],e.prototype,"OnResize",null),Object(G.c)([T.a],e.prototype,"SetInitialScrollTop",null),Object(G.c)([T.a],e.prototype,"ScrollToInitialPosition",null),Object(G.c)([T.a],e.prototype,"OnScroll",null),Object(G.c)([T.a],e.prototype,"ToggleControlBarCollapsed",null),Object(G.c)([T.a],e.prototype,"OnControlBarChange",null),Object(G.c)([T.a],e.prototype,"CloseEventModal",null),Object(G.c)([T.a],e.prototype,"OnEventClicked",null),e=n=Object(G.c)([r.observer],e)}(k.Component),Ze=Object(pe.g)(Ve),We=M.c.STORE_BASE_URL+"labs",Ye=M.c.COMMUNITY_BASE_URL+"groups/SteamLabs/discussions/11/",Je=function(e){return k.createElement("div",{style:{transform:"translateY("+e.nTopOffset+"px)"},className:Ae.a.SteamLabsBanner},k.createElement("div",{className:Ae.a.SteamLabsBannerCtn},k.createElement("div",{className:Ae.a.SteamLabsIdentifiers},k.createElement("a",{className:Ae.a.SteamLabsName,href:(M.c.IN_CLIENT?"steam://openurl/":"")+We,target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#SteamLabs")),k.createElement("div",{className:Ae.a.SteamLabsNumber},Object(j.c)("#SteamLabs_ExperimentNumber","009"))),k.createElement("a",{className:Ae.a.SteamLabsButton,href:(M.c.IN_CLIENT?"steam://openurl/":"")+Ye,target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#SteamLabs_DiscussionLink"))))},Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.GetCurrentSectionLayout=function(){var t=this.props.nDisappearingHeaderHeight+parseInt(Ae.a.strEndOfRowsHeight);return B().GetCalendarSections().map(function(e){return{section:e,nTopOfSection:t,nBottomOfSection:t+=e.nRenderedHeight}})},t.prototype.RecordSectionRenderedHeight=function(e,t){if(e.bIsFutureSection){var a=Math.max(0,t+parseInt(Ae.a.strEndOfRowsHeight)-this.props.nGroupHeaderHeight+this.props.nDisappearingHeaderHeight-this.props.nDisappearingHeaderVisibleHeight);this.props.fnSetInitialScrollPosition(a)}e.nRenderedHeight!=t&&(e.nRenderedHeight=t)},t.prototype.render=function(){var b=this,e=this.props,E=e.fnOnEventClick,t=e.nVisibleHeight,S=e.nScrollTop,f=e.nDisappearingHeaderVisibleHeight,C=e.nGroupHeaderHeight,a=e.bSaveSpaceForControlBar;if(0==B().GetCalendarSections().length)return null;var I=Fe(),O=S+f,w=S+t,T=!0,n=this.GetCurrentSectionLayout().map(function(e,t){var a=e.section,n=e.nTopOfSection,r=e.nBottomOfSection,o=a.strId,i=a.strSectionLabel,l=a.rtSectionStart,s=a.rtSectionEnd,c=a.bIsFutureSection,d=a.nRenderedHeight,p=Math.max(0,O-r),u=Math.max(0,n-w),m=b.props.nVisibleHeight>Math.max(p,u),h=n<O,v=r-S-C,g=h?Math.min(f,v):0,_=r-O<75,y=Object(z.a)(c?Ae.a.FutureSection:Ae.a.PastSection,T&&Ae.a.DarkerBackground);return 0<d&&(T=!T),k.createElement(Xe,{key:o,bShouldRenderContents:m,bRenderStickyHeader:h,nExtraHeaderOffset:g,strSectionLabel:i,rtSectionStart:l,rtSectionEnd:s,strSectionClassname:y,bIsFutureSection:c,bIsNearBottom:_,nInitialHeight:d,fnReportHeight:function(e){return b.RecordSectionRenderedHeight(a,e)},fnOnEventClick:E,bSuppressHoverEffects:I}," ")});return k.createElement("div",{className:Object(z.a)(Ae.a.RowContainer,a&&Ae.a.WideLeftGutter)},k.createElement("div",{className:Ae.a.Rows},k.createElement("div",{className:Object(z.a)(Ae.a.DisappearingHeaderSpacer,Ae.a.FutureSection),key:"spacer"}),k.createElement("div",{key:"no-more-future-events",className:Object(z.a)(Ae.a.EndOfRows,Ae.a.CalendarRow,Ae.a.FutureSection,Ae.a.Visible)},k.createElement("div",{className:Ae.a.NoMoreRows},B().BMayHaveAnyVisibleFutureEvents()&&Object(j.c)("#EventCalendar_NoMoreFutureEvents"))),n,k.createElement("div",{key:"no-more-past-events",className:Object(z.a)(Ae.a.EndOfRows,Ae.a.CalendarRow,B().BHitBackwardHorizon()&&Ae.a.Visible)},k.createElement("div",{className:Ae.a.NoMoreRows}," ",Object(j.c)("#EventCalendar_NoMorePastEvents")," "))))},Object(G.c)([T.a],t.prototype,"RecordSectionRenderedHeight",null),t=Object(G.c)([r.observer],t)}(k.Component),Xe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_ref=k.createRef(),e.bNeedToReportHeight=!1,e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){var e=this.m_ref.current.getBoundingClientRect().height;this.props.fnReportHeight(e)},e.prototype.componentDidUpdate=function(){if(this.m_ref.current){var e=this.m_ref.current.getBoundingClientRect().height;(this.bNeedToReportHeight||e!=this.props.nInitialHeight)&&(this.props.fnReportHeight(e),this.bNeedToReportHeight=!1)}},Object.defineProperty(e.prototype,"cachedCalendarItems",{get:function(){var e=this;return this.props.bIsFutureSection&&(this.bNeedToReportHeight=!0),B().GetCalendarItemsInTimeRange(Object(o.a)(function(){return e.props.rtSectionStart}),Object(o.a)(function(){return e.props.rtSectionEnd}))},enumerable:!0,configurable:!0}),e.prototype.render=function(){var e=this.props,t=e.bShouldRenderContents,a=e.bRenderStickyHeader,n=e.nExtraHeaderOffset,r=e.strSectionLabel,o=e.strSectionClassname,i=e.bIsFutureSection,l=e.bIsNearBottom,s=e.nInitialHeight,c=e.fnOnEventClick,d=e.bSuppressHoverEffects;if(!t)return k.createElement("div",{ref:this.m_ref,style:{minHeight:s+"px"},className:o}," ");var p=this.cachedCalendarItems,u=p.rgCalendarItems,m=p.bIsComplete;if(0==u.length&&m)return k.createElement("div",{ref:this.m_ref,className:o});var h=i&&l,v=k.createElement("div",{style:{top:n},className:Object(z.a)(Ae.a.GroupHeader,Ae.a.CalendarRow,a&&Ae.a.HeaderAtTop,h&&Ae.a.FutureHint)},k.createElement("div",{className:Ae.a.GroupHeaderTitle},h?Object(j.c)("#EventCalendar_FutureEventsHint"):r)),g=u.map(function(e){return k.createElement("div",{key:e.unique_id,className:Ae.a.CalendarRow},k.createElement(be,{calendarEvent:e,partnerEventStore:L.c,fnOnClicked:c,bSuppressHoverEffects:d}))});return k.createElement("div",{ref:this.m_ref,className:o},!i||m?null:k.createElement(U.a,{size:"xlarge",position:"center"}),v,g,i||m?null:k.createElement(U.a,{size:"xlarge",position:"center"}))},Object(G.c)([m.computed],e.prototype,"cachedCalendarItems",null),e=Object(G.c)([r.observer],e)}(k.Component),qe=a("s4NR"),Ke=a.n(qe),$e=a("AXHe"),et=a("Cs6D"),tt=a("kyHq"),at=a("3+zv");(Ue=ze||(ze={}))[Ue.k_ModReviewed=0]="k_ModReviewed",Ue[Ue.k_ModUnreviewed=1]="k_ModUnreviewed",Ue[Ue.k_ChangeEventType=2]="k_ChangeEventType",Ue[Ue.k_UpdateSeasonTags=3]="k_UpdateSeasonTags";var nt="ModAct",rt=function(){function e(){}return e.prototype.ToModString=function(){var e=nt+"_"+this.m_moderator+"_"+Math.floor(this.m_rtWhen)+"_"+this.m_action;switch(this.m_action){case ze.k_ChangeEventType:e+="_"+this.m_newEventType;break;case ze.k_UpdateSeasonTags:e+="_"+this.m_newTagAdded}return e},e.prototype.FromString=function(e){var t=e.split("_");if(!t||t[0]!==nt)return!1;switch(this.m_moderator=Number(t[1]),this.m_rtWhen=Number(t[2]),this.m_action=Number(t[3]),this.m_action){case ze.k_ChangeEventType:this.m_newEventType=Number(t[4]);break;case ze.k_UpdateSeasonTags:this.m_newTagAdded=t.slice(4).join("_")}return!0},e.prototype.SetActionChangeEvent=function(e){return this.m_moderator=M.i.accountid,this.m_rtWhen=Date.now()/1e3,this.m_action=ze.k_ChangeEventType,this.m_newEventType=e,this},e.prototype.SetReviewAction=function(e){return this.m_moderator=M.i.accountid,this.m_rtWhen=Date.now()/1e3,this.m_action=e?ze.k_ModReviewed:ze.k_ModUnreviewed,this},e.IsAuditAction=function(e){return e.startsWith(nt)},e.prototype.SetUpdateSeasonalTags=function(e){return this.m_moderator=M.i.accountid,this.m_rtWhen=Date.now()/1e3,this.m_action=ze.k_UpdateSeasonTags,this.m_newTagAdded=e,this},e}(),ot=new(function(){function e(){this.m_mapEventGIDToSolrData=new Map,this.m_listEvents=new Array}return e.prototype.BHasSolrEvent=function(e){return this.m_mapEventGIDToSolrData.has(e)},e.prototype.GetAllSolrEvents=function(){return this.m_listEvents},e.prototype.ClearAllSolrEvents=function(){this.m_mapEventGIDToSolrData=new Map,this.m_listEvents=new Array},e.prototype.LoadPartnerEventForModerationIncremental=function(r,o,i,l,s,c,d,p,u){return void 0===o&&(o=0),void 0===i&&(i=10),Object(G.b)(this,void 0,void 0,function(){var t,a,n=this;return Object(G.e)(this,function(e){switch(e.label){case 0:return[4,this.GetLatestPartnerEvents(r,o,i,l,s,c,d,p,u)];case 1:return t=e.sent(),a=new Array,Object(m.runInAction)(function(){t.forEach(function(e){n.m_mapEventGIDToSolrData.has(e.unique_id)||(a.push(e),n.m_mapEventGIDToSolrData.set(e.unique_id,e),n.m_listEvents.push(e))})}),[2,a]}})})},e.prototype.GetLatestPartnerEvents=function(r,o,i,l,s,c,d,p,u,m,h,v){return void 0===o&&(o=0),void 0===i&&(i=10),Object(G.b)(this,void 0,void 0,function(){var t,a,n;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=M.c.STORE_BASE_URL+"events_admin/ajaxgetlatestpartnerevents",a={page:o,count:i,date:d,appids:void 0===l?void 0:l.join(","),required_tags:void 0===s?void 0:s.join(","),exclude_tags:void 0===c?void 0:c.join(","),eventtypefilter:void 0===p?void 0:p.join(","),orderByVisibility:u||void 0,creator_home_clan_id:void 0===m?void 0:m.join(","),showUnpublished:void 0===v?void 0:v,term:void 0===h?void 0:h},[4,g.a.get(t,{params:a,withCredentials:!0,cancelToken:r?r.token:void 0})];case 1:return[2,(n=e.sent()).data?n.data.docs:[]]}})})},e.prototype.UpdateTagsOnPartnerEvent=function(r,o,i,l,s,c){return Object(G.b)(this,void 0,void 0,function(){var t,a,n;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=M.c.STORE_BASE_URL+"events_admin/ajaxupdatetags",a=l.join(","),c&&(0<l.length&&(a+=","),a+=c.ToModString()),(n=new FormData).append("sessionid",M.c.SESSIONID),n.append("clan_accountid",""+o.GetAccountID()),n.append("gid_announcement",i),n.append("add_tags",a),n.append("remove_tags",s.join(",")),[4,g.a.post(t,n,{withCredentials:!0,cancelToken:r.token})];case 1:return[2,e.sent().data.tags]}})})},e.prototype.UpdatePartnerEventType=function(n,r,o,i){return Object(G.b)(this,void 0,void 0,function(){var t,a;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=M.c.STORE_BASE_URL+"events_admin/ajaxupdateeventtype",(a=new FormData).append("sessionid",M.c.SESSIONID),a.append("clan_accountid",""+r.GetAccountID()),a.append("gid_event",o),a.append("new_event_type",""+i),[4,g.a.post(t,a,{withCredentials:!0,cancelToken:n.token})];case 1:return e.sent(),[2]}})})},Object(G.c)([m.observable],e.prototype,"m_mapEventGIDToSolrData",void 0),Object(G.c)([m.observable],e.prototype,"m_listEvents",void 0),Object(G.c)([m.action],e.prototype,"ClearAllSolrEvents",null),e}()),it=a("Qcoi"),lt=a("T27q"),st=a("BpzF"),ct=a("fpVW"),dt=a.n(ct),pt=a("UxvL"),ut=a("+d9t"),mt=a("E9gz"),ht=a("dsx8"),vt=a("f0Wu"),gt={bExhaustedEventList:!1,bInfiniteScrollLoading:!0,nLastFetchCompletedMS:0},_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=g.a.CancelToken.source(),e.m_refScroll=k.createRef(),e.m_IntervalTimer=void 0,e.state={bInfiniteScrollLoading:!1,bExhaustedEventList:!1,nLastFetchCompletedMS:0,selectedTags:void 0,excludedTags:void 0,filterDate:void 0,eventsToLoadPerPaging:20,filterEventTypes:void 0,bOrderByVisibilityStartTime:!1},e.m_nPage=0,e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){this.setState({bInfiniteScrollLoading:!0},this.LoadMoreModerationEvents),window.addEventListener("scroll",this.OnScroll,!0);var e=Ke.a.parse(this.props.history.location.search.substring(1)),t=void 0;"string"==typeof e.selectedTags?0<e.selectedTags.length&&(t=[{label:e.selectedTags,value:e.selectedTags}]):e.selectedTags&&(t=[],e.selectedTags.forEach(function(e){return t.push({label:e,value:e})}));var a=void 0;"string"==typeof e.excludedTags?0<e.excludedTags.length&&(a=[{label:e.excludedTags,value:e.excludedTags}]):e.excludedTags&&(a=[],e.excludedTags.forEach(function(e){return a.push({label:e,value:e})}));var n=void 0;if("string"==typeof e.eventtype){if(0<e.eventtype.length){var r=Number.parseInt(e.eventtype);n=[{label:Object(q.b)(r),value:r}]}}else e.excludedTags&&(n=[],e.excludedTags.forEach(function(e){var t=Number.parseInt(e);n.push({label:Object(q.b)(t),value:t})}));var o=void 0;"string"==typeof e.filterDate&&0<e.filterDate.length&&(o=vt.unix(Number(e.filterDate)));var i=!1;"string"==typeof e.orderByVisibility&&0<e.orderByVisibility.length&&(i=Boolean(e.orderByVisibility)),this.setState({selectedTags:t,excludedTags:a,filterEventTypes:n,filterDate:o,bOrderByVisibilityStartTime:i})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventModerationLanding component unmounted"),window.removeEventListener("scroll",this.OnScroll),this.ClearTimer()},e.prototype.HandleUpdateQueryParameter=function(){if(this.props.history){var e=this.state,t=e.selectedTags,a=e.excludedTags,n=e.filterEventTypes,r=e.filterDate,o=e.bOrderByVisibilityStartTime;t||a||n||r||o?this.props.history.push("?"+Ke.a.stringify({selectedTags:t&&0<t.length?t.map(function(e){return e.value}):null,excludedTags:a&&0<a.length?a.map(function(e){return e.value}):null,eventtype:n&&0<n.length?n.map(function(e){return""+e.value}):null,filterDate:r&&0<r.unix()?""+r.unix():null,orderByVisibility:o?"1":null})):this.props.history.push("?")}},e.prototype.ClearTimer=function(){this.m_IntervalTimer&&(window.clearInterval(this.m_IntervalTimer),this.m_IntervalTimer=void 0)},e.prototype.HandleError=function(e){var t=Object(y.a)(e);console.error("EventModerationLanding error: "+t.strErrorMsg,t),this.setState({bInfiniteScrollLoading:!1,bExhaustedEventList:!0,nLastFetchCompletedMS:Date.now()})},e.prototype.LoadMorePublicEventWithDelay=function(){return Object(G.b)(this,void 0,void 0,function(){return Object(G.e)(this,function(e){return this.m_IntervalTimer=window.setInterval(this.LoadMoreModerationEvents,500),[2]})})},e.prototype.LoadMoreModerationEvents=function(){var t=this;if(this.ClearTimer(),this.state.bInfiniteScrollLoading){var e=this.state.filterEventTypes?this.state.filterEventTypes.map(function(e){return e.value}):void 0,a=this.state.selectedTags?this.state.selectedTags.map(function(e){return e.value}):void 0,n=this.state.excludedTags?this.state.excludedTags.map(function(e){return e.value}):void 0;ot.LoadPartnerEventForModerationIncremental(this.m_cancelSignal,this.m_nPage,this.state.eventsToLoadPerPaging,[this.props.appid],a,n,this.state.filterDate,e,this.state.bOrderByVisibilityStartTime).then(function(e){t.m_nPage+=t.state.eventsToLoadPerPaging,t.setState({bInfiniteScrollLoading:!1,bExhaustedEventList:0==e.length,nLastFetchCompletedMS:Date.now()})}).catch(function(e){return t.HandleError(e)})}},e.prototype.UpdateQueryParametersAndLoadMoreEvents=function(){this.HandleUpdateQueryParameter(),this.LoadMoreModerationEvents()},e.prototype.RenderTiles=function(){var t=new Array;return ot.GetAllSolrEvents().forEach(function(e){t.push(k.createElement(bt,{solrData:e,key:e.unique_id}))}),t},e.prototype.OnScroll=function(){if(this.m_refScroll&&this.m_refScroll.current){var e=this.m_refScroll.current;e&&(this.state.bExhaustedEventList||this.state.bInfiniteScrollLoading||e.getBoundingClientRect().bottom<=window.innerHeight+50&&(this.state.nLastFetchCompletedMS+500<Date.now()?this.setState({bInfiniteScrollLoading:!0},this.LoadMorePublicEventWithDelay):this.setState({bInfiniteScrollLoading:!0},this.LoadMoreModerationEvents)))}},e.prototype.ClearPreviousData=function(){this.m_nPage=0,ot.ClearAllSolrEvents()},e.prototype.OnDateChange=function(e){if("string"==typeof e){var t=vt(e,"M/D/YYYY",!0);if(!t.isValid())return void this.setState({filterDateAsString:e});e=t}this.state.filterDate!=e&&(this.ClearPreviousData(),this.setState(Object(G.a)({filterDateAsString:void 0,filterDate:e},gt),this.UpdateQueryParametersAndLoadMoreEvents))},e.prototype.IsValidDate=function(e){var t=new Date;return e.unix()<vt.unix(t.getTime()/1e3+86400).hour(0).seconds(0).minute(0).unix()},e.prototype.OnEventPerPageLoad=function(e){var t=Number.parseInt(e.currentTarget.value);t&&0<t&&t!=this.state.eventsToLoadPerPaging&&this.setState({eventsToLoadPerPaging:t})},e.prototype.OnChangeEventSelectedTags=function(e){this.ClearPreviousData(),this.setState(Object(G.a)({selectedTags:e},gt),this.UpdateQueryParametersAndLoadMoreEvents)},e.prototype.OnChangeEventExcludeTags=function(e){this.ClearPreviousData(),this.setState(Object(G.a)({excludedTags:e},gt),this.UpdateQueryParametersAndLoadMoreEvents)},e.prototype.OnChangeEventTypeFilter=function(e){this.ClearPreviousData(),this.setState(Object(G.a)({filterEventTypes:e},gt),this.UpdateQueryParametersAndLoadMoreEvents)},e.prototype.OnVisibilityStartTimeChange=function(e){this.ClearPreviousData(),this.setState(Object(G.a)({bOrderByVisibilityStartTime:e.currentTarget.checked},gt),this.UpdateQueryParametersAndLoadMoreEvents)},e.prototype.render=function(){var e=this.RenderTiles(),t=tt.d.map(function(e){return{value:e,label:Object(q.b)(e)}}),a=at.a.map(function(e){return{value:e,label:e}}),n={option:function(e){return Object(G.a)(Object(G.a)({},e),{color:"#444444"})}};return k.createElement("div",{className:mt.ModerationContainer,ref:this.m_refScroll},k.createElement("div",null,k.createElement("h2",null,Object(j.c)("#EventModeration_Title")),k.createElement(Te.a,null,k.createElement("div",{className:Object(z.a)(dt.a.FlexRowContainer)},k.createElement("div",{className:mt.FilterContainer},k.createElement("span",null,Object(j.c)("#EventModeration_FilterByTag")),k.createElement(et.a,{isSearchable:!0,isMulti:!0,onChange:this.OnChangeEventSelectedTags,value:this.state.selectedTags,options:a,styles:n})),k.createElement("div",{className:mt.FilterContainer},k.createElement("span",null,Object(j.c)("#EventModeration_FilterExcludeByTag")),k.createElement(et.a,{isSearchable:!0,isMulti:!0,onChange:this.OnChangeEventExcludeTags,value:this.state.excludedTags,options:a,styles:n})),k.createElement("div",{className:mt.FilterContainer},k.createElement("span",null,Object(j.c)("#EventModeration_FilterToType")),k.createElement(et.a,{isSearchable:!0,isMulti:!0,onChange:this.OnChangeEventTypeFilter,value:this.state.filterEventTypes,options:t,styles:n})),k.createElement("div",{className:mt.FilterContainer},k.createElement("span",null,Object(j.c)("#EventModeration_FilterToDate")),k.createElement($e,{onChange:this.OnDateChange,timeFormat:!1,value:this.state.filterDate,isValidDate:this.IsValidDate,inputProps:{placeholder:Object(j.c)("#EventModeration_PickDatee"),className:mt.TimeWidth}})),k.createElement("div",{className:mt.FilterContainer},k.createElement("label",{htmlFor:"EventPerLoad"},Object(j.c)("#EventModeration_PerPageLoad")),k.createElement("div",null,k.createElement("input",{type:"number",id:"EventPerLoad",min:"10",max:"5000",value:this.state.eventsToLoadPerPaging,onChange:this.OnEventPerPageLoad}))),k.createElement("div",{className:mt.FilterContainer},k.createElement("input",{type:"checkbox",id:"VisibilityStart",checked:this.state.bOrderByVisibilityStartTime,onChange:this.OnVisibilityStartTimeChange}),k.createElement("label",{htmlFor:"VisibilityStart"},Object(j.c)("#EventModeration_OrderByFirstVisible")))))),k.createElement(Te.a,null,e),this.state.bInfiniteScrollLoading&&k.createElement(U.a,{position:"center",size:"medium",string:Object(j.c)("#Loading")}))},Object(G.c)([T.a],e.prototype,"HandleError",null),Object(G.c)([T.a],e.prototype,"LoadMorePublicEventWithDelay",null),Object(G.c)([T.a],e.prototype,"LoadMoreModerationEvents",null),Object(G.c)([T.a],e.prototype,"UpdateQueryParametersAndLoadMoreEvents",null),Object(G.c)([T.a],e.prototype,"OnScroll",null),Object(G.c)([T.a],e.prototype,"OnDateChange",null),Object(G.c)([T.a],e.prototype,"IsValidDate",null),Object(G.c)([T.a],e.prototype,"OnEventPerPageLoad",null),Object(G.c)([T.a],e.prototype,"OnChangeEventSelectedTags",null),Object(G.c)([T.a],e.prototype,"OnChangeEventExcludeTags",null),Object(G.c)([T.a],e.prototype,"OnChangeEventTypeFilter",null),Object(G.c)([T.a],e.prototype,"OnVisibilityStartTimeChange",null),e=Object(G.c)([r.observer],e)}(k.Component),yt=Object(pe.g)(_t),bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoadingEvent:!L.c.BHasClanEventModel(e.props.solrData.unique_id),bShowAsModal:!1,bSavingModeration:!1},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){var a=this,e=this.props.solrData,t=e.unique_id;if(!L.c.BHasClanEventModel(t)){var n=Date.now()/1e3;L.c.LoadPartnerEventFromClanEventGIDAndClanSteamID(new ae.a(e.clan_steamid),t,n).then(function(){return a.setState({bLoadingEvent:!1})}).catch(function(e){var t=Object(y.a)(e);console.error("EventModerationTile: Event Load: "+t.strErrorMsg,t),a.setState({bLoadingEvent:!1})})}},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventModerationTile component unmounted")},e.prototype.ShowModalEvent=function(){var e=this.props.solrData.unique_id;!this.state.bLoadingEvent&&L.c.BHasClanEventModel(e)&&this.setState({bShowAsModal:!0})},e.prototype.HideModalEvent=function(){this.state.bShowAsModal&&this.setState({bShowAsModal:!1})},e.prototype.OnModeratedChanged=function(e){if(!this.state.bSavingModeration){var t=this.props.solrData.unique_id,a=L.c.GetClanEventModel(t),n=e.target.checked;a&&n!==a.BHasTag("mod_reviewed")&&this.setState({bSavingModeration:!0},this.ApplyModerationToggle)}},e.prototype.ApplyModerationToggle=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o,i,l;return Object(G.e)(this,function(e){switch(e.label){case 0:t=this.props.solrData,a=t.unique_id,n=L.c.GetClanEventModel(a),r=n.BHasTag("mod_reviewed"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ot.UpdateTagsOnPartnerEvent(this.m_cancelSignal,n.clanSteamID,n.AnnouncementGID,r?[]:["mod_reviewed"],r?["mod_reviewed"]:[],(new rt).SetReviewAction(!r))];case 2:return o=e.sent(),n.vecTags=o,[3,4];case 3:return i=e.sent(),l=Object(y.a)(i),console.error("EventModerationTile "+l.strErrorMsg,l),[3,4];case 4:return this.setState({bSavingModeration:!1}),[2]}})})},e.prototype.OnChangeCategory=function(e){var t=this.props.solrData,a=L.c.GetClanEventModel(t.unique_id);Object(ie.d)(k.createElement(Ot,{eventModel:a}),Object(se.m)(e))},e.prototype.OnUpdateSeasonalTag=function(e){var t=this.props.solrData,a=L.c.GetClanEventModel(t.unique_id);Object(ie.d)(k.createElement(Tt,{eventModel:a}),Object(se.m)(e))},e.prototype.render=function(){var e,t=this.props.solrData,a=t.unique_id,n=Number(t.appid),r=Object(tt.f)(M.c.LANGUAGE),o=L.c.GetClanEventModel(a);if(o){if(this.state.bShowAsModal)return k.createElement(le.g,{className:ht.StoreHeaderAdjust},k.createElement("div",null,k.createElement(lt.a,{event:o,fnClose:this.HideModalEvent})));var i=o.GetImageForSizeAsArrayWithFallback("capsule",r,F.c.capsule_main),l=o.BImageNeedScreenshotFallback("capsule",r);e=0<i.length?k.createElement(k.Fragment,null,k.createElement(pt.a,{rgSources:i}),l&&k.createElement("div",{className:mt.NoCapsule},Object(j.c)("#EventModTile_FallbackImageText"))):k.createElement("div",{className:mt.NoCapsule},Object(j.c)("#EventModTile_NoCapsule"))}else e=Object(j.c)("#Loading");var s=t.hidden?t.published?Object(j.c)("#EVentModTile_State_Staged"):Object(j.c)("#EVentModTile_State_Draft"):Object(j.c)("#EVentModTile_State_Published"),c=o?o.type:Number(t.event_type);return k.createElement(Te.a,null,k.createElement("div",{className:mt.Tile},k.createElement("div",{className:mt.TileCapsule,onClick:this.ShowModalEvent},e),k.createElement("div",{className:mt.TileDetails},k.createElement("div",{className:mt.DetailsLeft},k.createElement("div",null,s),k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+M.c.COMMUNITY_BASE_URL+"ogg/"+n+"/announcements/detail/"+t.announcement_gid,target:M.c.IN_CLIENT?void 0:"_blank",className:mt.EventTitle},t.event_name),k.createElement("div",{className:Object(z.a)(c==tt.c.k_EOtherEvent?mt.TileEventOtherType:"")},o?o.GetCategoryAsString():t.event_type),this.state.bLoadingEvent&&k.createElement(U.a,{size:"small",string:Object(j.c)("#Loading")}),k.createElement(St,{accountID:Number(t.creator_accountid),locToken:"#EventModTile_Author"}),Boolean(t.updator_accountid&&0<Number(t.updator_accountid)&&t.updator_accountid!=t.creator_accountid)&&k.createElement(St,{accountID:Number(t.updator_accountid),locToken:"#EventModTile_Updator"}),k.createElement(Ct,{appid:n,clanSteamID:new ae.a(t.clan_steamid)})),o&&k.createElement(k.Fragment,null,k.createElement("div",{className:mt.DetailsMiddle},k.createElement("div",{className:mt.ModeratedFlagCtn},k.createElement("input",{type:"checkbox",id:o.GID+"_moderated",checked:o.BHasTag("mod_reviewed"),onChange:this.OnModeratedChanged}),k.createElement("label",{htmlFor:o.GID+"_moderated"},this.state.bSavingModeration&&k.createElement(U.a,{size:"small"}),Object(j.c)("#EventModTile_Moderated"))),k.createElement("button",{className:Object(z.a)(dt.a.Button,mt.Button),onClick:this.OnChangeCategory},Object(j.c)("#EventModTile_ChangeEventType")),o.BHasTag("halloween2019candidate")&&k.createElement("button",{className:Object(z.a)(dt.a.Button),onClick:this.OnUpdateSeasonalTag},Object(j.c)("#EventModTile_SeasonalTag")),k.createElement(wt,{eventModel:o})),k.createElement("div",{className:mt.DetailsRight},k.createElement(st.b,{event:o,stylesmodule:mt,nOverrideEndTime:o.GetEndTimeAndDateUnixSeconds(),nOverrideStartTime:o.GetStartTimeAndDateUnixSeconds()}),k.createElement(ft,{event:o}),k.createElement(It,{event:o}))))))},Object(G.c)([T.a],e.prototype,"ShowModalEvent",null),Object(G.c)([T.a],e.prototype,"HideModalEvent",null),Object(G.c)([T.a],e.prototype,"OnModeratedChanged",null),Object(G.c)([T.a],e.prototype,"ApplyModerationToggle",null),Object(G.c)([T.a],e.prototype,"OnChangeCategory",null),Object(G.c)([T.a],e.prototype,"OnUpdateSeasonalTag",null),e=Object(G.c)([r.observer],e)}(k.Component);function Et(e){return ae.a.InitFromAccountID(e).ConvertTo64BitString()}var St=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={userProfile:it.a.GetProfile(Et(e.props.accountID)),bLoadingProfile:!it.a.BHasProfile(Et(e.props.accountID))},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){this.state.bLoadingProfile&&this.LoadProfile()},e.prototype.LoadProfile=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n;return Object(G.e)(this,function(e){switch(e.label){case 0:t=Et(this.props.accountID),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,it.a.LoadProfiles([t])];case 2:return e.sent(),[3,4];case 3:return a=e.sent(),n=Object(y.a)(a),console.error("EventModerationTile profile load : "+n.strErrorMsg,n),[3,4];case 4:return this.m_cancelSignal.token.reason||this.setState({userProfile:it.a.GetProfile(t),bLoadingProfile:!1}),[2]}})})},e.prototype.render=function(){var e=this.props,t=e.accountID,a=e.locToken,n=this.state.userProfile,r=(M.c.IN_CLIENT?"steam://openurl/":"")+"https://steamsupport.valvesoftware.com/account/overview/"+Et(this.props.accountID);return k.createElement("div",null,Object(j.i)(a,k.createElement("a",{href:r,target:M.c.IN_CLIENT?void 0:"_blank"},Boolean(n)?k.createElement(k.Fragment,null,n.persona_name):k.createElement(k.Fragment,null,this.state.bLoadingProfile&&k.createElement(U.a,{size:"small"}),k.createElement("span",null,t)))))},e=Object(G.c)([r.observer],e)}(k.Component),ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bDownloadingImages:!1,nLocLanguages:0},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("ChangeEventTypeDialog component unmounted")},e.prototype.CountLanguages=function(e){var t=0;if(e&&0<e.length)for(var a=0;a<e.length&&a<29;++a)e[a]&&0<e[a].length&&(t+=1);return t},e.prototype.componentDidMount=function(){var a=this,e=this.props.event;L.c.LoadClanEventLocalizationFromAnnouncementGID(e.clanSteamID,e.AnnouncementGID).then(function(e){a.m_cancelSignal.token.reason||a.setState({nLocLanguages:e.length})}).catch(function(e){var t=Object(y.a)(e);console.log("EventInspection.LoadLoc : error "+t.strErrorMsg,t),a.m_cancelSignal.token.reason||a.setState({nLocLanguages:-1})})},e.prototype.render=function(){var e=this.props.event,t=this.CountLanguages(e.jsondata.localized_title_image),a=this.CountLanguages(e.jsondata.localized_capsule_image),n=this.CountLanguages(e.jsondata.localized_spotlight_image),r=Math.max(this.CountLanguages(e.jsondata.localized_broadcast_left_image),this.CountLanguages(e.jsondata.localized_broadcast_right_image)),o=t+a+n+r,i=this.CountLanguages(e.jsondata.localized_summary),l=this.CountLanguages(e.jsondata.localized_subtitle);return k.createElement("div",{className:mt.AnalysisCtn},k.createElement("div",{className:mt.TileTitle},Object(j.c)("#EventModTile_Analysis")),k.createElement("div",null,Object(j.c)("#EventModTile_Stats_Comments",e.nCommentCount)),k.createElement("div",null,Object(j.c)("#EventModTile_Stats_VoteUp",e.nVotesUp)),k.createElement("div",null,Object(j.c)("#EventModTile_Stats_VoteDown",e.nVotesDown)),Boolean(t)&&k.createElement("div",{className:mt.ArtHeader},Object(j.c)("#EventModTile_ImageAnalysis_Header",t)," "),Boolean(a)&&k.createElement("div",null,Object(j.c)("#EventModTile_ImageAnalysis_Capsule",a)," "),Boolean(n)&&k.createElement("div",{className:mt.ArtSpotlight},Object(j.c)("#EventModTile_ImageAnalysis_Spotlight",n)," "),Boolean(r)&&k.createElement("div",null,Object(j.c)("#EventModTile_ImageAnalysis_Broadcast",r)," "),0==o&&k.createElement("div",{className:mt.AnalysisMissing},Object(j.c)("#EventModTile_ImageAnalysis_None")," "),0==this.state.nLocLanguages&&k.createElement(U.a,{size:"small",string:Object(j.c)("#EventModTile_LoadingLocs")}),0<this.state.nLocLanguages&&k.createElement("div",null,Object(j.c)("#EventModTile_Languages",this.state.nLocLanguages)),Boolean(i)&&k.createElement("div",null,Object(j.c)("#EventModTile_Languages_Summary",i)," "),Boolean(l)&&k.createElement("div",null,Object(j.c)("#EventModTile_Languages_Subtitle",l)," "))},e=Object(G.c)([r.observer],e)}(k.Component),Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoadingAppInfo:!te.a.BIsAppidLoaded(e.props.appid)},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("ChangeEventTypeDialog component unmounted")},e.prototype.componentDidMount=function(){var a=this,e=this.props,t=e.appid,n=e.clanSteamID;te.a.BIsAppidLoaded(t)||te.a.EnsureStoreCapsuleInfoLoaded(t).then(function(){a.m_cancelSignal.token.reason||a.setState({bLoadingAppInfo:!1})}).catch(function(e){var t=Object(y.a)(e);console.error("EventModerationChannelInfo: App Load: "+t.strErrorMsg,t),a.m_cancelSignal.token.reason||a.setState({bLoadingAppInfo:!1})}),n&&ne.a.LoadOGGClanInfoForClanSteamID(n)},e.prototype.render=function(){if(this.state.bLoadingAppInfo)return k.createElement(U.a,{size:"small",string:Object(j.c)("#EventModTile_AppInfoLoading")});var e=this.props,t=e.appid,a=e.clanSteamID;if(t){var n=te.a.GetStoreCapsuleInfo(t).GetAppStoreData();return k.createElement("div",{className:mt.TileAppInfo},k.createElement("div",{className:mt.TileAppInfoTitle},k.createElement(ut.a,{href:n.capsule_link},k.createElement("img",{className:mt.TileAppInfoImage,src:n.capsule}),k.createElement("div",null,Object(j.c)("#EventModTile_GameName",n.title)))),k.createElement("div",null,Object(j.c)("#EventModTile_ReleaseDate",n.release)))}if(a){var r=a.GetAccountID(),o=ne.a.GetClanInfoByClanAccountID(r);if(o&&o.is_curator)return k.createElement("div",{className:mt.TileAppInfo},k.createElement("div",{className:mt.TileAppInfoTitle},k.createElement(ut.a,{href:M.c.STORE_BASE_URL+"/curator/"+r+"/"},k.createElement("img",{className:mt.TileAppInfoImage,src:o.avatar_full_url}),k.createElement("div",null,Object(j.c)("#EventModTile_CuratorName",o.group_name)))))}return null},e=Object(G.c)([r.observer],e)}(k.Component),It=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e}return Object(G.d)(e,t),e.prototype.render=function(){var e=this.props.event,t=Object(at.d)(e),a=Object(at.c)(e),n=Object(at.e)(e),r=n&&!e.BHasTag("hide_store")&&!e.BHasTag("mod_hide_store"),o=t&&!e.BHasTag("hide_library_overview")&&!e.BHasTag("mod_hide_library_overview"),i=a&&!e.BHasTag("hide_library_detail")&&!e.BHasTag("mod_hide_library_detail");return k.createElement("div",{className:mt.VisibiltyCtn},k.createElement("div",{className:mt.TileTitle},Object(j.c)("#EventModTile_Visibility")),k.createElement("div",null,Object(j.c)("#EventModTile_Store_Visibility",r?Object(j.c)("#WriteReview_Dialog_Yes"):Object(j.c)("#WriteReview_Dialog_No"),r?"":n?Object(j.c)("#EventModTime_Hidden_EventType",e.GetEventTypeAsString()):e.BHasTag("hide_store")?Object(j.c)("#EventModTime_Hidden_OptOut"):Object(j.c)("#EventModTime_Hidden_Moderator"))),k.createElement("div",null,Object(j.c)("#EventModTile_LibraryHome_Visibility",o?Object(j.c)("#WriteReview_Dialog_Yes"):Object(j.c)("#WriteReview_Dialog_No"),o?"":n?Object(j.c)("#EventModTime_Hidden_EventType",e.GetEventTypeAsString()):e.BHasTag("hide_library_overview")?Object(j.c)("#EventModTime_Hidden_OptOut"):Object(j.c)("#EventModTime_Hidden_Moderator"))),k.createElement("div",null,Object(j.c)("#EventModTile_LibraryDetail_Visibility",i?Object(j.c)("#WriteReview_Dialog_Yes"):Object(j.c)("#WriteReview_Dialog_No"),i?"":n?Object(j.c)("#EventModTime_Hidden_EventType",e.GetEventTypeAsString()):e.BHasTag("hide_library_detail")?Object(j.c)("#EventModTime_Hidden_OptOut"):Object(j.c)("#EventModTime_Hidden_Moderator"))))},e=Object(G.c)([r.observer],e)}(k.Component),Ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bUpdating:!1,newCategoryOption:{label:Object(q.b)(tt.c.k_ECrosspostEvent),value:{eventType:tt.c.k_ECrosspostEvent}}},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("ChangeEventTypeDialog component unmounted")},e.prototype.ChangeCategoryForEvent=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o,i,l,s,c,d;return Object(G.e)(this,function(e){switch(e.label){case 0:t=this.props,a=t.eventModel,n=t.closeModal,e.label=1;case 1:return e.trys.push([1,4,,5]),r=this.state.newCategoryOption,o=r.value.eventType,[4,ot.UpdatePartnerEventType(this.m_cancelSignal,a.clanSteamID,a.GID,o)];case 2:return e.sent(),i=at.j,l=[],r.value.tags&&r.value.tags.forEach(function(e){l.push(e);var t=(new rt).SetUpdateSeasonalTags(e).ToModString();l.push(t)}),[4,ot.UpdateTagsOnPartnerEvent(this.m_cancelSignal,a.clanSteamID,a.GetAnnouncementGID(),l,i,(new rt).SetActionChangeEvent(o))];case 3:return s=e.sent(),Object(m.runInAction)(function(){a.type=o,a.vecTags=s}),this.setState({bUpdating:!1},n),[3,5];case 4:return c=e.sent(),d=Object(y.a)(c),console.error("ChangeEventTypeDialog error "+d.strErrorMsg,d),this.setState({bUpdating:!1,strErrorMsg:d.strErrorMsg}),[3,5];case 5:return[2]}})})},e.prototype.OnChangeSelection=function(e){this.setState({newCategoryOption:e})},e.prototype.render=function(){var e=this,t=this.props,a=t.eventModel,n=t.closeModal,r=tt.d.filter(function(e){return e==tt.c.k_EOtherEvent||e==tt.c.k_EMeetingEvent||e>=tt.c.k_EChatEvent}).map(function(e){var t={eventType:e};return e==tt.c.k_ESmallUpdateEvent&&(t.tags=["patchnotes"]),{label:Object(q.b)(e),value:t}});return r.push({label:Object(j.c)("#PartnerEvent_Curator_Group_Members"),value:{eventType:tt.c.k_ENewsEvent,tags:["curator","curator_group_members"]}}),r.push({label:Object(j.c)("#PartnerEvent_Curator_Public"),value:{eventType:tt.c.k_ENewsEvent,tags:["curator","curator_public"]}}),k.createElement(le.b,{strTitle:Object(j.c)("#EventModTile_ChangeEventType"),strDescription:Object(j.c)("#EventModTile_ChangeEventType_Desc",a.GetEventTypeAsString()),onCancel:n,onOK:function(){return e.setState({bUpdating:!0},e.ChangeCategoryForEvent)}},k.createElement(k.Fragment,null,k.createElement("div",{className:mt.CategoryChangeDialog},k.createElement("br",null),this.state.bUpdating&&k.createElement(U.a,{size:"small"}),this.state.strErrorMsg&&k.createElement("div",null,Object(j.c)("#Chat_Settings_Error_ServerError"),k.createElement("br",null),this.state.strErrorMsg),k.createElement(et.a,{isSearchable:!0,onChange:this.OnChangeSelection,value:this.state.newCategoryOption,options:r}))))},Object(G.c)([T.a],e.prototype,"ChangeCategoryForEvent",null),Object(G.c)([T.a],e.prototype,"OnChangeSelection",null),e=Object(G.c)([r.observer],e)}(k.Component),wt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bCollapsed:!0},e}return Object(G.d)(e,t),e.prototype.RenderModAction=function(e){var t=Object(j.g)(e.m_rtWhen),a=k.createElement(St,{locToken:"#EventModTile_Moderator",accountID:e.m_moderator});switch(e.m_action){case ze.k_ModReviewed:return k.createElement("div",{className:mt.ModeratorAuditActionCtn},Object(j.i)("#EventModTile_Action_Reviewed",k.createElement("span",null,t),a));case ze.k_ModUnreviewed:return k.createElement("div",{className:mt.ModeratorAuditActionCtn},Object(j.i)("#EventModTile_Action_UnReviewed",k.createElement("span",null,t),a));case ze.k_ChangeEventType:return k.createElement("div",{className:mt.ModeratorAuditActionCtn},Object(j.i)("#EventModTile_Action_NewEventType",k.createElement("span",null,t),a,Object(q.b)(e.m_newEventType)));case ze.k_UpdateSeasonTags:return k.createElement("div",{className:mt.ModeratorAuditActionCtn},Object(j.i)("#EventModTile_Action_SeasonTagUpdate",k.createElement("span",null,t),a,e.m_newTagAdded));default:return k.createElement("div",{className:mt.ModeratorAuditActionCtn},e.ToModString)}},e.prototype.RenderAudit=function(e){var a=this,n=new Array,r=this.props.eventModel;return e.forEach(function(e){var t=new rt;t.FromString(e),n.push(k.createElement("div",{key:r.GID+e},a.RenderModAction(t)))}),n},e.prototype.render=function(){var e=this,t=this.props.eventModel.GetAllTags().filter(function(e){return rt.IsAuditAction(e)}),a=t.length,n=3<t.length&&this.state.bCollapsed;if(0==t.length)return null;n&&(t=t.splice(0,3));var r=this.RenderAudit(t);return k.createElement("div",null,k.createElement("h4",null,Object(j.c)("#EventModTile_Action_Title")),r,n&&k.createElement("a",{onClick:function(){return e.setState({bCollapsed:!1})}},Object(j.c)("#EventModTile_Action_More",a-3)),Boolean(!n&&3<a)&&k.createElement("a",{onClick:function(){return e.setState({bCollapsed:!0})}},Object(j.c)("#EventModTile_Action_Hide")))},e}(k.Component),Tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bUpdating:!1,bAccept:e.props.eventModel.BHasTag("halloween2019"),bHorror:e.props.eventModel.BHasTag("horror"),bCute:e.props.eventModel.BHasTag("cute")},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("UpdateSeasonalTagDialog component unmounted")},e.prototype.ChangeAcceptance=function(){this.setState({bAccept:!this.state.bAccept})},e.prototype.ChangeHorror=function(){this.setState({bHorror:!this.state.bHorror})},e.prototype.ChangeCute=function(){this.setState({bCute:!this.state.bCute})},e.prototype.ApplyAction=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o,i;return Object(G.e)(this,function(e){switch(e.label){case 0:t=new Array,a=new Array,this.state.bAccept?(t.push("halloween2019"),a.push("halloween2019reviewed")):(a.push("halloween2019"),t.push("halloween2019reviewed")),this.state.bCute?t.push("cute"):a.push("cute"),this.state.bHorror?t.push("horror"):a.push("horror"),e.label=1;case 1:return e.trys.push([1,3,,4]),n=this.props.eventModel,[4,ot.UpdateTagsOnPartnerEvent(this.m_cancelSignal,n.clanSteamID,n.AnnouncementGID,t,a,(new rt).SetUpdateSeasonalTags(this.state.bAccept?"halloween2019":"halloween2019reviewed"))];case 2:return r=e.sent(),n.vecTags=r,this.props.closeModal(),[3,4];case 3:return o=e.sent(),i=Object(y.a)(o),console.error("EventModerationTile "+i.strErrorMsg,i),this.setState({strErrorMsg:i.strErrorMsg}),[3,4];case 4:return[2]}})})},e.prototype.render=function(){var e=this,t=this.props,a=(t.eventModel,t.closeModal);return k.createElement(le.b,{strTitle:Object(j.c)("#EventModTile_SeasonalTag"),onCancel:a,onOK:function(){return e.setState({bUpdating:!0},e.ApplyAction)}},k.createElement(k.Fragment,null,k.createElement("div",{className:mt.CategoryChangeDialog},k.createElement("input",{id:"Acceptance",type:"checkbox",checked:this.state.bAccept,onChange:this.ChangeAcceptance}),k.createElement("label",{htmlFor:"Acceptance"},Object(j.c)("#EventModTile_SeasonalTag_Desc")),k.createElement("div",null,Object(j.c)("#EventModTile_SeasonalTag_Desc_Secondary")),k.createElement("input",{id:"Horror",type:"checkbox",checked:this.state.bHorror,onChange:this.ChangeHorror}),k.createElement("label",{htmlFor:"Horror"},"Horror Tag"),k.createElement("input",{id:"Cute",type:"checkbox",checked:this.state.bCute,onChange:this.ChangeCute}),k.createElement("label",{htmlFor:"Cute"},"Cute Tag"),this.state.bUpdating&&k.createElement(U.a,{size:"small"}),this.state.strErrorMsg&&k.createElement("div",null,Object(j.c)("#Chat_Settings_Error_ServerError"),k.createElement("br",null),this.state.strErrorMsg))))},Object(G.c)([T.a],e.prototype,"ChangeAcceptance",null),Object(G.c)([T.a],e.prototype,"ChangeHorror",null),Object(G.c)([T.a],e.prototype,"ChangeCute",null),Object(G.c)([T.a],e.prototype,"ApplyAction",null),e}(k.Component),kt=new(function(){function e(){this.m_backfill=void 0,this.m_mapEventGIDProcessed=new Map,this.m_vecEventGID=new Array,this.m_bBackfillInProgress=!1,this.m_nProcessed=0,this.m_nSuccesses=0,this.m_nFailures=0,this.m_nWarning=0,this.m_nSkipped=0}return e.prototype.GetBackfill=function(){return this.m_backfill},e.prototype.SetBackfill=function(e){this.m_backfill=e},e.prototype.StartBackfill=function(e){this.m_backfill=e,this.m_bBackfillInProgress=!0},e.prototype.CompleteBackfill=function(e){this.m_backfill=void 0,this.m_bBackfillInProgress=!1},e.prototype.BIsBackkFillInProgress=function(){return this.m_bBackfillInProgress},e.prototype.GetEventBackfillProgress=function(){return this.m_mapEventGIDProcessed},e.prototype.CreateOrGetBackfillProgess=function(e){return this.m_mapEventGIDProcessed.has(e)||(this.m_mapEventGIDProcessed.set(e,{bProcessing:!1}),this.m_vecEventGID.push(e)),this.m_mapEventGIDProcessed.get(e)},e.prototype.BHasProgress=function(e){return this.m_mapEventGIDProcessed.has(e)},e.prototype.GetBackfillGIDs=function(){return this.m_vecEventGID},e.prototype.CloseProgress=function(e,t){this.m_nProcessed+=1,t.bAlreadyProcessed||t.bSkipped?this.m_nSkipped+=1:t.bSucceeded?this.m_nSuccesses+=1:t.bFailed&&(this.m_nFailures+=1),t.bWarning&&(this.m_nWarning+=1),this.m_mapEventGIDProcessed.set(e,t)},Object(G.c)([m.observable],e.prototype,"m_backfill",void 0),Object(G.c)([m.observable],e.prototype,"m_mapEventGIDProcessed",void 0),Object(G.c)([m.observable],e.prototype,"m_bBackfillInProgress",void 0),Object(G.c)([m.observable],e.prototype,"m_nProcessed",void 0),Object(G.c)([m.observable],e.prototype,"m_nSuccesses",void 0),Object(G.c)([m.observable],e.prototype,"m_nFailures",void 0),Object(G.c)([m.observable],e.prototype,"m_nWarning",void 0),Object(G.c)([m.observable],e.prototype,"m_nSkipped",void 0),Object(G.c)([m.action],e.prototype,"StartBackfill",null),Object(G.c)([m.action],e.prototype,"CompleteBackfill",null),Object(G.c)([m.action],e.prototype,"CloseProgress",null),e}()),Dt=a("vNkc"),At=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=g.a.CancelToken.source(),e.m_nImageID=0,e.m_mapArtworkResizeSuccess=new Map,e.state={eBackfillState:void 0},e}return Object(G.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventBackfillLanding component unmounted")},e.prototype.OnArtworkResizeBackfill=function(){null==this.state.eBackfillState&&this.setState({eBackfillState:"started"},this.BeginArtworkResize)},e.prototype.BeginArtworkResize=function(){var a=this;this.m_mapArtworkResizeSuccess.set("capsule",0),this.m_mapArtworkResizeSuccess.set("spotlight",0),this.m_mapArtworkResizeSuccess.set("background",0),this.RunArtworkResizeBackfill().then(function(){return a.setState({eBackfillState:"success"})}).catch(function(e){var t=Object(y.a)(e);console.error("EventBackfillLanding: error "+t.strErrorMsg,t),a.setState({eBackfillState:"error"})})},e.prototype.GetImageInfo=function(n,r,o){return void 0===o&&(o=""),Object(G.b)(this,void 0,void 0,function(){var t,a;return Object(G.e)(this,function(e){return t=F.a.GetExtensionTypeFromURL(r),a=F.a.GetHashFromHashAndExt(r)+o,[2,F.f.AsyncGetImageResolution(n,a,t,this.m_cancelSignal,!0)]})})},e.prototype.HandleErrorFatal=function(e,t,a,n){var r=Object(y.a)(t),o="EventBackfillLanding: "+a+" on GID "+e+" : "+r.strErrorMsg;console.error(o,r),n?(n.bFailed=!0,n.strMessage=o,kt.CloseProgress(e,n)):kt.CompleteBackfill("resize_image")},e.prototype.HandleResizeForImageType=function(u,m,h,v,g){return Object(G.b)(this,void 0,void 0,function(){var c,t,d,a,p=this;return Object(G.e)(this,function(e){switch(e.label){case 0:c=Object(F.d)(v),t=function(t){var a,n,r,o,i,l,s;return Object(G.e)(this,function(e){switch(e.label){case 0:return u[t]&&0<u[t].length?(a=u[t],n=F.a.GetExtensionTypeFromURL(a),r=new ae.a(m.clan_steamid),n?[4,d.GetImageInfo(r,a).catch(function(e){return p.HandleErrorFatal(null,e,"GetImageInfo Original",h),{height:0,width:0,success:2}})]:[3,8]):[3,9];case 1:return 1!=(o=e.sent()).success||o.height!=c.height||o.width!=c.width?[3,6]:[4,d.GetImageInfo(r,a,g).catch(function(e){return p.HandleErrorFatal(null,e,"GetImageInfo Resize",h),{height:0,width:0,success:2}})];case 2:return 1!=e.sent().success?[3,3]:(h.bAlreadyProcessed=!0,[3,5]);case 3:return h.bProcessing=!0,i=F.a.GetHashFromHashAndExt(a),l=F.a.GetExtensionStringFromHashAndExt(a),s=F.e.GetResizeDimension(v),[4,F.b.SendResizeRequest(d.m_cancelSignal,r,i,l,s).then(function(e){console.log("success on the resize request"),e==s.length?(h.bSucceeded=!0,p.m_mapArtworkResizeSuccess.set(v,p.m_mapArtworkResizeSuccess.get(v)+1)):(h.bFailed=!0,h.strMessage="Did not resize all: "+v+" "+e+" / "+s.length)}).catch(function(e){h.bFailed=!0;var t=Object(y.a)(e);h.strMessage=t.strErrorMsg,console.error("Resize: "+t.strErrorMsg,t)})];case 4:e.sent(),e.label=5;case 5:return[3,7];case 6:h.bSkipped=!0,e.label=7;case 7:return[3,9];case 8:h.bSkipped=!0,e.label=9;case 9:return[2]}})},d=this,a=0,e.label=1;case 1:return a<u.length&&a<29?[5,t(a)]:[3,4];case 2:e.sent(),e.label=3;case 3:return++a,[3,1];case 4:return[2]}})})},e.prototype.RunArtworkResizeBackfill=function(){return Object(G.b)(this,void 0,void 0,function(){var t,i,a,l,n,s=this;return Object(G.e)(this,function(e){switch(e.label){case 0:kt.StartBackfill("resize_image"),t=0,e.label=1;case 1:return kt.BIsBackkFillInProgress()?[4,ot.LoadPartnerEventForModerationIncremental(this.m_cancelSignal,t,25).catch(function(e){return s.HandleErrorFatal(null,e,"LoadPartnerEventForModerationIncremental")})]:[3,7];case 2:if(!(i=e.sent())||0==i.length)return kt.CompleteBackfill("resize_image"),console.log("Compelted the backfill"),[3,7];t+=i.length,a=function(t){var a,n,r,o;return Object(G.e)(this,function(e){switch(e.label){case 0:return a=i[t],n=kt.CreateOrGetBackfillProgess(a.unique_id),a.announcement_gid&&0!=a.announcement_gid.length?[4,L.c.LoadPartnerEventFromAnnoucementGID(Number(a.appid),a.announcement_gid,100).catch(function(e){s.HandleErrorFatal(a.announcement_gid,e,"LoadPartnerEventFromAnnoucementGID",n)})]:(n.bSkipped=!0,n.bWarning=!0,kt.CloseProgress(a.unique_id,n),[2,"continue"]);case 1:return e.sent(),n.bFailed?[2,"continue"]:(r=L.c.GetClanEventFromAnnouncementGID(a.announcement_gid))?n.bSucceeded||n.bFailed||n.bAlreadyProcessed?(n.bAlreadyProcessed=!0,kt.CloseProgress(a.unique_id,n),[2,"continue"]):(n.bAnalysing=!0,l.setState({strInfo:"Processing "+kt.GetBackfillGIDs().length+" Appid: "+r.appid+" Event "+r.GID+" Title: "+r.GetNameWithFallback(0)}),r.jsondata&&r.jsondata.localized_capsule_image?(o=r.jsondata.localized_capsule_image,[4,l.HandleResizeForImageType(o,a,n,"capsule",F.c.capsule_main).catch(function(e){return s.HandleErrorFatal(null,e,"HandleResizeForImageType capsule",n)})]):[3,3]):(n.bFailed=!0,n.strMessage="Failed to load the event: "+a.unique_id,kt.CloseProgress(a.unique_id,n),[2,"continue"]);case 2:e.sent(),e.label=3;case 3:return r.jsondata&&r.jsondata.localized_title_image?(o=r.jsondata.localized_title_image,[4,l.HandleResizeForImageType(o,a,n,"background",F.c.background_mini).catch(function(e){return s.HandleErrorFatal(null,e,"HandleResizeForImageType background",n)})]):[3,5];case 4:e.sent(),e.label=5;case 5:return r.jsondata&&r.jsondata.localized_spotlight_image?(o=r.jsondata.localized_spotlight_image,[4,l.HandleResizeForImageType(o,a,n,"spotlight",F.c.spotlight_main).catch(function(e){return s.HandleErrorFatal(null,e,"HandleResizeForImageType spotlight",n)})]):[3,7];case 6:e.sent(),e.label=7;case 7:return kt.CloseProgress(a.unique_id,n),kt.BIsBackkFillInProgress()?[2]:[2,"break"]}})},l=this,n=0,e.label=3;case 3:return n<i.length?[5,a(n)]:[3,6];case 4:if("break"===e.sent())return[3,6];e.label=5;case 5:return++n,[3,3];case 6:return 5e3<kt.m_nFailures?(console.log("Hit too many errors, stoppinng the backfill"),[3,7]):[3,1];case 7:return[2]}})})},e.prototype.RenderFailure=function(){var n=new Array;return 0<kt.m_nFailures&&kt.GetBackfillGIDs().forEach(function(e){var t=kt.GetEventBackfillProgress().get(e);if(t&&t.bFailed){var a=L.c.GetClanEventModel(e);a&&n.push(k.createElement("div",{key:e},k.createElement(K.c,{eventModel:a,route:K.a.k_eView,openNewWindow:!0},a.GetNameWithFallback(0)),k.createElement("div",{className:Dt.Error},t.strMessage)))}}),n},e.prototype.RenderResizeProgress=function(){var e=new Array;return e.push(k.createElement("div",{key:"res_capsule"},"Capsule Resized: ",this.m_mapArtworkResizeSuccess.get("capsule")," ")),e.push(k.createElement("div",{key:"res_header"},"Header Resized: ",this.m_mapArtworkResizeSuccess.get("background")," ")),e.push(k.createElement("div",{key:"res_spotlightr"},"Spotlight Resized: ",this.m_mapArtworkResizeSuccess.get("spotlight")," ")),e},e.prototype.render=function(){var e=this.RenderFailure(),t=this.m_mapArtworkResizeSuccess.has("capsule")?this.RenderResizeProgress():void 0;return k.createElement("div",null,k.createElement("h2",null,"Partner Events Backfill Processing Page"),null==this.state.eBackfillState&&k.createElement("div",null,k.createElement("button",{onClick:this.OnArtworkResizeBackfill},"Begin Artwork Resize Backfill")),k.createElement("div",null,k.createElement("button",{onClick:function(){return kt.CompleteBackfill("resize_image")}},"Stop Backfill")),this.state.strInfo&&k.createElement("div",null,"Processing: ",this.state.strInfo),k.createElement("div",null,"Events Processed: ",kt.m_nProcessed),k.createElement("div",null,"Events Succeeded: ",kt.m_nSuccesses),k.createElement("div",null,"Events Warning: ",kt.m_nWarning),k.createElement("div",null,"Events Failed: ",kt.m_nFailures),k.createElement("div",null,"Events Skipped: ",kt.m_nSkipped),0<e.length&&k.createElement(k.Fragment,null,k.createElement("h2",null,"Failure Info"),e),Boolean(t)&&k.createElement("div",null,k.createElement("h2",null,"Resizing Actions"),t),"started"==this.state.eBackfillState&&k.createElement(U.a,{size:"medium",position:"center",string:"Backfill In Progress"}))},Object(G.c)([T.a],e.prototype,"OnArtworkResizeBackfill",null),Object(G.c)([T.a],e.prototype,"BeginArtworkResize",null),e=Object(G.c)([r.observer],e)}(k.Component),jt=a("f6Ic"),Gt=a("5eAM"),Lt=a("R+8l"),Mt=a("oVVc"),Nt=a("nWbB"),Bt=new(function(){function e(){this.m_rgMyWishlistOnSale=null,this.m_rgMyDLCForGamesInLibraryOnSale=null,this.m_rgMySoundtracksForGamesInLibraryOnSale=null,this.m_rgMyInteractiveRecOnSale=null,this.m_rgMySaleTags=null,this.m_rgTopN=null}return e.prototype.GetDiscounts=function(o){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r;return Object(G.e)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),t="discount",t+=o.tagid?"_tag"+o.tagid:"",t+=o.categoryid?"_categoryid"+o.categoryid:"",t+=o.top_n_sellers?"_ntop"+o.top_n_sellers:"",t+=o.max_results?"_max"+o.max_results:"",t+=o.random_across_set?"_rand":"",(a=Object(M.f)(t,"application_config"))?[3,2]:[4,g.a.get(M.c.STORE_BASE_URL+"actions/ajaxgetdiscounts",{params:Object(G.a)(Object(G.a)({},o),{cc:M.c.COUNTRY})})];case 1:n=e.sent(),a=n.data,e.label=2;case 2:return[2,a];case 3:return r=e.sent(),console.error(Object(y.a)(r)),[3,4];case 4:return[2,[]]}})})},e.prototype.GetTopN=function(a,n){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.m_rgTopN?[3,2]:(this.m_rgTopN=Object(M.f)("top_n","application_config"),this.m_rgTopN?[3,2]:(500,[4,Bt.GetDiscounts({top_n_sellers:500,max_results:n,feature:a})]));case 1:t=e.sent(),this.m_rgTopN=t.map(function(e){return Number(e)}),e.label=2;case 2:return[2,this.m_rgTopN]}})})},e.prototype.GetWishlistOnSale=function(){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyWishlistOnSale?[3,2]:(this.m_rgMyWishlistOnSale=Object(M.f)("wishlist_onsale","application_config"),this.m_rgMyWishlistOnSale?[3,2]:[4,g.a.get(M.c.STORE_BASE_URL+"saleaction/ajaxgetwishlistonsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMyWishlistOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMyWishlistOnSale]}})})},e.prototype.GetDLCForGamesInMyLibraryOnSale=function(){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyDLCForGamesInLibraryOnSale?[3,2]:(this.m_rgMyDLCForGamesInLibraryOnSale=Object(M.f)("dlc_onsale","application_config"),this.m_rgMyDLCForGamesInLibraryOnSale?[3,2]:[4,g.a.get(M.c.STORE_BASE_URL+"saleaction/ajaxgetdlconsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMyDLCForGamesInLibraryOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMyDLCForGamesInLibraryOnSale]}})})},e.prototype.GetSoundtracksForGamesInMyLibraryOnSale=function(){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.m_rgMySoundtracksForGamesInLibraryOnSale?[3,2]:(this.m_rgMySoundtracksForGamesInLibraryOnSale=Object(M.f)("dlc_music_onsale","application_config"),this.m_rgMySoundtracksForGamesInLibraryOnSale?[3,2]:[4,g.a.get(M.c.STORE_BASE_URL+"saleaction/ajaxgetsoundtracksonsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMySoundtracksForGamesInLibraryOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMySoundtracksForGamesInLibraryOnSale]}})})},e.prototype.GetInteractiveRecommendationsOnSale=function(){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.m_rgMyInteractiveRecOnSale?[3,2]:(this.m_rgMyInteractiveRecOnSale=Object(M.f)("ir_onsale","application_config"),this.m_rgMyInteractiveRecOnSale?[3,2]:[4,g.a.get(M.c.STORE_BASE_URL+"saleaction/ajaxgetironsale",{withCredentials:!0})]);case 1:t=e.sent(),this.m_rgMyInteractiveRecOnSale=t.data.appids,e.label=2;case 2:return[2,this.m_rgMyInteractiveRecOnSale]}})})},e.prototype.GetSaleTags=function(){return Object(G.b)(this,void 0,void 0,function(){var t;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.m_rgMySaleTags?[3,2]:(this.m_rgMySaleTags=Object(M.f)("saletags","application_config"),this.m_rgMySaleTags?[3,2]:[4,g.a.get(M.c.STORE_BASE_URL+"saleaction/ajaxgetsaletags",{withCredentials:!1})]);case 1:t=e.sent(),this.m_rgMySaleTags=t.data,e.label=2;case 2:return[2,this.m_rgMySaleTags]}})})},e}()),xt=new(function(){function e(){this.m_mySummary={points:0,points_earned:0,points_spent:0},this.m_bLoaded=!1}return e.prototype.LazyInit=function(){var e=this;if(!this.m_bLoaded){var t=Object(M.f)("points","application_config");this.ValidateStoreDefault(t)&&Object(m.runInAction)(function(){e.m_mySummary.points=t.points,e.m_mySummary.points_earned=t.points_earned,e.m_mySummary.points_spent=t.points_spent,e.m_bLoaded=!0})}},e.prototype.ValidateStoreDefault=function(e){var t=e;return!(!t||"object"!=typeof t)&&("number"==typeof t.points&&"number"==typeof t.points_earned&&"number"==typeof t.points_spent)},e.prototype.LoadSaleTokenPoints=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n=this;return Object(G.e)(this,function(e){switch(e.label){case 0:return this.LazyInit(),this.m_bLoaded||!M.i.logged_in?[3,2]:(t=M.c.STORE_BASE_URL+"lunarnewyearmarket/ajaxgettokensummary",[4,g.a.get(t,{withCredentials:!0})]);case 1:a=e.sent(),Object(m.runInAction)(function(){n.m_mySummary.points=a.data.summary.points,n.m_mySummary.points_earned=a.data.summary.points_earned,n.m_mySummary.points_spent=a.data.summary.points_spent,n.m_bLoaded=!0}),e.label=2;case 2:return[2,this.m_mySummary]}})})},e.prototype.ForceReloadSaleTokenPoints=function(){return Object(G.b)(this,void 0,void 0,function(){return Object(G.e)(this,function(e){return this.m_bLoaded=!1,[2,this.LoadSaleTokenPoints()]})})},e.prototype.AddPoints=function(e){this.m_mySummary.points+=e,this.m_mySummary.points_earned+=e},e.prototype.GetSaleTokenPoints=function(){return this.m_mySummary},Object(G.c)([m.observable],e.prototype,"m_mySummary",void 0),e}());window.g_SaleTokenPointStore=xt;var Rt=new(function(){function e(){this.m_salePageBackgroundOverride=null,this.m_salePageBackgroundWEBM=null,this.m_salePageBackgroundMP4=null,this.m_storyImages=null,this.m_strLastDoorOpenKey="video_noneset",this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e=this;this.m_bLoadedFromConfig||(Object(m.runInAction)(function(){e.m_userData=Object(M.f)("doorinfo","application_config"),e.m_salePageBackgroundOverride=Object(M.f)("doorinfobackground","application_config"),e.m_salePageBackgroundWEBM=Object(M.f)("doorinfowebm","application_config"),e.m_salePageBackgroundMP4=Object(M.f)("doorinfomp4","application_config"),e.m_storyImages=Object(M.f)("storyimages","application_config"),e.m_storyImages||(e.m_storyImages=new Array(4))}),this.m_bLoadedFromConfig=!0)},e.prototype.LoadDoorData=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=M.c.STORE_BASE_URL+"saleaction/ajaxgetopendoor",[4,g.a.get(t,{withCredentials:!0})];case 1:return a=e.sent(),this.m_userData=a.data.doordata,[2,this.m_userData]}})})},e.prototype.GetRawDoorData=function(){return this.m_userData},e.prototype.BIsDoorOpened=function(e){return this.LazyInit(),!!this.m_userData&&(e<this.m_userData.length&&this.m_userData[e].opened)},e.prototype.BCanUserOpenDoor=function(e){this.LazyInit();var t=(new Date).getTime()/1e3;return M.i.logged_in&&this.m_userData&&e<this.m_userData.length&&t>=this.m_userData[e].rtime_start&&t<=this.m_userData[e].rtime_end},e.prototype.GetDoorCount=function(){return this.LazyInit(),this.m_userData?this.m_userData.length:0},e.prototype.OpenDoor=function(i,l){return void 0===l&&(l=!0),Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o=this;return Object(G.e)(this,function(e){switch(e.label){case 0:if(!M.i.logged_in||!this.m_userData||i>this.m_userData.length)return[2,null];t=M.c.STORE_BASE_URL+"saleaction/ajaxopendoor",(a=new FormData).append("sessionid",M.c.SESSIONID),a.append("authwgtoken",M.i.authwgtoken),a.append("door_index",""+i),l||a.append("open_door","0"),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g.a.post(t,a,{withCredentials:!0})];case 2:return 1==(n=e.sent()).data.success?(Object(m.runInAction)(function(){if(o.m_userData[i].opened=l,o.m_salePageBackgroundOverride=n.data.sale_pg_background_override,o.m_salePageBackgroundMP4=n.data.sale_pg_background_mp4,o.m_salePageBackgroundWEBM=n.data.sale_pg_background_webm,o.m_storyImages[i]=n.data.story_image,o.m_strLastDoorOpenKey="door_"+(l?i:i-1),l){xt.AddPoints(100)}}),[2,n.data.rewards]):(console.error(Object(y.a)(n)),[3,4]);case 3:return r=e.sent(),console.error(Object(y.a)(r)),[3,4];case 4:return[2,null]}})})},e.prototype.BHasSalePageBackgroundOverride=function(){return this.LazyInit(),Boolean(this.m_salePageBackgroundOverride)},e.prototype.GetSalePageBackgroundOverride=function(){return this.LazyInit(),this.m_salePageBackgroundOverride},e.prototype.GetSalePageBackgroundMP4=function(){return this.LazyInit(),this.m_salePageBackgroundMP4},e.prototype.GetSalePageBackgroundWEBM=function(){return this.LazyInit(),this.m_salePageBackgroundWEBM},e.prototype.GetStoryImage=function(e){return this.LazyInit(),this.m_storyImages[e]},e.prototype.GetLastDoorOpen=function(){return this.LazyInit(),this.m_strLastDoorOpenKey},Object(G.c)([m.observable],e.prototype,"m_userData",void 0),Object(G.c)([m.observable],e.prototype,"m_salePageBackgroundOverride",void 0),Object(G.c)([m.observable],e.prototype,"m_salePageBackgroundWEBM",void 0),Object(G.c)([m.observable],e.prototype,"m_salePageBackgroundMP4",void 0),Object(G.c)([m.observable],e.prototype,"m_storyImages",void 0),Object(G.c)([m.observable],e.prototype,"m_strLastDoorOpenKey",void 0),e}());window.g_DoorStore=Rt;var Ft=new(function(){function e(){this.m_saleExp={},this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){if(!this.m_bLoadedFromConfig){var e=document.getElementById("application_config");e&&(this.m_saleExp=Object(M.f)("xprmnt",e)),this.m_bLoadedFromConfig=!0}},e.prototype.GetHideWishlist=function(){return this.LazyInit(),Boolean(this.m_saleExp&&this.m_saleExp.bHideWishlist)},e.prototype.GetHideIRList=function(){return this.LazyInit(),Boolean(this.m_saleExp&&this.m_saleExp.bHideIRList)},e.prototype.GetHideDLC=function(){return this.LazyInit(),Boolean(this.m_saleExp&&this.m_saleExp.bHideDLC)},e}()),Ht=a("Dl0Y"),Pt=(a("a6qw"),a("SS32")),zt=a("exzL"),Ut=a.n(zt),Vt=a("Xkb6"),Zt=a.n(Vt),Wt=a("2TyT"),Yt=a.n(Wt),Jt=a("dgee"),Qt=a.n(Jt),Xt=a("JtYz"),qt=a.n(Xt),Kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={currentSlide:1,prevDown:!1,nextDown:!1},e}return Object(G.d)(e,t),e.prototype.Next=function(){this.setState({currentSlide:Math.min(this.state.currentSlide+3,k.Children.count(this.props.children)-2)})},e.prototype.Prev=function(){this.setState({currentSlide:Math.max(this.state.currentSlide-3,1)})},e.prototype.PrevUp=function(){this.setState({prevDown:!1})},e.prototype.PrevDown=function(){this.setState({prevDown:!0})},e.prototype.NextUp=function(){this.setState({nextDown:!1})},e.prototype.NextDown=function(){this.setState({nextDown:!0})},e.prototype.UpdateCurrentSlide=function(e){this.state.currentSlide!==e&&this.setState({currentSlide:e})},e.prototype.render=function(){var a=this;if(!k.Children.count(this.props.children))return null;var e=this.state.currentSlide<=1?Zt.a:Ut.a;this.state.prevDown&&(e=Yt.a);var t=this.state.currentSlide>=k.Children.count(this.props.children)-2?Zt.a:Ut.a;return this.state.nextDown&&(t=Yt.a),k.createElement("div",{style:{position:"relative"}},k.createElement("div",{style:{display:768<window.screen.width?"flex":"none"},className:Object(z.a)(Pt.carouselBtnCtn,Pt.left)},k.createElement("img",{onClick:this.Prev,onMouseDown:this.PrevDown,onMouseUp:this.PrevUp,src:e,className:Object(z.a)(Pt.carouselBtnImg,Pt.left)})),k.createElement(Ht.Carousel,Object(G.a)({},this.props,{showArrows:!1,showIndicators:!1,selectedItem:this.state.currentSlide,onChange:this.UpdateCurrentSlide}),this.props.children),k.createElement("div",{style:{display:768<window.screen.width?"flex":"none"},className:Object(z.a)(Pt.carouselBtnCtn,Pt.right)},k.createElement("img",{onClick:this.Next,onMouseDown:this.NextDown,onMouseUp:this.NextUp,src:t,className:Object(z.a)(Pt.carouselBtnImg,Pt.right)})),k.createElement("div",{style:{display:"flex",justifyContent:"center"}},768<window.screen.width&&k.Children.map(this.props.children,function(e,t){return(t-1)%3==0?k.createElement("img",{src:Math.floor(t/3)===Math.floor(a.state.currentSlide/3)?Qt.a:qt.a,onClick:function(){return a.UpdateCurrentSlide(t)},style:{cursor:"pointer",margin:"4px"}}):null}),window.screen.width<=768&&k.Children.map(this.props.children,function(e,t){return k.createElement("img",{src:t===a.state.currentSlide?Qt.a:qt.a,onClick:function(){return a.UpdateCurrentSlide(t)},style:{cursor:"pointer",margin:"4px"}})})))},Object(G.c)([T.a],e.prototype,"Next",null),Object(G.c)([T.a],e.prototype,"Prev",null),Object(G.c)([T.a],e.prototype,"PrevUp",null),Object(G.c)([T.a],e.prototype,"PrevDown",null),Object(G.c)([T.a],e.prototype,"NextUp",null),Object(G.c)([T.a],e.prototype,"NextDown",null),Object(G.c)([T.a],e.prototype,"UpdateCurrentSlide",null),e}(k.Component),$t=a("qP7j"),ea=a.n($t),ta=new(function(){function e(){}return e.prototype.DeleteForumTopic=function(r,o,i,l,s){return Object(G.b)(this,void 0,void 0,function(){var t,a,n;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=M.c.COMMUNITY_BASE_URL+"forum/"+r.GetAccountID()+"/"+o+"/deletetopic/",null!=i&&""!=i&&(t+=i+"/"),(a=new FormData).append("sessionid",M.c.SESSIONID),a.append("gidforumtopic",l),[4,g.a.post(t,a,{withCredentials:!0,cancelToken:s.token})];case 1:if(1!=(n=e.sent()).data.success)throw n.data;return[2,n.data]}})})},e}()),aa=function(a){function l(e){var t=a.call(this,e)||this;return t.m_cancelSignal=g.a.CancelToken.source(),t.state={dialogState:t.props.bNoConfirmationNeeded?"waiting":"confirmation",bDeleteCommentThread:!1},t}return Object(G.d)(l,a),l.prototype.componentDidMount=function(){this.props.bNoConfirmationNeeded&&this.OnDelete()},l.prototype.OnDeleteEventSuccessCallback=function(){this.props.partnerEventStore.ResetModel(),this.state.bDeleteCommentThread?ta.DeleteForumTopic(this.m_clanSteamID,"Event",void 0,this.m_forumTopicGID,this.m_cancelSignal).then(this.OnDeleteForumTopicSuccessCallback).catch(this.OnDeleteForumTopicFailureCallback):this.setState({dialogState:"success"})},l.prototype.OnDeleteForumTopicSuccessCallback=function(){this.setState({dialogState:"success"})},l.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted")},l.prototype.OnDeleteEventFailureCallback=function(e){this.setState(Object(G.a)({dialogState:"error"},Object(y.a)(e)))},l.prototype.OnDeleteForumTopicFailureCallback=function(e){this.setState(Object(G.a)({dialogState:"failed_thread_delete"},Object(y.a)(e)))},l.prototype.SetToWaiting=function(){"waiting"!=this.state.dialogState&&this.setState({dialogState:"waiting"})},l.prototype.OnDelete=function(){var e=this.props,t=e.eventModel,a=e.partnerEventStore,n=t.clanSteamID,r=t.GID,o=t.AnnouncementGID;this.m_forumTopicGID=t.forumTopicGID,this.m_clanSteamID=n,!this.props.eventModel.bOldAnnouncement&&r&&"0"!=r&&r!=R.f?(this.SetToWaiting(),a.DeleteClanEvent(n,r).then(this.OnDeleteEventSuccessCallback).catch(this.OnDeleteEventFailureCallback)):this.props.eventModel.bOldAnnouncement?(this.SetToWaiting(),a.DeleteOldAnnouncement(n,o).then(this.OnDeleteEventSuccessCallback).catch(this.OnDeleteEventFailureCallback)):(a.ResetModel(),this.setState({dialogState:"success"}))},l.prototype.OnChangeDeleteForum=function(){this.setState({bDeleteCommentThread:!this.state.bDeleteCommentThread})},l.prototype.render=function(){var e=this,t=this.props.eventModel,a=this.props.closeModal,n="",r=new Array;switch(this.state.dialogState){case"confirmation":var o=t.GetNameWithFallback(Object(R.e)(M.c.LANGUAGE)),i=t.BIsVisibleEvent()?"#EventDisplay_AreYouSure_Visible":"#EventDisplay_AreYouSure";n=Object(j.c)(i,o),a=this.OnDelete,t.BHasForumTopicGID()&&r.push(k.createElement("div",{key:"WantToDeleteCmtThread",className:ea.a.Padding},k.createElement("input",{type:"checkbox",id:"del_cmt_post",name:"del_cmt_post",defaultChecked:this.state.bDeleteCommentThread,onChange:this.OnChangeDeleteForum}),k.createElement("label",{htmlFor:"del_cmt_post"},Object(j.c)("#EventDisplay_DeleteEvent_Comment"))));break;case"waiting":n=Object(j.c)("#EventDisplay_DeleteEvent_InProgress"),r.push(k.createElement(U.a,{key:"throbber"}));break;case"error":n=Object(j.c)("#EventDisplay_DeleteEvent_Error"),r.push(k.createElement("div",{key:"deleteerror_"+ ++l.m_uniqueError,className:ea.a.ErrorStyles},this.state.strErrorMsg));break;case"failed_thread_delete":n=Object(j.c)("#EventDisplay_DeleteEvent_ForumTopicError"),r.push(k.createElement("div",{key:"deleteerror_"+ ++l.m_uniqueError,className:ea.a.ErrorStyles},this.state.strErrorMsg)),this.props.onDeleteSuccessAndCloseDialog&&(a=function(){e.props.onDeleteSuccessAndCloseDialog(),e.props.closeModal()});break;case"success":n=Object(j.c)("#EventDisplay_DeleteEvent_Success"),this.props.onDeleteSuccessAndCloseDialog&&(a=function(){e.props.onDeleteSuccessAndCloseDialog(),e.props.closeModal()})}return k.createElement(le.b,{strTitle:Object(j.c)("#EventDisplay_DeleteEvent"),strDescription:n,onCancel:this.props.closeModal,onOK:a,bAlertDialog:"confirmation"!=this.state.dialogState,bOKDisabled:"waiting"==this.state.dialogState,bDestructiveWarning:"error"==this.state.dialogState},r)},l.m_uniqueError=0,Object(G.c)([T.a],l.prototype,"OnDeleteEventSuccessCallback",null),Object(G.c)([T.a],l.prototype,"OnDeleteForumTopicSuccessCallback",null),Object(G.c)([T.a],l.prototype,"OnDeleteEventFailureCallback",null),Object(G.c)([T.a],l.prototype,"OnDeleteForumTopicFailureCallback",null),Object(G.c)([T.a],l.prototype,"SetToWaiting",null),Object(G.c)([T.a],l.prototype,"OnDelete",null),Object(G.c)([T.a],l.prototype,"OnChangeDeleteForum",null),l}(k.Component),na=a("6eA3"),ra=a.n(na),oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bRedirectToHome:!1,nMaxSaleDayIndex:function(e){var t=void 0;e&&0<e.GetSaleSectionCount()&&e.BHasSaleEnabled()&&e.GetSaleSections().forEach(function(e){"items"!=e.section_type||e.smart_section||e.capsules.forEach(function(e){void 0!==e.visibility_index&&(void 0===t||t<e.visibility_index)&&(t=e.visibility_index)})});return t}(e.props.eventModel),nSaleDayIndex:e.props.eventModel?e.props.eventModel.GetDayIndexFromEventStart():0},e}return Object(G.d)(e,t),e.prototype.OnDeleteVerifyRequest=function(e){Object(ie.c)(k.createElement(aa,{eventModel:this.props.eventModel,onDeleteSuccessAndCloseDialog:this.OnDeleteSuccessAndComplete,partnerEventStore:this.props.partnerEventStore}),Object(se.m)(e))},e.prototype.OnDeleteSuccessAndComplete=function(){this.setState({bRedirectToHome:!0})},e.prototype.OnChangeVisibilityDate=function(e){this.setState({nSaleDayIndex:e}),this.props.fnOnUpdateSaleDayIndex(e)},e.prototype.render=function(){var t=this,e=this.props,a=e.addtionalAdminButtons,n=e.eventModel,r=e.partnerEventStore,o=e.useAnchors;if(this.state.bRedirectToHome)return Object(K.g)(n,K.a.k_eCommunityAdminPage);var i=A.a.Get().GetPartnerEventPermissions(n.clanSteamID),l=n.visibility_state==L.b.k_EEventStateVisible,s=n.visibility_state==L.b.k_EEventStateStaged;if(i.can_edit||i.support_user){var c=[];if(void 0!==this.state.nMaxSaleDayIndex)for(var d=0;d<=this.state.nMaxSaleDayIndex;++d)c.push({label:Object(j.c)("#SalePage_Admin_SaleEventDay",d+1),data:d});return k.createElement(Te.a,null,k.createElement("div",{className:na.DisplayAdminPanel},k.createElement("span",{className:na.DisplayAdminPanel_Title},Object(j.c)("#EventDisplay_Admin_Title")),k.createElement("div",{className:na.DisplayAdminPanel_ctn},a,a&&k.createElement("span",{className:na.DisplayAdminPanel_Spacer}," "),k.createElement(K.c,{eventModel:n,route:K.a.k_eCommunityEdit,openNewWindow:o,className:Object(z.a)(ct.Button,na.AdminButton)},Object(j.c)("#EventEditor_Edit")),r&&k.createElement("span",{className:ct.Button+" "+na.AdminButton,onClick:this.OnDeleteVerifyRequest},Object(j.c)("#EventDisplay_DeleteEvent")),!l&&k.createElement(k.Fragment,null,k.createElement(K.c,{eventModel:n,route:K.a.k_eCommunityPublish,openNewWindow:o,className:Object(z.a)(ct.Button,na.AdminButton)},Object(j.c)(s?"#EventEditor_Publish_VisibleNow":"#Button_Publish"))),k.createElement(K.c,{eventModel:n,route:K.a.k_eCommunityAdminPage,openNewWindow:o,className:Object(z.a)(ct.Button,na.AdminButton)},Object(j.c)("#EventDisplay_Events")),Boolean(void 0!==this.state.nMaxSaleDayIndex&&0<c.length)&&k.createElement(ke.g,{strDropDownClassName:ct.DropDownScroll,rgOptions:c,selectedOption:Math.min(this.state.nMaxSaleDayIndex,this.state.nSaleDayIndex),onChange:function(e){return t.OnChangeVisibilityDate(e.data)},bDisableMouseOverlay:!0,contextMenuPositionOptions:{bDisableMouseOverlay:!0}}),Boolean(n.jsondata.bSaleEnabled&&this.props.bPreviewMode)&&k.createElement(K.c,{eventModel:n,route:K.a.k_eStoreSalePage,openNewWindow:o,className:Object(z.a)(ct.Button,na.AdminButton)},Object(j.c)("#EventDisplay_SalesPage")),Boolean(n.jsondata.bSaleEnabled&&M.i.is_support&&n.GID)&&k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+"https://steamstats/sales/details/?gid="+n.GID+"&clanid="+n.clanSteamID.GetAccountID(),target:M.c.IN_CLIENT?"":"_blank",className:Object(z.a)(ct.Button,na.AdminButton,ct.ValveOnlyBackground)},Object(j.c)("#EventDisplay_StatsPage")))))}return k.createElement("span",null)},Object(G.c)([T.a],e.prototype,"OnDeleteVerifyRequest",null),Object(G.c)([T.a],e.prototype,"OnDeleteSuccessAndComplete",null),Object(G.c)([T.a],e.prototype,"OnChangeVisibilityDate",null),e=Object(G.c)([r.observer],e)}(k.Component);var ia=a("bWts"),la=a.n(ia),sa=a("XsxU"),ca=a.n(sa),da=a("bS9Q"),pa=a("Lql7"),ua=a("uIWk"),ma=a("7u3m"),ha=a.n(ma),va=a("D4G2"),ga=a.n(va),_a=a("Ff1b"),ya=a.n(_a),ba=a("go9d"),Ea=a.n(ba),Sa=a("/PpB"),fa=function(n){function e(e){var t=n.call(this,e)||this;t.m_cancelSignal=g.a.CancelToken.source();var a=ae.a.InitFromClanID(e.creatorID.clan_account_id);return t.state={bLoading:!ua.a.BHasCreatorHomeLoaded(a)||!N.a.BIsLoaded()},t}return Object(G.d)(e,n),e.prototype.componentDidMount=function(){var t=this;if(this.state.bLoading){N.a.HintLoad();var e=ae.a.InitFromClanID(this.props.creatorID.clan_account_id);ua.a.LoadCreatorHome(e,this.m_cancelSignal).then(function(e){N.a.HintLoad().then(function(e){return t.setState({bLoading:!1})}).catch(function(e){return t.HandleLoadingError(e)})}).catch(function(e){return t.HandleLoadingError(e)})}},e.prototype.HandleLoadingError=function(e){var t=Object(y.a)(e);console.log("CreatorHomeEmbed hit error: "+t.strErrorMsg,t),this.setState({bLoading:!1,strErrorMsg:t.strErrorMsg})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("CreatorHomeEmbed component unmounted")},e.prototype.GetSocialMediaElements=function(t){var a=new Array;return t.GetSocialList().forEach(function(e){return a.push(k.createElement(Ia,{social:e,key:"creator_"+t.GetClanAccountID()+"_"+e.external_type}))}),a},e.prototype.OnFollowClick=function(){var e=this.props.eventModel,t=A.a.Get().GetPartnerEventPermissions(e.clanSteamID);A.a.Get().BIsUserLoggedIn()?t.limited_user?Object(ie.d)(k.createElement(Sa.a,null),window):this.setState({bApplyingFollowing:!0},this.TakeFollowAction):Object(ie.d)(k.createElement(le.b,{strTitle:Object(j.c)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(j.c)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(j.c)("#MobileLogin_SignIn"),onOK:function(){return Object(we.a)()}}),window)},e.prototype.TakeFollowAction=function(){var a=this,n=this.props.creatorID,e=ae.a.InitFromClanID(n.clan_account_id),r=N.a.BIsFollowingCreator(e),o=N.a.BIsIgnoringCreator(e);N.a.UpdateFollowOrIgnoreCurator(e,!o,!(o||r)).then(function(e){var t=ua.a.GetCreatorHomeByID(n);o||t.AdjustFollower(r?-1:1),a.setState({bApplyingFollowing:!1})}).catch(function(e){a.setState({bApplyingFollowing:!1}),a.HandleLoadingError(e)})},e.prototype.render=function(){if(this.state.bLoading)return k.createElement("div",{className:pa.DevSummaryWidgetCtn},k.createElement(U.a,null));if(this.state.strErrorMsg)return k.createElement("div",null);var e=this.props,t=e.creatorID,a=e.bShowTagline,n=ae.a.InitFromClanID(t.clan_account_id),r=ua.a.GetCreatorHomeByID(t),o=t.type,i="developer"==t.type?Object(j.c)("#CreatorHome_DevelopedBy"):"publisher"==t.type?Object(j.c)("#CreatorHome_PublishedBy"):Object(j.c)("#CreatorHome_InFranchise"),l=r.GetNumFollowers(),s=r.GetURL(o),c=this.GetSocialMediaElements(r),d=N.a.BIsFollowingCreator(n),p=N.a.BIsIgnoringCreator(n);return k.createElement(Te.a,null,k.createElement("div",{className:Object(z.a)(pa.DevSummaryCtn,this.props.bSmallFormat?pa.SmallFormat:pa.LargeFormat)},!this.props.bHideCreatorType&&k.createElement("span",{className:pa.Title},i),k.createElement("div",{className:pa.DevSummaryWidgetCtn},k.createElement("div",{className:pa.DevSummaryBackground,style:{backgroundImage:"url("+r.GetAvatarURLFullSize()+" )"}}),k.createElement("div",{className:Object(z.a)(pa.DevSummaryContent,ct.FlexColumnContainer,ct.FlexContainSpaceBetween)},k.createElement("div",{className:ct.FlexRowContainer},k.createElement("a",{href:s},k.createElement("img",{className:pa.Avatar,src:r.GetAvatarURLFullSize()})),k.createElement("div",{className:ct.FlexColumnContainer},k.createElement("div",{className:Object(z.a)(pa.CreatorTitleCtn,ct.FlexColumnContainer)},k.createElement("a",{href:s,className:pa.CreatorNameName},r.GetName()),a&&k.createElement("div",{className:Object(z.a)(ct.FlexColumnContainer,pa.CreatorTagline)},r.GetTagLine())),k.createElement("div",{className:this.props.bSmallFormat?ct.FlexColumnContainer:ct.FlexRowContainer},k.createElement("div",{className:pa.FollowBtnCtn},k.createElement("div",{className:Object(z.a)(ct.Button,pa.FollowButton),onClick:this.OnFollowClick},this.state.bApplyingFollowing&&k.createElement(U.a,{size:"small"}),!this.state.bApplyingFollowing&&(d||p)&&k.createElement("img",{style:{height:"16px"},src:"https://steamstore-a.akamaihd.net/public/images/v6/ico/ico_selected.png"}),k.createElement("div",{className:pa.FollowBtnText},!this.state.bApplyingFollowing&&(d?Object(j.c)("#Button_Followed"):p?Object(j.c)("#Button_Ignored"):Object(j.c)("#Button_Follow")))),k.createElement("div",{className:pa.Followers},k.createElement("span",null,l.toLocaleString(j.b.GetPreferredLocales())),k.createElement("br",null),Object(j.c)("#CreatorHome_JustFollowers"))),0<c.length&&k.createElement("div",{className:Object(z.a)(pa.SocialContainer,ct.FlexColumnContainer)},c))))))))},Object(G.c)([T.a],e.prototype,"OnFollowClick",null),Object(G.c)([T.a],e.prototype,"TakeFollowAction",null),e=Object(G.c)([r.observer],e)}(k.Component),Ca=function(a){function e(e){var t=a.call(this,e)||this;return t.state={bLoading:!te.a.BIsAppidLoaded(e.appid)},t}return Object(G.d)(e,a),e.prototype.componentDidMount=function(){var a=this,e=this.props.appid;this.state.bLoading&&te.a.EnsureStoreCapsuleInfoLoaded(e).then(function(e){return a.setState({bLoading:!1})}).catch(function(e){var t=Object(y.a)(e);console.log("CreatorHomeEmbedForApp - failed to load appinfo "+t.strErrorMsg),a.setState({strErrorMsg:t.strErrorMsg,bLoading:!1})})},e.prototype.render=function(){if(this.state.bLoading)return k.createElement("div",{className:pa.DevSummaryWidgetCtn},k.createElement(U.a,null));var e=this.props,t=e.appid,a=e.eventModel,n=te.a.GetStoreCapsuleInfo(t).GetAppStoreData();if(!this.state.strErrorMsg&&n.creator_list&&0<n.creator_list.length){var r=void 0,o=void 0,i=void 0;return n.creator_list.forEach(function(e){switch(e.type){case"developer":void 0===r&&(r=e);break;case"publisher":void 0===o&&(o=e);break;default:void 0===i&&(i=e)}}),k.createElement(Te.a,null,k.createElement(fa,{creatorID:r||(o||i),eventModel:a,bSmallFormat:!0}))}return k.createElement("div",null)},e=Object(G.c)([r.observer],e)}(k.Component),Ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var e=this.props.social,t="";switch(e.external_type){case 3:case 7:t=ha.a;break;case 5:t=ya.a;break;case 4:t=ga.a;break;case 6:t=Ea.a}return k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl_external/":"")+e.external_url,target:M.c.IN_CLIENT?void 0:"_blank","data-tooltip-text":e.external_user_name?e.external_user_name:e.external_url,className:Object(z.a)(pa.SocialLink)},k.createElement("img",{className:Object(z.a)(pa.SocialImg),src:t}),k.createElement("div",null,e.external_follows.toLocaleString(j.b.GetPreferredLocales())))},t}(k.Component),Oa=a("TOXn"),wa=a("dLk7"),Ta=a.n(wa),ka=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={events:[],bLoading:!1,bShowInfiniteScrollOverlay:!1},e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.PrepLoadEvents=function(){var e=this.props,t=e.partnerEventStore,a=e.eventModel;t&&a.BHasAnnouncementGID()&&this.setState({bLoading:!0},this.ActualLoadEvent)},e.prototype.ActualLoadEvent=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r=this;return Object(G.e)(this,function(e){return t=this.props,a=t.partnerEventStore,n=t.eventModel,a.LoadAdjacentPartnerEventsByEvent(n,n.clanSteamID,n.appid,3,3,void 0,this.m_cancelSignal).then(function(e){!r.m_cancelSignal.token.reason&&e&&0<e.length?r.setState({bLoading:!1,events:e},r.HandleTrackingWhenAdjacentLoadCompleted):r.setState({bLoading:!1})}).catch(function(e){r.setState({bLoading:!1},r.HandleTrackingWhenAdjacentLoadCompleted),console.log("EventDetails: "+Object(y.a)(e).strErrorMsg)}),[2]})})},e.prototype.HandleTrackingWhenAdjacentLoadCompleted=function(){var e=this.props,t=e.eventModel,a=e.trackingLocation;if(a){var n=A.a.Get().GetTracker();this.state.events&&0<this.state.events.length&&this.state.events.filter(function(e){return e.BIsPartnerEvent()}).forEach(function(e){return n.MarkEventShown(e.GID,e.clanSteamID.GetAccountID(),a)}),t.BIsPartnerEvent()&&t.BIsVisibleEvent()&&n.MarkEventRead(t.GID,t.clanSteamID.GetAccountID(),a),n.Flush()}},e.prototype.componentDidMount=function(){this.PrepLoadEvents()},e.prototype.componentDidUpdate=function(e){this.props.appid!=e.appid&&this.setState({events:[]},this.PrepLoadEvents)},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("PartnerEventRow unmounted")},e.prototype.ConstructEventRowCapsules=function(){var e=new Array;if(0==this.state.events.length)return e;for(var t=0,a=this.props.eventModel,n=new Array,r=0,o=this.state.events;r<o.length;r++){var i=o[r];i.BHasAnnouncementGID()&&n.push(i.AnnouncementGID)}var l=this.props.partnerEventStore;P.f(n);for(var s=0,c=n;s<c.length;s++){var d=c[s],p=l.GetClanEventFromAnnouncementGID(d);if(p&&p.GID!=a.GID&&p.AnnouncementGID!=a.AnnouncementGID&&(p&&p.visibility_state==L.b.k_EEventStateVisible&&(e.push(k.createElement(Da,{key:p.GID+" "+p.AnnouncementGID,event:p})),3<=++t)))break}return e},e.prototype.OnViewAll=function(){this.setState({bShowInfiniteScrollOverlay:!0})},e.prototype.HideInfiniteScroller=function(){this.setState({bShowInfiniteScrollOverlay:!1})},e.prototype.render=function(){var e=this.props,t=e.eventModel,a=e.partnerEventStore,n=e.appid;if(this.state.bShowInfiniteScrollOverlay)return k.createElement(Oe,{appid:n,eventModel:t,announcementGID:t.GetAnnouncementGID(),closeModal:this.HideInfiniteScroller,partnerEventStore:a});if(this.state.bLoading)return k.createElement(U.a,{position:"center",size:"medium"});if(0==this.state.events.length)return k.createElement("div",null);var r=te.a.GetStoreCapsuleInfo(n).GetAppStoreData(),o=ne.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID());if(!o)return null;var i=this.ConstructEventRowCapsules();if(0==i.length)return k.createElement("div",null);var l=t.BHasAnnouncementGID();return k.createElement("div",{className:ca.a.OtherEventsCtn},k.createElement("div",{className:dt.a.EventSectionTitleCtn},k.createElement("div",{className:dt.a.EventSectionTitle},Object(j.i)("#EventBrowse_MoreEventsTitle",o.is_ogg?r.title:o.group_name)," "),k.createElement("div",{className:dt.a.EventSectionSpacer}," "),l&&k.createElement("div",{className:dt.a.EventSectionMoreBtn,onClick:this.OnViewAll},Object(j.c)("#EventBrowse_MoreEventsBtn")),!l&&k.createElement("a",{href:M.c.COMMUNITY_BASE_URL+"ogg/"+n+"/announcements",className:dt.a.EventSectionMoreBtn},Object(j.c)("#EventBrowse_MoreEventsBtn"))),k.createElement("div",{className:ca.a.OtherEvents},i))},Object(G.c)([T.a],e.prototype,"PrepLoadEvents",null),Object(G.c)([T.a],e.prototype,"OnViewAll",null),Object(G.c)([T.a],e.prototype,"HideInfiniteScroller",null),e=Object(G.c)([r.observer],e)}(k.Component),Da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,a=e.imageURLOverride,n=e.openNewWindow,r=e.appInfo,o=e.langOverride,i=e.onClick;if(!t)return k.createElement("div",{className:ca.a.OtherEvents_EventCtn});var l=o||Object(R.e)(M.c.LANGUAGE),s=void 0!==a?a:t.GetImageURLWithFallback("capsule",l,F.c.capsule_main),c=t.GetNameWithFallback(l),d=t.GetCategoryAsString(),p=t.GetSummaryWithFallback(l),u=t.GetSubTitleWithLanguageFallback(l);return u&&(30<u.length||30<c.length)&&(u=void 0),k.createElement(k.Fragment,null,k.createElement(K.c,{className:Object(z.a)(ca.a.OtherEvents_EventCtn,ca.a.HoversEnabled),eventModel:t,route:K.a.k_eView,openNewWindow:n,onClick:i},k.createElement("div",{className:ca.a.EventSummaryContainer},k.createElement("div",{className:ca.a.EventSummaryType},d),k.createElement("div",{className:ca.a.EventSummaryText},p)),k.createElement("div",{className:ca.a.OtherEvents_BGImage,style:{backgroundColor:"#ffffff",backgroundImage:"url("+s+")"}}),k.createElement("div",{className:ca.a.OtherEvents_ContentCtn},k.createElement("div",{className:ca.a.OtherEvents_MainImageCtn},k.createElement("img",{src:s,className:ca.a.OtherEvents_MainImage})),k.createElement("div",{className:ca.a.OtherEvents_TextCtn},k.createElement("div",{className:ca.a.OtherEvents_TextTitle},c),u&&k.createElement("div",{className:ca.a.OtherEvents_SubTitle},u),k.createElement(w.a,{bSingleLine:!0,dateAndTime:t.GetStartTimeAndDateUnixSeconds()})))),r&&k.createElement("span",{className:ca.a.AppCapsuleCtn},k.createElement(re.a,{strURL:M.c.STORE_BASE_URL+"app/"+r.appid,type:"app",id:r.appid},k.createElement("img",{className:ca.a.AppCapsuleImage,src:this.props.appInfo.tiny_capsule})),k.createElement("span",{className:ca.a.AppCapsulePrice},Boolean(this.props.appInfo.discount_percent)&&k.createElement("span",{className:Ta.a.StoreSaleDiscountBox},"-"+this.props.appInfo.discount_percent+"%"),!this.props.appInfo.is_free&&k.createElement("span",{className:Ta.a.StoreSalePriceBox},this.props.appInfo.price))))},t=Object(G.c)([r.observer],t)}(k.Component),Aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,a=e.imageURLOverride,n=e.openNewWindow,r=e.onClick;if(!t)return k.createElement("div",{className:ca.a.OtherEvents_EventCtn});var o=Object(R.e)(M.c.LANGUAGE),i=void 0!==a?a:t.GetImageURLWithFallback("capsule",o,F.c.capsule_main),l=t.GetNameWithFallback(o),s=t.GetCategoryAsString();return k.createElement(K.c,{className:ca.a.OtherEvents_EventCtn+" "+ca.a.HorizontalEvent,eventModel:t,route:K.a.k_eView,openNewWindow:n,onClick:r},k.createElement("div",{className:ca.a.OtherEvents_ContentCtn},k.createElement("div",{className:ca.a.OtherEvents_MainImageCtn},k.createElement("img",{src:i,className:ca.a.OtherEvents_MainImage}))),k.createElement("div",{className:ca.a.OtherEvents_TextCtn},k.createElement("div",{className:ca.a.HorizontalDescriptionCtn},k.createElement("div",{className:ca.a.HorizontalDescription},s),k.createElement(w.a,{bSingleLine:!0,dateAndTime:t.GetStartTimeAndDateUnixSeconds()})),k.createElement("div",{className:ca.a.HorizontalTitle},l)))},t=Object(G.c)([r.observer],t)}(k.Component),ja=function(){function e(e){this.m_stats=e||{event_gid:"0",library_overview_shown:0,library_overview_read:0,app_details_spotlight_shown:0,app_details_spotlight_read:0,app_details_activity_shown:0,app_details_activity_read:0,store_app_page_shown:0,store_app_page_read:0,store_front_page_shown:0,store_front_page_read:0,community_hub_shown:0,community_hub_read:0,news_hub_shown:0,news_hub_read:0,event_scroller_read:0},this.m_stats.total_showm=this.m_stats.library_overview_shown+this.m_stats.app_details_activity_shown+this.m_stats.app_details_spotlight_shown+this.m_stats.store_app_page_shown+this.m_stats.store_front_page_shown+this.m_stats.community_hub_shown+this.m_stats.news_hub_shown,this.m_stats.total_read=this.m_stats.library_overview_read+this.m_stats.app_details_activity_read+this.m_stats.app_details_spotlight_read+this.m_stats.store_app_page_read+this.m_stats.store_front_page_read+this.m_stats.community_hub_read+this.m_stats.news_hub_read+this.m_stats.event_scroller_read,this.m_lastUpdateTime=e?Date.now()/1e3:0}return e.prototype.reset=function(e){this.m_stats.library_overview_shown=e.library_overview_shown,this.m_stats.library_overview_read=e.library_overview_read,this.m_stats.app_details_spotlight_shown=e.app_details_spotlight_shown,this.m_stats.app_details_spotlight_read=e.app_details_spotlight_read,this.m_stats.app_details_activity_shown=e.app_details_activity_shown,this.m_stats.app_details_activity_read=e.app_details_activity_read,this.m_stats.store_app_page_shown=e.store_app_page_shown,this.m_stats.store_app_page_read=e.store_app_page_read,this.m_stats.store_front_page_shown=e.store_front_page_shown,this.m_stats.store_front_page_read=e.store_front_page_read,this.m_stats.community_hub_shown=e.community_hub_shown,this.m_stats.community_hub_read=e.community_hub_read,this.m_stats.news_hub_shown=e.news_hub_shown,this.m_stats.news_hub_read=e.news_hub_read,this.m_stats.event_scroller_read=e.event_scroller_read,this.m_stats.total_showm=e.library_overview_shown+e.app_details_activity_shown+e.app_details_spotlight_shown+e.store_app_page_shown+e.store_front_page_shown+e.community_hub_shown+e.news_hub_shown,this.m_stats.total_read=e.library_overview_read+e.app_details_activity_read+e.app_details_spotlight_read+e.store_app_page_read+e.store_front_page_read+e.community_hub_read+e.news_hub_read+e.event_scroller_read,this.m_lastUpdateTime=Date.now()/1e3},Object(G.c)([m.observable],e.prototype,"m_stats",void 0),Object(G.c)([m.observable],e.prototype,"m_lastUpdateTime",void 0),e}(),Ga=new(function(){function e(){this.m_mapPerEventStats=new Map,this.m_mapSummaryStats=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var n=this;if(!this.m_bLoadedFromConfig){var e=Object(M.f)("trackingdatasummary","application_config");this.ValidateStoreDefault(e)&&this.m_mapSummaryStats.set(e.clan_account_id,new ja(e));var t=Object(M.f)("trackingdataevents","application_config");this.ValidateStoreDefaultList(t)&&t.forEach(function(e){var t=ae.a.InitFromClanID(e.clan_account_id),a=n.GetKey(t,e.event_gid);n.m_mapPerEventStats.set(a,new ja(e))}),this.m_bLoadedFromConfig=!0}},e.prototype.ValidateStoreDefault=function(e){var t=e;return!(!t||"object"!=typeof t||!t.clan_account_id)&&("number"==typeof t.clan_account_id&&0<t.clan_account_id)},e.prototype.ValidateStoreDefaultList=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clan_account_id&&0<t[0].clan_account_id)},e.prototype.GetStatsFor=function(e,t){this.LazyInit();var a=this.GetKey(e,t);return this.m_mapPerEventStats.has(a)||this.m_mapPerEventStats.set(a,new ja(null)),this.m_mapPerEventStats.get(a)},e.prototype.GetTotalStats=function(e){return this.LazyInit(),this.m_mapSummaryStats.has(e.GetAccountID())||this.m_mapSummaryStats.set(e.GetAccountID(),new ja(null)),this.m_mapSummaryStats.get(e.GetAccountID())},e.prototype.GetKey=function(e,t){return e.GetAccountID()+"_"+t},e.prototype.LoadStatsForEvents=function(c,d,p){return Object(G.b)(this,void 0,void 0,function(){var n,t,a,r,o,i,l,s=this;return Object(G.e)(this,function(e){switch(e.label){case 0:if(this.LazyInit(),n=Date.now()/1e3,!(t=d.filter(function(e){var t=s.GetKey(c,e),a=s.m_mapPerEventStats.get(t);return!a||null==a.m_stats||a.m_lastUpdateTime<n-3600}))||0==t.length)return[2];a=Object(M.d)()+"actions/ajaxgetpartnereventsreport",r={sessionid:M.c.SESSIONID,clan_account_id:c.GetAccountID(),gidlist:t.join(",")},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,g.a.get(a,{params:r,withCredentials:!0,cancelToken:p.token})];case 2:return o=e.sent(),Object(m.runInAction)(function(){s.m_mapSummaryStats.set(c.GetAccountID(),new ja(o.data.summary)),o.data.events_detail.forEach(function(e){var t=s.GetKey(c,e.event_gid);s.m_mapPerEventStats.has(t)?s.m_mapPerEventStats.get(t).reset(e):s.m_mapPerEventStats.set(t,new ja(e))})}),[3,4];case 3:return i=e.sent(),l=Object(y.a)(i),console.error("CPartnerEventReportingStore "+l.strErrorMsg,l),[3,4];case 4:return[2]}})})},Object(G.c)([m.observable],e.prototype,"m_mapPerEventStats",void 0),Object(G.c)([m.observable],e.prototype,"m_mapSummaryStats",void 0),Object(G.c)([m.action],e.prototype,"LazyInit",null),e}()),La=a("sGzE"),Ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.summary,a=e.bIncludeDescription;return 0==t.total_read+t.total_showm?null:k.createElement("div",null,k.createElement("div",{className:Object(z.a)(La.StatsCtnTitle,a?La.NormalStatsMode:La.SmallStatsMode)},k.createElement("h1",null,Object(j.c)("#EventDashBoard_SummaryStats_Title")),Boolean(a)&&k.createElement("p",null,Object(j.c)("#EventDashBoard_SummaryStats_Desc")," ",k.createElement("a",{href:"https://partner.steamgames.com/doc/marketing/event_tools/stats",target:"_blank"},Object(j.c)("#EventDashBoard_SummaryStats_Link")))),k.createElement("div",{className:Object(z.a)(La.StatsCtn,a?La.NormalStatsMode:La.SmallStatsMode)},k.createElement("div",{className:La.StatsLeftSection},k.createElement("div",{className:La.StatsTitle_ctn},k.createElement("span",null,Object(j.c)("#EventDashBoard_Location_LibraryHome"))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_LibraryHome_Shown")),k.createElement("span",null,t.library_overview_shown.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_LibraryHome_Read")),k.createElement("span",null,t.library_overview_read.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("br",null),k.createElement("div",{className:La.StatsTitle_ctn},k.createElement("span",null,Object(j.c)("#EventDashBoard_Location_LibraryDetail"))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_AppDetailSpotlight_Shown")),k.createElement("span",null,t.app_details_spotlight_shown.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_AppDetailSpotlight_Read")),k.createElement("span",null,t.app_details_spotlight_read.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("br",null),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_AppDetailActivity_Shown")),k.createElement("span",null,t.app_details_activity_shown.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_AppDetailActivity_Read")),k.createElement("span",null,t.app_details_activity_read.toLocaleString(j.b.GetPreferredLocales())))),k.createElement("div",{className:La.StatsRightSection},k.createElement("div",{className:La.StatsTitle_ctn},k.createElement("span",null,Object(j.c)("#EventDashBoard_Location_StoreDetail"))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_StoreAppPage_Shown")),k.createElement("span",null,t.store_app_page_shown.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_StoreAppPage_Read")),k.createElement("span",null,t.store_app_page_read.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("br",null),k.createElement("div",{className:La.StatsTitle_ctn},k.createElement("span",null,Object(j.c)("#EventDashBoard_Location_CommunityDetail"))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_Community_Shown")),k.createElement("span",null,t.community_hub_shown.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_Community_Read")),k.createElement("span",null,t.community_hub_read.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle_ctn},k.createElement("span",null,Object(j.c)("#EventDashBoard_Location_NewsHubDetail"))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_NewsHub_Shown")),k.createElement("span",null,t.news_hub_shown.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:La.StatsTitle},k.createElement("span",null,Object(j.c)("#EventDashBoard_Summary_NewsHub_Read")),k.createElement("span",null,t.news_hub_read.toLocaleString(j.b.GetPreferredLocales()))))))},t=Object(G.c)([r.observer],t)}(k.Component),Na=a("ZCZY"),Ba=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.GenerateBreadCrumbs=function(){var t=new Array;return this.props.crumbs.forEach(function(e){e.url.startsWith("http")?t.push(k.createElement("a",{key:"anchor_"+e.name,href:e.url},e.name)):t.push(k.createElement(Le.b,{key:"link_"+e.name,to:e.url},e.name)),t.push(k.createElement("span",{key:e.name+"span"}," > "))}),t},t.prototype.render=function(){var e=this.GenerateBreadCrumbs();return k.createElement("div",{className:Object(z.a)(Na.BreadContainer)},k.createElement("div",{className:"blockbg"},e),k.createElement("div",{style:{clear:"left"}}))},t}(k.Component),xa=a("4sqd"),Ra=k.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,"NIbt"))}),Fa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=g.a.CancelToken.source(),e.state={bLoadingAppInfo:!te.a.BIsAppidLoaded(e.props.event.appid),bLoadingClanInfo:!!ne.a.GetClanInfoByClanAccountID(e.props.event.clanSteamID.GetAccountID())},e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){var t=this;window.scrollTo(0,0);var e=this.props.event.appid;this.state.bLoadingAppInfo&&te.a.EnsureStoreCapsuleInfoLoaded(e).then(function(e){return t.setState({bLoadingAppInfo:!1})}),this.state.bLoadingClanInfo&&ne.a.LoadOGGClanInfoForClanSteamID(this.props.event.clanSteamID).then(function(e){return t.setState({bLoadingClanInfo:!1})})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDetails is being unmounted")},e.prototype.render=function(){var e=this.props,t=e.event,a=e.lang,n=e.partnerEventStore,r=e.emoticonStore,o=e.nOverrideStartTime,i=e.nOverrideEndTime,l=e.adminPanel,s=e.previewMode,c=e.otherEventRow,d=e.titleBar;if(!this.props.event.bLoaded||this.state.bLoadingAppInfo||this.state.bLoadingClanInfo)return k.createElement("div",{className:Ce.a.FlexCenter,style:{height:"400px"}},k.createElement(U.a,{size:"medium",string:Object(j.c)("#Loading")}));var p=t.GetDescriptionWithFallback(a),u=te.a.GetStoreCapsuleInfo(t.appid).GetAppStoreData(),m=Object(M.d)()==M.c.STORE_BASE_URL,h=m?"/newshub/app/"+t.appid:M.c.COMMUNITY_BASE_URL+"app/"+t.appid+"/allnews/#scrollTop=0",v=ne.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID());if(v&&(v.is_creator_home||v.is_curator))if(m)h="/newshub/group/"+v.clanAccountID;else{var g=v.vanity_url?"groups/"+v.vanity_url:"gid/"+t.clanSteamID.ConvertTo64BitString();h=M.c.COMMUNITY_BASE_URL+g+"/announcements"}else at.m.some(function(e){return e===t.appid})&&(h=M.c.STORE_BASE_URL+"news/?feed=steam_blog");return k.createElement(Ha,{event:t,lang:a,titleBar:d,body:k.createElement(Te.a,null,k.createElement("div",{className:ra.a.EventDetailTitleContainer},k.createElement(Ba,{crumbs:[{name:Object(j.c)("#BreadCrumbs_AllEvents"),url:(m?"/":M.c.STORE_BASE_URL)+"newshub/"},{name:Object(j.c)("#BreadCrumbs_GameEvents",u.title),url:h}]}),k.createElement("div",{className:ra.a.EventDetailTitle},t.GetNameWithFallback(a)),t.BHasSubTitle(a)&&k.createElement("div",{className:ra.a.EventDetailsSubTitle},t.GetSubTitle(a))),t.BHasBroadcastEnabled()&&k.createElement("div",{className:ra.a.EventBroadcastCtn},k.createElement(k.Suspense,{fallback:k.createElement("div",null)},k.createElement(Ra,{event:this.props.event,bIsPreview:this.props.previewMode,accountIDs:this.props.previewMode?this.props.event.jsondata.broadcast_whitelist:void 0}))),k.createElement("div",{className:ra.a.EventColumns},k.createElement("div",{className:ra.a.EventDetailsDescription},k.createElement(Te.a,null,t.BHasTag("steam_award_nomination_request")&&k.createElement(xa.a,{event:t,lang:a,previewMode:s}),t.BHasTag("steam_award_vote_request")&&k.createElement(xa.b,{event:t,lang:a,previewMode:s})),k.createElement(Te.a,null,k.createElement("div",{className:Object(z.a)("EventDetailsBody",ra.a.EventDetailsBody)},k.createElement(Oa.a,{text:p||"",partnerEventStore:n,showErrorInfo:s,event:t,languageOverride:a}))),k.createElement("span",{className:dt.a.Clear}),k.createElement(Te.a,null,k.createElement(st.a,{appid:t.appid}))),k.createElement(Te.a,null,k.createElement(Pa,{event:t,lang:a,nOverrideStartTime:o,nOverrideEndTime:i}))),k.createElement(_.b,{eventModel:t,emoticonStore:r,partnerEventStore:n})),postbody:k.createElement(Te.a,null,l,c),footer:k.createElement(Te.a,null,k.createElement("div",{className:ra.a.AppSummaryCtn},k.createElement("div",{className:ra.a.EventBodyPosition},Boolean(null!=u.appid&&null!=u.appid&&0!=u.appid)&&k.createElement("div",{className:ra.a.AppSummaryWidgetTitleCtn},k.createElement("span",{className:ra.a.Title},Object(j.c)("#CreatorHome_ThisGame")),k.createElement("div",{className:ra.a.AppSummaryWidgetCtn},k.createElement(jt.j,{appid:t.appid}))),k.createElement(Ca,{appid:t.appid,eventModel:t,bSmallFormat:!0}))))})},e=Object(G.c)([r.observer],e)}(k.Component),Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,a=e.lang,n=e.titleBar,r=e.body,o=e.postbody,i=e.footer,l=t.GetImageURLWithFallback("background",a),s=t.BIsImageSafeForAllAges("background",a),c="lang_"+Object(R.d)(a),d=t.BImageNeedScreenshotFallback("background",a);return k.createElement("div",{className:Object(z.a)(ra.a.EventDetailsPageContainer,c,dt.a.PartnerEventFont,s?ra.a.DetailArtworkAgeAppropriate:ra.a.DetailArtworkAgeNotAppropriate,d&&ra.a.NoTitleArtwork)},n,k.createElement("div",{className:ra.a.EventCoverImageCtn},k.createElement("div",{className:ra.a.EventCoverImageBlr},k.createElement("div",{className:ra.a.EventCoverImageFuzz,style:{backgroundColor:"rgb(37, 41, 46)",backgroundImage:"url("+l+")"}}),k.createElement("div",{className:ra.a.EventCoverImage,style:{backgroundColor:"rgb(37, 41, 46)",backgroundImage:"url("+l+")"}})),k.createElement("div",{className:ra.a.CoverImageGradient})),k.createElement("div",{className:ra.a.EventBodyCtn},k.createElement("div",{className:ra.a.EventBackgroundBlurCtn}),k.createElement("div",{className:ra.a.EventBodyPosition},k.createElement("div",{className:ra.a.EventBody},k.createElement("div",{className:ra.a.EventBackgroundBlur,style:{backgroundImage:"url("+l+")"}}),k.createElement(Te.a,null,r)),Boolean(o)&&k.createElement(Te.a,null,o))),Boolean(i)&&k.createElement(Te.a,null,i))},t=Object(G.c)([r.observer],t)}(k.Component),Pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.componentDidMount=function(){te.a.EnsureStoreCapsuleInfoLoaded(this.props.event.appid)},t.prototype.render=function(){var e=this.props,t=e.event,a=e.lang,n=e.nOverrideStartTime,r=e.nOverrideEndTime,o=t.GetCategoryAsString(),i=ne.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID());if(!i)return null;var l=(new Date).getTime()/1e3,s=n||t.GetStartTimeAndDateUnixSeconds();return k.createElement("div",{className:ra.a.EventDetailTitleDesc},k.createElement("div",{className:ra.a.EventDetailsSticky},i.is_ogg?k.createElement(za,{appid:i.appid}):k.createElement(Ua,{clanSteamID:t.clanSteamID}),k.createElement(st.b,{event:t,nOverrideEndTime:r,nOverrideStartTime:n}),t.type!==R.a.k_ENewsEvent&&l<s&&k.createElement("div",{className:ra.a.EventDetailTimeInfo},k.createElement(D.a,{eventModel:t,eventGID:t.GID,lang:a})),k.createElement("div",{className:ra.a.EventDetailUserType},k.createElement("div",{className:ra.a.RightSideTitles},Object(j.c)("#EventDisplay_RightColumnTitle_EventType")),k.createElement("div",{className:ra.a.EventDetailsType},o," ")),k.createElement(Wa,{event:t})))},t=Object(G.c)([r.observer],t)}(k.Component),za=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var t=this.props.appid;Object(h.a)(t&&0!=t,"Expected Appid In Game Info Section");var e=te.a.GetStoreCapsuleInfo(t),a=e.GetAppStoreData();return k.createElement("div",{className:ra.a.EventDetailGameCallToAction},k.createElement("div",{className:ra.a.RightSideTitles},at.m.some(function(e){return t===e})?Object(j.c)("#EventDisplay_RightColumnTitle_Blog"):Object(j.c)("#EventDisplay_RightColumnTitle_Game")),k.createElement("a",{href:e?a.capsule_link:""},k.createElement("div",{className:ra.a.EventDetailsGame,style:{backgroundImage:"url("+a.capsule+")"}})),k.createElement(Va,{appid:t}))},t=Object(G.c)([r.observer],t)}(k.Component),Ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.render=function(){var e=this.props.clanSteamID,t=ne.a.GetClanInfoByClanAccountID(e.GetAccountID());return t?k.createElement("div",{className:ra.a.EventDetailGameCallToAction},k.createElement("div",{className:ra.a.RightSideTitles},t.group_name),k.createElement("a",{href:ne.a.GetCreatorStoreURL(e)},k.createElement("div",{className:ra.a.EventDetailsAvatar,style:{backgroundImage:"url("+t.avatar_full_url+")"}}))):null},t=Object(G.c)([r.observer],t)}(k.Component),Va=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.componentDidMount=function(){return Object(G.b)(this,void 0,void 0,function(){return Object(G.e)(this,function(e){return te.a.EnsureStoreCapsuleInfoLoaded(this.props.appid),N.a.HintLoad(),[2]})})},t.prototype.render=function(){var e=this.props.appid,t=te.a.GetStoreCapsuleInfo(e),a=t.GetAppStoreData(),n=null;N.a.BOwnsApp(e)?n=Object(j.c)("#EventDisplay_CallToAction_InLibrary"):t.GetAppStoreData().coming_soon&&!t.GetAppStoreData().subid?n=Object(j.c)("#EventDisplay_CallToAction_ComingSoon"):a.is_free?n=Object(j.c)("#EventDisplay_CallToAction_FreeToPlay"):a.is_free||(n=a.price);var r=1!==a.success||at.m.some(function(e){return a.appid===e});return k.createElement("div",{className:r?ra.a.SteamBlog:void 0},k.createElement("div",{className:ra.a.GameActions},k.createElement("div",{className:ra.a.Ownership,style:{fontSize:n&&n.length<10?"12px":"10px"}},n||null),k.createElement(jt.a,{appid:e})),k.createElement("div",{className:Object(z.a)(ra.a.GameActions)},k.createElement(jt.k,{appid:e})))},t=Object(G.c)([r.observer],t)}(k.Component),Za=["","en-US","en-GB","zh-CN","es-ES","br-BR"],Wa=(k.Component,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_cancelSignal=g.a.CancelToken.source(),e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){var t=this,a=this.props.event;a.BIsPartnerEvent()&&a.BIsVisibleEvent()&&A.a.Get().LoadSingleAppEventPermissions(a.clanSteamID).then(function(e){e&&e.can_edit&&Ga.LoadStatsForEvents(a.clanSteamID,[a.GID],t.m_cancelSignal)})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDisplayEditorInfo cancelled")},e.prototype.render=function(){var e=this.props.event;if(!A.a.Get().GetPartnerEventPermissions(e.clanSteamID).can_edit)return null;var t=e.BIsPartnerEvent()&&e.BIsVisibleEvent()&&Ga.GetStatsFor(e.clanSteamID,e.GID);return k.createElement(Te.a,null,k.createElement("div",{className:ra.a.EditorStatsCtn},k.createElement("div",{className:ra.a.EditorStatsRow},k.createElement("span",null,Object(j.c)("#EventEditor_Comments")),k.createElement("span",null,e.nCommentCount.toLocaleString(j.b.GetPreferredLocales()))),k.createElement("div",{className:ra.a.EditorStatsRow},k.createElement("span",null,Object(j.c)("#EventEditor_UpVotes")),k.createElement("span",null,e.nVotesUp?e.nVotesUp.toLocaleString(j.b.GetPreferredLocales()):0)),k.createElement("div",{className:ra.a.EditorStatsRow},k.createElement("span",null,Object(j.c)("#EventEditor_DownVotes")),k.createElement("span",null,e.nVotesDown?e.nVotesDown.toLocaleString(j.b.GetPreferredLocales()):0))),Boolean(t)&&k.createElement("div",{className:ra.a.EditorStatsCtn},Object(j.c)("#EventDashBoard_SummaryStats_Admin_Title"),k.createElement(Ma,{summary:t.m_stats})))},e=Object(G.c)([r.observer],e)}(k.Component)),Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.componentDidMount=function(){Rt.GetRawDoorData()||Rt.LoadDoorData(),xt.LoadSaleTokenPoints()},t.prototype.render=function(){var e=Rt.GetRawDoorData();if(!e)return null;for(var t=e.length-1,a=Date.now()/1e3>e[t].rtime_start,n=[],r=0;r<=t;r++)n.push(k.createElement(Qa,{key:"envelope-"+r,iDoorIndex:r,strFontFamily:this.props.strFontFamily}));var o=xt.GetSaleTokenPoints().points;return k.createElement(Te.a,null,k.createElement("div",{className:ra.a.LunarNewYearHeader},k.createElement("div",{className:ra.a.EnvelopeArea},0<=o&&k.createElement("div",{className:ra.a.TokenBalanceContainer},Object(j.c)("#Lunar2020_YourBalancePrefix"),k.createElement("a",{className:ra.a.TokenBalance,href:M.c.STORE_BASE_URL+"lunarnewyearmarket"}," ",Object(j.c)("#Lunar2020_BalanceNumberOfTokens",o)," ")),n),!a&&k.createElement("div",{className:ra.a.BottomMessage},Object(j.c)("#Lunar2020_CheckBackEachDay"))))},t=Object(G.c)([r.observer],t)}(k.Component),Ja=["#Lunar2020_FirstGift","#Lunar2020_SecondGift","#Lunar2020_ThirdGift","#Lunar2020_FourthGift"],Qa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.OpenEnvelope=function(n){return Object(G.b)(this,void 0,void 0,function(){var t,a;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=Rt.BIsDoorOpened(this.props.iDoorIndex),a=Object(se.m)(n),t?(Object(ie.b)(k.createElement(Ka,Object(G.a)({bIsFirstOpen:!1},this.props)),a),[2]):[4,Rt.OpenDoor(this.props.iDoorIndex,!0)];case 1:return e.sent()&&Object(ie.b)(k.createElement(Ka,Object(G.a)({bIsFirstOpen:!0},this.props)),a),[2]}})})},t.prototype.ShowLimitedUserDialog=function(e){var t=Object(se.m)(e),a=k.createElement("a",{href:M.c.HELP_BASE_URL},Object(j.c)("#User_LimitedAccount_UrlInfo"));Object(ie.b)(k.createElement(le.b,{strTitle:Object(j.c)("#Lunar2020_LimitedUserDialogTitle"),strDescription:Object(j.i)("#User_LimitedAccount",a),bAlertDialog:!0}),t)},t.prototype.VOOnClose=function(){M.i.is_support&&Rt.OpenDoor(this.props.iDoorIndex,!1)},t.prototype.render=function(){var e=this.props,t=e.iDoorIndex,a=e.strFontFamily;Object(h.a)(0<=t&&t<Ja.length&&t<Rt.GetDoorCount(),"Day index #"+t+" not in valid range.");for(var n=Object(j.c)(Ja[t]),r=!M.i.logged_in,o=Rt.BIsDoorOpened(t),i=Rt.BCanUserOpenDoor(t),l=!0,s=0;s<t;s++)l=l&&Rt.BIsDoorOpened(s);var c=!o&&i&&l,d=new Date(1e3*Rt.GetRawDoorData()[t].rtime_start),p=r?Object(j.c)("#Login_SignIn"):o?Object(j.c)("#Lunar2020_RereadStory"):c?Object(j.c)("#Lunar2020_GiftCanBeOpenedNow"):i?Object(j.c)("#Lunar2020_GiftCanBeOpenedAfterThePreviousOne"):Object(j.c)("#Lunar2020_GiftLockedUntilDate",d.toLocaleDateString(j.b.GetPreferredLocales(),{month:"numeric",day:"numeric"})),u=r?we.a:M.i.is_limited?this.ShowLimitedUserDialog:o||c?this.OpenEnvelope:null,m=Object(z.a)(ra.a.EnvelopeContainer,r&&ra.a.NeedLogin,o&&ra.a.Opened,c&&ra.a.Unlocked,!o&&!c&&ra.a.Locked);return k.createElement("div",{className:m},k.createElement("div",{className:ra.a.BackingRect}),k.createElement("div",{className:ra.a.Envelope},k.createElement("div",{className:ra.a.GiftLabel,style:{fontFamily:a}},n)),k.createElement("div",{className:ra.a.OpenState,onClick:u},p),M.i.is_support&&o&&("beta"==M.c.WEB_UNIVERSE||"dev"==M.c.WEB_UNIVERSE)&&k.createElement("div",{className:Object(z.a)(ra.a.OpenState,ra.a.VO),onClick:this.VOOnClose},"(VO) Close Gift")||null)},Object(G.c)([T.a],t.prototype,"OpenEnvelope",null),Object(G.c)([T.a],t.prototype,"ShowLimitedUserDialog",null),Object(G.c)([T.a],t.prototype,"VOOnClose",null),t=Object(G.c)([r.observer],t)}(k.Component),Xa=["#Lunar2020_StoryDayOneHeader","#Lunar2020_StoryDayTwoHeader","#Lunar2020_StoryDayThreeHeader","#Lunar2020_StoryDayFourHeader"],qa=["#Lunar2020_StoryDayOne","#Lunar2020_StoryDayTwo","#Lunar2020_StoryDayThree","#Lunar2020_StoryDayFour"],Ka=function(e){var t=k.useState(!e.bIsFirstOpen),a=t[0],n=t[1];k.useEffect(function(){return n(!0)},[]);var r=M.c.MEDIA_CDN_URL+"store/promo/lunar2020/red_envelope_2020.mp4"+(e.bIsFirstOpen?"":"#t=5,6"),o=M.c.MEDIA_CDN_URL+"store/promo/lunar2020/red_envelope_2020.webm"+(e.bIsFirstOpen?"":"#t=5,6"),i=e.iDoorIndex==Rt.GetDoorCount()-1;return k.createElement(le.c,{className:ra.a.LunarNewYearOpenEnvelopeVideoDialog,closeModal:e.closeModal},k.createElement("div",{className:ra.a.Container},k.createElement("div",{className:ra.a.Column},k.createElement("div",{className:ra.a.StoryHeader},Object(j.c)("#Lunar2020_StoryTitle")),k.createElement("div",{className:ra.a.StorySubHeader},Object(j.c)("#Lunar2020_StorySubTitle")),k.createElement("div",{className:ra.a.StorySubHeader},Object(j.c)(Xa[e.iDoorIndex])),k.createElement("div",{className:ra.a.StoryText},Object(j.c)(qa[e.iDoorIndex])),k.createElement("div",{className:ra.a.VideoBox},k.createElement("div",{className:Object(z.a)(ra.a.CoinText,a&&ra.a.Visible)},Object(j.c)("#Lunar2020_ReceivedNumberOfTokens",100)),k.createElement("video",{autoPlay:e.bIsFirstOpen,muted:!0,className:ra.a.LunarNewYearOpenEnvelopeVideo},k.createElement("source",{src:r,type:"video/mp4"}),k.createElement("source",{src:o,type:"video/webm"}),Object(j.c)("#Lunar2020_ErrorLoadingVideo")))),k.createElement("div",{className:ra.a.Column},k.createElement("div",{className:ra.a.StoryPicture},k.createElement("img",{src:Rt.GetStoryImage(e.iDoorIndex)})),!i&&k.createElement("div",{className:ra.a.CheckBackText},Object(j.c)("#Lunar2020_CheckBackEachDayForStory")))),k.createElement("div",{className:ra.a.Links},k.createElement("div",{className:ra.a.MarketLink},k.createElement("a",{href:M.c.STORE_BASE_URL+"lunarnewyearmarket"},Object(j.c)("#Lunar2020_LinkFromVideoToMarket"))),k.createElement("div",{className:ra.a.MarketLink,onClick:e.closeModal},Object(j.c)("#Lunar2020_LinkBackToSale"))))},$a=a("ZlHF"),en=a.n($a),tn=(a("bUNj"),new(function(){function e(){this.m_rgRecentEvent=null}return e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].clan_steamid&&"string"==typeof t[0].gid&&"number"==typeof t[0].appid)},e.prototype.AddAllRecentEvents=function(e){var t=this;null==this.m_rgRecentEvent&&(this.m_rgRecentEvent=new Array),e.forEach(function(e){return t.m_rgRecentEvent.push(e)})},e.prototype.GetRecentEventsForSalesPage=function(i){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o;return Object(G.e)(this,function(e){switch(e.label){case 0:return null!=this.m_rgRecentEvent?[3,5]:(t=Object(M.f)("recent_events","application_config"),this.ValidateStoreDefault(t)?(this.AddAllRecentEvents(t),[3,5]):[3,1]);case 1:this.m_rgRecentEvent=new Array,a={cc:M.c.COUNTRY||"US",l:M.c.LANGUAGE,clan_account_id:i.clanSteamID.GetAccountID(),clan_event_gid:i.GID},n=M.c.STORE_BASE_URL+"saleaction/ajaxrecentsaleevents",e.label=2;case 2:return e.trys.push([2,4,,5]),[4,g.a.get(n,{params:a,withCredentials:!0})];case 3:return 1==(r=e.sent()).data.success&&(this.AddAllRecentEvents(r.data.recent_events),L.c.RegisterClanEvents(r.data.partnerevents)),[3,5];case 4:return o=e.sent(),console.error("GetRecentEventsForSalesPage failed",Object(y.a)(o)),[3,5];case 5:return[2,this.m_rgRecentEvent]}})})},Object(G.c)([m.observable],e.prototype,"m_rgRecentEvent",void 0),Object(G.c)([m.action],e.prototype,"AddAllRecentEvents",null),e}()));window.g_EventListSaleStore=tn;var an=k.lazy(function(){return Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,"NIbt"))}),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.d)(t,e),t.prototype.componentDidMount=function(){a("+ZmX").Init()},t.prototype.render=function(){return k.createElement("canvas",{className:"zdog-canvas",style:{display:"block",cursor:"move",maxWidth:"100vw",maxHeight:"100vw"},width:"600",height:"600"})},t}(k.Component),rn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={nSaleDayIndex:e.props.eventModel?e.props.eventModel.GetDayIndexFromEventStart():0},e}return Object(G.d)(e,t),e.prototype.componentDidMount=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=M.b.CLANSTEAMID,a=M.b.ANNOUNCEMENT_GID,this.props.eventModel?[3,2]:[4,L.c.LoadPartnerEventFromAnnoucementGIDAndClanSteamID(new ae.a(t),a,null)];case 1:n=e.sent(),r=n.GetDayIndexFromEventStart(),this.state.nSaleDayIndex!=r&&this.setState({nSaleDayIndex:r}),e.label=2;case 2:return[2]}})})},e.prototype.OnChangeDayIndex=function(e){if(e!=this.state.nSaleDayIndex){var t=this.props.eventModel?this.props.eventModel:L.c.GetClanEventFromAnnouncementGID(M.b.ANNOUNCEMENT_GID);t&&(t.m_overrideCurrentDay=e),this.setState({nSaleDayIndex:e})}},e.prototype.render=function(){var e=this.props.eventModel||L.c.GetClanEventFromAnnouncementGID(M.b.ANNOUNCEMENT_GID);if(e){var t=this.props.bIsPreview,a=e.GetImageURLWithFallback("sale_header",this.props.language),n=null,r=null;Rt.BHasSalePageBackgroundOverride()&&(a=Rt.GetSalePageBackgroundOverride(),n=Rt.GetSalePageBackgroundWEBM(),r=Rt.GetSalePageBackgroundMP4());var o=e.BHasBroadcastEnabled()&&("1688220857098505775"==e.GID||"1590261853006818581"==e.GID),i=A.a.Get().GetPartnerEventPermissions(e.clanSteamID);return k.createElement(Te.a,null,k.createElement("div",{className:en.a.SaleBackground+" "+en.a["CustomStyle_"+e.jsondata.sale_vanity_id]+" SaleBackground",style:{display:"flex",position:"relative",flexDirection:"column",backgroundImage:"url("+a+")",backgroundColor:t?e.jsondata.sale_background_color:void 0}},Boolean(r||n)&&k.createElement("div",{className:en.a.fullscreen_bg},k.createElement("video",{key:Rt.GetLastDoorOpen(),loop:!0,muted:!0,autoPlay:!0,ref:function(e){e&&(e.playbackRate=.9)},className:Object(z.a)(en.a.SaleBackground,en.a["CustomStyle_"+e.jsondata.sale_vanity_id],"SaleBackground",en.a.fullscreen_bg__video),style:{display:"flex",position:"relative",flexDirection:"column",backgroundColor:t?e.jsondata.sale_background_color:void 0}},k.createElement("source",{src:n,type:"video/webm"}),!M.c.IN_CLIENT&&k.createElement("source",{src:r,type:"video/mp4"}))),k.createElement("div",{className:en.a.SaleHeaderContainer},e.jsondata.sale_header_overlay&&k.createElement(nn,null),e.GetImageURL("sale_overlay",this.props.language)&&k.createElement("div",{className:Object(z.a)(en.a.SaleOverlayCtn,"SaleOverlayCtn")},k.createElement("img",{className:Object(z.a)(en.a.SaleOverlay,"SaleOverlay"),src:e.GetImageURLWithFallback("sale_overlay",this.props.language)})),e.jsondata.sale_title_overlay&&k.createElement("div",null,k.createElement("h1",{style:{fontFamily:vn(e.jsondata.sale_font,this.props.language),textAlign:e.GetSaleLabelAlign()}},e.GetNameWithFallback(this.props.language)),k.createElement("hr",null),k.createElement("div",{style:{textAlign:e.GetSaleLabelAlign(),fontFamily:vn(e.jsondata.sale_font,this.props.language)}},k.createElement(Oa.a,{text:e.GetDescriptionWithFallback(this.props.language),partnerEventStore:L.c,showErrorInfo:this.props.bIsPreview,event:e})))),k.createElement("div",{className:en.a.SaleOuterContainer+" "+en.a["CustomStyle_"+e.jsondata.sale_vanity_id]+" SaleOuterContainer",style:{marginTop:e.jsondata.sale_header_offset+"px"}},Boolean(e.BHasBroadcastEnabled()&&e.BSaleShowBroadcastAtTopOfPage())&&k.createElement(Te.a,null,k.createElement("div",{className:en.a.SaleBroadcastCtn},k.createElement(k.Suspense,{fallback:k.createElement("div",null)},k.createElement(an,{promotionname:this.props.promotionname,clanid:Number(M.b.CLANACCOUNTID),event:e,bIsPreview:this.props.bIsPreview,language:this.props.language,fnRenderBroadcastContext:o?function(){return k.createElement(yn,null)}:null})))),e.jsondata.sale_show_creator&&k.createElement(Te.a,null,k.createElement("div",{style:{width:"100%",margin:"0 auto",maxWidth:"940px"}},k.createElement(fa,{creatorID:{name:null,clan_account_id:e.clanSteamID.GetAccountID(),type:"developer"},eventModel:e,bShowTagline:!0,bHideCreatorType:!0}))),k.createElement(on,{bIsPreview:t,event:e,language:this.props.language,promotionname:this.props.promotionname,nSaleDayIndex:this.state.nSaleDayIndex}),e.jsondata.sale_browse_more_button&&k.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"14px"}},k.createElement(un,{text:Object(j.c)("#Sale_SeeAllSpecials"),url:e.jsondata.sale_browsemore_url,color:e.jsondata.sale_browsemore_color,bgcolor:e.jsondata.sale_browsemore_bgcolor})),Boolean(e.BHasBroadcastEnabled()&&e.BSaleShowBroadcastAfterSomeSection()&&e.GetSaleSectionBroadcastShowAfter()>e.GetSaleSectionCount())&&k.createElement(_n,{promotionname:this.props.promotionname,eventModel:e,bIsPreview:this.props.bIsPreview,language:this.props.language}),i.can_edit&&k.createElement(oa,{eventModel:e,bPreviewMode:this.props.bIsPreview,useAnchors:!this.props.bIsPreview,fnOnUpdateSaleDayIndex:this.OnChangeDayIndex}))))}return k.createElement("div",{className:Ce.a.FlexCenter,style:{height:"500px"}},k.createElement(U.a,{size:"medium",string:Object(j.c)("#Loading")}))},Object(G.c)([T.a],e.prototype,"OnChangeDayIndex",null),e=Object(G.c)([r.observer],e)}(k.Component),on=function(n){var r=n.event,o=n.language,i=n.promotionname,l=n.bIsPreview,s=n.nSaleDayIndex,c=!1,d=!1;return k.createElement("div",null,r.GetSaleSections().map(function(e,t){var a=null;if(function(e){return"items"==e.section_type&&e.smart_section&&("wishlist"==e.smart_section_type||"interactive_recommender"==e.smart_section_type||"dlc_music_onsale"==e.smart_section_type||"wishlist_onsale"==e.smart_section_type&&!Ft.GetHideWishlist()||"dlc_onsale"==e.smart_section_type&&!Ft.GetHideDLC()||"interactive_recommender_onsale"==e.smart_section_type&&!Ft.GetHideIRList())}(e)&&!M.i.logged_in)c||(a=k.createElement(sn,{section:e,event:r,language:o}),c=!0);else switch(e.section_type){case"items":case"events":case"links":a=k.createElement(pn,Object(G.a)({section:e,index:t},n));break;case"broadcast":r.BHasBroadcastEnabled()&&!d&&(a=k.createElement(_n,{promotionname:i,eventModel:r,bIsPreview:l,language:o}),d=!0);break;case"event_description":a=k.createElement(cn,Object(G.a)({section:e},n));break;case"doors":a=k.createElement(Ya,{strFontFamily:vn(r.jsondata.sale_font,o)});break;case"text_section":a=k.createElement(dn,Object(G.a)({section:e},n))}return k.createElement(Te.a,{key:"SaleSectionIndex_"+t+"saleday_"+s},a)}))};var ln=function(e){var t=e.section,a=e.event,n=e.language,r=k.createElement("div",{className:dt.a.SaleSectionHeader,style:function(e,t,a){return{fontFamily:vn(t.jsondata.sale_font,a),fontSize:t.jsondata.sale_section_font_size,textTransform:t.jsondata.sale_section_disable_capitalize?"initial":null,color:e.label_color,textAlign:t.GetSaleLabelAlign()}}(t,a,n)},function(e,t,a,n){var r=e.localized_label[t]||e.localized_label[0]||("#Sale_default_label"===e.default_label?"":Object(j.c)(e.default_label)),o=e.localized_label_image&&(e.localized_label_image[t]||e.localized_label_image[0]);{if(n||!o)return r;var i=M.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/"+a+"/"+o;return k.createElement("img",{src:i,alt:r})}}(t,n,a.clanSteamID.GetAccountID()));return t.label_link&&(r=k.createElement("a",{href:(M.c.IN_CLIENT?"steam://openurl/":"")+mn(t.label_link),target:M.c.IN_CLIENT?void 0:"_blank"},r)),r},sn=function(e){var t=e.section,a=e.event;e.language;return k.createElement("div",{className:en.a.SaleSection,style:hn(t,a)},k.createElement(ln,Object(G.a)({},e)),k.createElement("div",{className:en.a.SaleSectionLoginPrompt},Object(j.c)("#SalePage_LoginPrompt"),k.createElement("button",{onClick:we.a,className:en.a.LoginButton},Object(j.c)("#Login_SignIn"))))},cn=function(e){var t=e.section,a=e.event,n=e.language,r=e.bIsPreview;return k.createElement("div",{className:Object(z.a)(en.a.SaleSection,la.a.SaleSectionCtn),style:hn(t,a)},k.createElement(ln,Object(G.a)({},e)),k.createElement("div",{className:dt.a.SaleSectionContainer},k.createElement(Oa.a,{text:a.GetDescriptionWithFallback(n),partnerEventStore:L.c,showErrorInfo:r,event:a})))},dn=function(e){var t=e.section,a=e.event,n=e.language,r=e.bIsPreview,o="";return t.text_section_contents&&(o=t.text_section_contents[n]||t.text_section_contents[0]||""),k.createElement("div",{className:Object(z.a)(en.a.SaleSection,la.a.SaleSectionCtn),style:hn(t,a)},k.createElement(ln,Object(G.a)({},e)),k.createElement("div",{className:dt.a.SaleSectionContainer},k.createElement(Oa.a,{text:o,partnerEventStore:L.c,showErrorInfo:r,event:a})))},pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bShowContents:!1,hiddenItems:new Set,section:e.props.section,dynamicCapsules:[]},e}return Object(G.d)(e,t),e.prototype.ShowContents=function(){this.setState({bShowContents:!0})},e.prototype.componentDidMount=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o,i,l,s,c,d,p,u,m,h,v,g,_,y,b,E,S,f,C,I,O,w,T,k,D,A,j=this;return Object(G.e)(this,function(e){switch(e.label){case 0:return(t=this.props.section).use_random_order&&!t.smart_section&&(a="section_"+Object(da.a)(JSON.stringify(t)).toString(),window.sessionStorage&&((n=window.sessionStorage.getItem(a))?t=JSON.parse(n):(Object(P.f)(t.capsules),Object(P.f)(t.links),Object(P.f)(t.events),window.sessionStorage.setItem(a,JSON.stringify(t))),this.setState({section:t}))),"items"!==t.section_type?[3,31]:[4,N.a.HintLoad()];case 1:return e.sent(),r=(M.c.IN_CLIENT?"library-":Object(M.e)()+"-")+this.props.promotionname,o=t.capsules,l=i=void 0,s=!1,this.props.section.smart_section?(c=this.props.section,d=c.smart_section_type,p=c.smart_section_max_apps,u=c.smart_section_tag,m=c.smart_section_category,h=c.random_from_entire_set,v=p||24,o=[],"tag"!==d?[3,3]:[4,Bt.GetDiscounts({tagid:u,max_results:v,feature:r,random_across_set:h})]):[3,24];case 2:return g=e.sent(),o=g.map(function(e){return{id:Number(e),type:"game"}}),[3,23];case 3:return"category"!==d?[3,5]:[4,Bt.GetDiscounts({categoryid:m,max_results:v,feature:r,random_across_set:h})];case 4:return g=e.sent(),o=g.map(function(e){return{id:Number(e),type:"game"}}),[3,23];case 5:return"top_n"!==d?[3,7]:[4,Bt.GetTopN(r,v)];case 6:return f=e.sent(),o=f.map(function(e){return{id:e,type:"game"}}),[3,23];case 7:return"sale_tabhub"!==d?[3,9]:[4,Bt.GetSaleTags()];case 8:return _=e.sent(),y=new Array,_.forEach(function(e){y.push({url:e.url,localized_link_capsule:void 0,materialized_link_capsule:e.square})}),this.setState({dynamicLinks:y}),[3,23];case 9:return!M.i.logged_in||"wishlist"!==d&&"interactive_recommender"!==d?[3,10]:(b=[],E=new Set,this.props.event.jsondata.sale_sections.filter(function(e){return"items"===e.section_type}).forEach(function(e){e.capsules.forEach(function(e){"game"!==e.type||E.has(e.id)||(E.add(e.id),b.push(e))})}),S=b.filter(function(e){if(N.a.BOwnsApp(e.id))return!1;switch(j.props.section.smart_section_type){case"wishlist":return N.a.BIsGameWishlisted(e.id);case"interactive_recommender":return N.a.BIsGameRecommended(e.id)}return!1}),o=S,[3,23]);case 10:if(!M.i.logged_in||"wishlist_onsale"!==d&&"dlc_onsale"!==d&&"interactive_recommender_onsale"!==d&&"dlc_music_onsale"!==d)return[3,23];switch(M.i.logged_in||(o=[]),f=[],this.props.section.smart_section_type){case"wishlist_onsale":return[3,11];case"dlc_onsale":return[3,14];case"dlc_music_onsale":return[3,17];case"interactive_recommender_onsale":return[3,19]}return[3,22];case 11:return Ft.GetHideWishlist()?[3,13]:[4,Bt.GetWishlistOnSale()];case 12:f=e.sent(),e.label=13;case 13:return[3,22];case 14:return Ft.GetHideDLC()?[3,16]:[4,Bt.GetDLCForGamesInMyLibraryOnSale()];case 15:f=e.sent(),s=!0,e.label=16;case 16:return[3,22];case 17:return[4,Bt.GetSoundtracksForGamesInMyLibraryOnSale()];case 18:return f=e.sent(),s=!0,[3,22];case 19:return Ft.GetHideIRList()?[3,21]:[4,Bt.GetInteractiveRecommendationsOnSale()];case 20:f=(f=e.sent()).filter(function(e){return!N.a.BOwnsApp(e)}),e.label=21;case 21:return[3,22];case 22:f.forEach(function(e){return o.push({type:"game",id:e,visibility_index:void 0})}),e.label=23;case 23:return l=o,[3,25];case 24:C=void 0,o.forEach(function(e){void 0!==e.visibility_index&&(null==C||e.visibility_index>C)&&(C=e.visibility_index)}),null!=C&&(i=Math.min(C,this.props.nSaleDayIndex),o=o.filter(function(e){return null==e.visibility_index||e.visibility_index==i})),e.label=25;case 25:return I=o.filter(function(e){return Object(tt.a)(e.type)}),[4,Gt.a.LoadAppLinkInfo(I.map(function(e){return e.id}),r)];case 26:return e.sent(),O=t.capsules.filter(function(e){return"bundle"===e.type}),[4,Lt.a.LoadBundleInfo(O.map(function(e){return e.id}))];case 27:return e.sent(),w=t.capsules.filter(function(e){return"sub"===e.type}),[4,Mt.b.LoadPackageInfo(w.map(function(e){return e.id}))];case 28:return e.sent(),T=[],k=new Set,I.forEach(function(e){if(Object(tt.a)(e.type)){var t=Gt.a.GetAppLinkInfo(e.id);if(t){var a=t.content_descriptors,n=t.tags;N.a.BExcludesContentDescriptor(a)||N.a.BExcludesTag(n)||N.a.BIsGameIgnored(e.id)?k.add(e.id):s&&Boolean(t.full_game_appid)&&T.push(t.full_game_appid)}}}),0<T.length?[4,Gt.a.LoadAppLinkInfo(T,r)]:[3,30];case 29:e.sent(),e.label=30;case 30:0<k.size&&void 0!==i&&!this.props.section.smart_section&&(D=0,t.capsules.forEach(function(e){if(D<k.size&&e.visibility_index!==i&&void 0!==e.visibility_index&&Object(tt.a)(e.type)){var t=Gt.a.GetAppLinkInfo(e.id);if(t){var a=t.content_descriptors,n=t.tags;N.a.BExcludesContentDescriptor(a)||N.a.BExcludesTag(n)||N.a.BIsGameIgnored(e.id)||(D+=1,o.push({id:e.id,type:e.type,visibility_index:void 0}))}}}),l=o),this.setState({hiddenItems:k,dynamicCapsules:l}),e.label=31;case 31:return"events"!==t.section_type?[3,35]:this.props.section.smart_section&&"recent_events"===this.props.section.smart_section_type?[4,tn.GetRecentEventsForSalesPage(this.props.event)]:[3,33];case 32:return(A=e.sent()).forEach(function(e){var t=new ae.a(e.clan_steamid);L.c.LoadPartnerEventFromClanEventGIDAndClanSteamID(t,e.gid,e.nLastModifiedTime)}),this.setState({dynamicEvents:A}),[3,35];case 33:return[4,L.c.LoadBatchPartnerEventsByAnnouncementGID(null,t.events.map(function(e){return e.announcement_gid}))];case 34:e.sent(),Gt.a.LoadAppLinkInfo(t.events.map(function(e){return L.c.GetClanEventFromAnnouncementGID(e.announcement_gid).appid}),this.props.promotionname),e.label=35;case 35:return[2]}})})},e.prototype.RenderCapsules=function(){var e=this.props,t=e.event,a=e.language,n=this.state,r=n.hiddenItems,o=n.section,i=n.dynamicCapsules,l=n.dynamicLinks,s=n.dynamicEvents;return function(a){var n=a.section,t=a.hiddenItems,e=a.dynamicCapsules,r=a.dynamicLinks,o=a.dynamicEvents,i=a.clanAccountID,l=a.language,s=a.bShowContents,c=a.nSaleDayIndex,d=n.links,p=n.events,u=void 0;if(!n.smart_section){var m=void 0;n.capsules.forEach(function(e){void 0!==e.visibility_index&&(null==m||e.visibility_index>m)&&(m=e.visibility_index)}),u=Math.min(m,c)}var h=(e&&0<e.length?e:n.capsules).filter(function(e){return!t.has(e.id)&&(null==e.visibility_index||null==u||e.visibility_index==u)}),v=4*n.capsules_per_row;{if(Boolean("events"===n.section_type))return Boolean(n.smart_section)?o.map(function(e){var t=L.c.GetClanEventModel(e.gid);return t?k.createElement("div",{key:e.gid,style:{},className:ca.a.OtherEvents},k.createElement(Da,{event:t,openNewWindow:!0,appInfo:Gt.a.GetAppLinkInfo(t.appid)})):null}).filter(Boolean):p.map(function(e){var t=L.c.GetClanEventFromAnnouncementGID(e.announcement_gid);return t?k.createElement("div",{key:e.announcement_gid,style:{},className:ca.a.OtherEvents},k.createElement(Da,{event:t,openNewWindow:!0,appInfo:Gt.a.GetAppLinkInfo(t.appid)})):null}).filter(Boolean);if(Boolean("links"===n.section_type)||Boolean("sale_tabhub"===n.smart_section_type))return(Boolean("sale_tabhub"===n.smart_section_type)?r:d).map(function(e,t){return k.createElement(jt.f,{key:t,link:e,language:l,clanAccountID:i,strClassName:n.show_as_carousel?en.a.in_carousel:void 0})});if(Boolean("items"===n.section_type))return h.slice(0,n.cap_section_content&&!s?v:h.length).map(function(e){var t=1<n.capsules_per_row;return"bundle"===e.type?t?k.createElement(jt.d,{key:e.id,bundleInfo:Lt.a.GetBundleInfo(e.id),bInCarousel:n.show_as_carousel}):k.createElement("div",{key:e.type+"_"+e.id,className:en.a.AppSummaryWidgetCtn},k.createElement(jt.e,{bundleid:e.id})):"sub"===e.type?t?k.createElement(jt.h,{key:e.id,packageInfo:Mt.b.GetPackageInfo(e.id),bInCarousel:n.show_as_carousel}):k.createElement("div",{key:e.type+"_"+e.id,className:en.a.AppSummaryWidgetCtn},k.createElement(jt.i,{packageid:e.id})):t?k.createElement(jt.b,{key:e.type+"_"+e.id,appInfo:Gt.a.GetAppLinkInfo(e.id),bShowParentApp:a.bShowParentApp,bInCarousel:n.show_as_carousel}):k.createElement("div",{key:e.type+"_"+e.id,className:en.a.AppSummaryWidgetCtn},k.createElement(jt.j,{appid:e.id}))})}return null}({clanAccountID:t.clanSteamID.GetAccountID(),section:o,dynamicCapsules:i,dynamicLinks:l,dynamicEvents:s,hiddenItems:r,language:a,bShowContents:this.state.bShowContents,nSaleDayIndex:this.props.nSaleDayIndex,bShowParentApp:"dlc"===o.smart_section_type||"dlc_onsale"===o.smart_section_type||"dlc_music_onsale"===o.smart_section_type})},e.prototype.GetBroadcastElementIfShownHere=function(){var e=this.props,t=e.event,a=e.index;return t.BHasBroadcastEnabled()&&t.BSaleShowBroadcastAfterSomeSection()&&t.GetSaleSectionBroadcastShowAfter()===a?k.createElement(_n,{promotionname:this.props.promotionname,eventModel:t,bIsPreview:this.props.bIsPreview,language:this.props.language}):null},e.prototype.render=function(){var e=this.props,t=e.event,a=e.bIsPreview,n=e.language,r=this.state,o=r.hiddenItems,i=r.section,l=r.dynamicCapsules,s=r.dynamicLinks,c=r.dynamicEvents,d=null;if((!i.smart_section||"sale_tabhub"!==i.smart_section_type||s&&0!==s.length)&&(void 0===i.smart_section_type||"sale_tabhub"===i.smart_section_type||"recent_events"===i.smart_section_type||l&&0!==l.length)&&("recent_events"!==i.smart_section_type||c&&0!==c.length)&&(i.smart_section||"items"!==i.section_type||0!=i.capsules.length||l&&0!=l.length)||i.use_event_body)if(i.show_as_carousel)d=k.createElement(Kt,{showThumbs:!1,showStatus:!1,centerMode:768<window.screen.width,centerSlidePercentage:33.33},this.RenderCapsules());else{var p=4*i.capsules_per_row,u=(l&&0<l.length?l:i.capsules).filter(function(e){return!o.has(e.id)});d=k.createElement(k.Fragment,null,k.createElement("div",{className:dt.a.SaleSectionContainer,style:{display:"grid",gridTemplateColumns:768<=window.screen.width?"repeat("+i.capsules_per_row+", minmax(0, 1fr))":null,gridRowGap:"16px",gridColumnGap:"16px"}},i.use_event_body&&k.createElement(Oa.a,{text:t.GetDescriptionWithFallback(n),partnerEventStore:L.c,showErrorInfo:a,event:t}),this.RenderCapsules()),Boolean(i.cap_section_content&&!this.state.bShowContents&&u.length>p)&&k.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"14px"}},k.createElement("button",{onClick:this.ShowContents,className:en.a.ShowContentsButton},Object(j.c)("#Sale_ShowMore"))))}else{if(!a)return this.GetBroadcastElementIfShownHere();d=k.createElement("div",{className:en.a.preview_placeholder_section},Object(j.c)(i.smart_section?"#Sale_SmartPlaceHolder":"#Sale_PlaceHolder"))}var m=i.label_link?(M.c.IN_CLIENT?"steam://openurl/":"")+mn(i.label_link):void 0;return k.createElement(k.Fragment,null,k.createElement("div",{className:Object(z.a)(en.a.SaleSection,i.show_as_carousel?en.a.CarouselDisplay:"",la.a.SaleSectionCtn),style:hn(i,t)},k.createElement(ln,Object(G.a)({},this.props)),Boolean(o.size)&&k.createElement("div",{className:en.a.SaleSectionSubtext,style:{color:i.label_color}},Object(j.i)(1==o.size?"#Sale_HiddenItem_Single":"#Sale_HiddenItems",o.size,k.createElement("a",{href:M.c.STORE_BASE_URL+"account/preferences",style:{color:i.label_color,filter:"brightness(150%)"}},Object(j.c)("#Sale_StorePreferences")))),d,Boolean(m)&&k.createElement("div",{className:en.a.SaleViewAll},k.createElement("a",{href:m,target:M.c.IN_CLIENT?void 0:"_blank"},Object(j.c)("#btn_live_streams_all")))),this.GetBroadcastElementIfShownHere())},Object(G.c)([T.a],e.prototype,"ShowContents",null),e=Object(G.c)([r.observer],e)}(k.Component);var un=function(e){var t=e.text,a=e.url,n=e.color,r=e.bgcolor;return k.createElement("a",{className:dt.a.BrowseMoreButton,href:mn(a),target:"_blank",style:{backgroundColor:r,color:n}},t||Object(j.c)("#Sale_BrowseMore_Text_Default"))};function mn(t){var e="",a="";if(t&&(0<=t.indexOf("/")||0<=t.indexOf("?")))try{var n=new URL(t);e=n.pathname.substring(1),a=n.search,M.c.SNR&&(a+=0<a.length?"&snr="+M.c.SNR:"?snr="+M.c.SNR)}catch(e){console.warn(t,e)}return M.c.STORE_BASE_URL+e+a}function hn(e,t){return{background:"url("+F.a.GenerateArtworkURLFromHashAndExtensions(t.clanSteamID,e.background_image)+"), linear-gradient(0deg, "+(e.background_gradient_bottom||"transparent")+" 0%, "+(e.background_gradient_top||"transparent")+" 100%)"}}function vn(e,t){return 12===t?e.replace("Jolly Lodger","New Rocker"):23===t||19===t||24===t||18===t||8===t||26===t?e.replace("Sigmar One","Play"):6===t?e.replace("Sigmar One","Noto Serif SC"):7===t?e.replace("Sigmar One","Noto Serif TC"):10===t?e.replace("Sigmar One","M PLUS Rounded 1c"):4===t?e.replace("Sigmar One","Black Han Sans"):9===t?e.replace("Sigmar One","Prompt"):e}var gn,_n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={},e}return Object(G.d)(e,t),e.prototype.OnEnter=function(){this.state.bOnceVisible||this.setState({bOnceVisible:!0})},e.prototype.render=function(){return k.createElement(Te.a,null,k.createElement(k.Suspense,{fallback:k.createElement("div",null)},k.createElement(i.a,{onEnter:this.OnEnter},k.createElement("div",{style:{width:"100%",margin:"0 auto",maxWidth:"940px"}},Boolean(this.state.bOnceVisible)&&k.createElement(an,{promotionname:this.props.promotionname,clanid:Number(M.b.CLANACCOUNTID),event:this.props.eventModel,bIsPreview:this.props.bIsPreview,language:this.props.language}),Boolean(!this.state.bOnceVisible)&&k.createElement("span",null,Object(j.c)("#Loading"))))))},Object(G.c)([T.a],e.prototype,"OnEnter",null),e}(k.Component),yn=Object(r.observer)(function(e){var t=Nt.b.GetPlayReadyStream(),a=t&&t.appid;te.a.EnsureStoreCapsuleInfoLoaded(a);var n=te.a.GetStoreCapsuleInfo(a),r=n&&n.GetAppStoreData(),o=r&&r.title;if(!o)return null;var i="https://steamcdn-a.akamaihd.net/steamcommunity/public/"+(r.cover_image_asset_url?"images/apps/"+a+"/"+r.cover_image_asset_url+".jpg":"images/apps/1195650/246e7e2a24c0aa965e505ac510d4e8e952f9a88a.jpg"),l=function(){return window.open(r.capsule_link,"_blank")};return k.createElement("div",{className:en.a.SalePageBroadcastContextHover},k.createElement("img",{src:i,className:en.a.AlbumCoverImage,onClick:l}),k.createElement("div",{className:en.a.AlbumTitle,onClick:l}," ",o," "))}),bn=a("BVKn"),En=bn.a.Get(),Sn=function(a){function e(e){var t=a.call(this,e)||this;return t.state={lookupGID:t.props.event_gid?t.props.event_gid:En.GetClanEventGIDFromAnnouncementGID(t.props.announcement_gid)},t}return Object(G.d)(e,a),e.prototype.LoadEvent=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a=this;return Object(G.e)(this,function(e){switch(e.label){case 0:if(!this.props.event_gid||En.GetClanEventModel(this.props.event_gid))return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,En.LoadPartnerEventGeneric(this.props.clansteamid,this.props.appid,this.props.event_gid,void 0,0)];case 2:return t=e.sent(),this.setState({lookupGID:t.GID}),[3,4];case 3:return e.sent(),En.LoadPartnerEventGeneric(this.props.clansteamid,this.props.appid,void 0,this.props.event_gid,0).then(function(e){return a.setState({lookupGID:e.GID})}).catch(function(e){return console.log("StoreEventDetailView failed "+Object(y.a)(e).strErrorMsg)}),[3,4];case 4:return[3,6];case 5:this.props.announcement_gid&&!En.GetClanEventGIDFromAnnouncementGID(this.props.announcement_gid)&&En.LoadPartnerEventGeneric(this.props.clansteamid,this.props.appid,void 0,this.props.announcement_gid,0).then(function(e){return a.setState({lookupGID:e.GID})}).catch(function(e){return console.log("StoreEventDetailView failed "+Object(y.a)(e).strErrorMsg)}),e.label=6;case 6:return[2]}})})},e.prototype.componentDidMount=function(){this.LoadEvent()},e.prototype.InfiniteScrollCloseModal=function(){var e=En.GetClanEventModel(this.state.lookupGID);e&&(e.appid?this.props.history.push("/newshub/app/"+e.appid):this.props.history.push("/newshub/group/"+e.clanSteamID.GetAccountID()))},e.prototype.render=function(){var e=En.GetClanEventModel(this.state.lookupGID);return e?this.props.bInfiniteScroll?s.a.createElement(Te.a,null,s.a.createElement(Oe,{classname:Ae.a.StoreHeaderAdjust,appid:e.appid,trackingLocation:0,announcementGID:e.GetAnnouncementGID(),partnerEventStore:En,eventModel:e,showAppHeader:!0,closeModal:this.InfiniteScrollCloseModal})," : null }"):s.a.createElement(Te.a,null,s.a.createElement(Fa,{lang:Object(R.e)(M.c.LANGUAGE),partnerEventStore:En,event:e,adminPanel:s.a.createElement(oa,{eventModel:e,partnerEventStore:En}),otherEventRow:s.a.createElement(ka,{appid:e.appid,eventModel:e,partnerEventStore:En})})):s.a.createElement(U.a,null)},Object(G.c)([T.a],e.prototype,"InfiniteScrollCloseModal",null),e=Object(G.c)([r.observer],e)}(s.a.Component),fn=(gn=Object(pe.g)(Sn),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoading:!0},e}return Object(G.d)(e,t),e.prototype.Load=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r;return Object(G.e)(this,function(e){switch(e.label){case 0:t=this.props.appid,e.label=1;case 1:return e.trys.push([1,3,,4]),a=bn.a.Get().LoadPartnerEventGeneric(this.props.clansteamid,this.props.appid,this.props.event_gid,this.props.announcement_gid,0),n=t?ne.a.LoadOGGClanInfoForAppID(t):void 0,[4,Promise.all([a,n])];case 2:return e.sent(),this.setState({bLoading:!1}),[3,4];case 3:return r=e.sent(),this.setState(Object(G.a)({bLoading:!1},Object(y.a)(r))),[3,4];case 4:return[2]}})})},e.prototype.componentDidMount=function(){this.Load()},e.prototype.componentDidUpdate=function(e){e.appid==this.props.appid&&e.clansteamid==this.props.clansteamid&&e.event_gid==this.props.event_gid&&e.announcement_gid==this.props.announcement_gid||this.Load()},e.prototype.render=function(){return console.log("parent",this.props.event_gid,this.props.announcement_gid),this.state.bLoading?s.a.createElement("div",{className:fe.FlexCenter},s.a.createElement(U.a,null)):void 0!==this.state.strErrorMsg?s.a.createElement("div",null,this.state.strErrorMsg):s.a.createElement(gn,Object(G.a)({},this.props))},e}(s.a.Component)),Cn=a("WBba"),In=a("r+ba"),On=a("apHd"),wn=function(n){function e(e){var a=n.call(this,e)||this;a.state={events:null,bShowModal:!1,modalInitialEvent:null,bPreLoaded:!1,announcementGIDList:[]};var t=Object(On.a)("EventWebRowEmbed");return a.ValidateStoreDefault(t)&&(a.state.bPreLoaded=t.bPreLoaded,a.state.announcementGIDList=t.announcementGIDList,a.state.events=[],a.state.announcementGIDList.forEach(function(e){var t=L.c.GetClanEventFromAnnouncementGID(e);t&&a.state.events.push(t)})),a}return Object(G.d)(e,n),e.prototype.componentDidMount=function(){return Object(G.b)(this,void 0,void 0,function(){var t,a,n,r,o,i,l,s=this;return Object(G.e)(this,function(e){switch(e.label){case 0:return t=this.props,a=t.appid,n=t.event_customization,r=t.partnerEventStore,o=t.trackingLocation,this.state.bPreLoaded?[3,2]:[4,r.LoadAdjacentPartnerEvents(null,null,a,0,2,n)];case 1:i=e.sent(),this.setState({events:i}),o&&i&&0<i.length&&(l=A.a.Get().GetTracker(),this.state.events.filter(function(e){return e.BIsPartnerEvent()}).forEach(function(e){return l.MarkEventShown(e.GID,e.clanSteamID.GetAccountID(),o)}),l.Flush()),e.label=2;case 2:return window.fnPartnerEvent_ShowInfiniteScroll=function(e,t){console.log("appid: "+e+" gid: "+t),s.setState({bShowModal:!0,announcementGID:t,modalInitialEvent:void 0})},[2]}})})},e.prototype.ValidateStoreDefault=function(e){var t=e;return!(!t||"object"!=typeof t)&&(void 0!==t.bPreLoaded&&"boolean"==typeof t.bPreLoaded&&Array.isArray(t.announcementGIDList))},e.prototype.ShowModal=function(e){var t=this.props.trackingLocation;this.setState({bShowModal:!0,modalInitialEvent:e,announcementGID:void 0});var a=A.a.Get().GetTracker();e.BIsPartnerEvent()&&a.MarkEventRead(e.GID,e.clanSteamID.GetAccountID(),t)&&a.Flush()},e.prototype.CloseModal=function(){this.setState({bShowModal:!1,modalInitialEvent:null})},e.prototype.render=function(){var a=this,n=this.state.events;if(!n)return s.a.createElement("div",{className:Ce.a.FlexCenter},s.a.createElement(U.a,{size:"medium",position:"center"}));if(n&&0===n.length)return null;var e=window.screen.width<=500?1:2,t=this.props,r=t.partnerEventStore,o=t.strClassName,i=t.appid,l=t.trackingLocation;return s.a.createElement("div",{className:o},this.state.bShowModal&&s.a.createElement(Oe,{classname:In.StoreHeaderAdjust,appid:i,trackingLocation:l,announcementGID:this.state.announcementGID?this.state.announcementGID:this.state.modalInitialEvent.AnnouncementGID,partnerEventStore:r,eventModel:this.state.modalInitialEvent,closeModal:this.CloseModal}),s.a.createElement("h2",null,Object(j.c)("#EventBrowse_RecentEvents")),s.a.createElement("div",{className:In.SectionButtonCtn},s.a.createElement("div",{className:In.SectionButton,onClick:function(){return a.ShowModal(n[0])}},Object(j.c)("#EventBrowse_MoreEventsBtn"))),s.a.createElement("div",{className:In.EventsSummariesCtn},n.slice(0,e).map(function(t){var e=1===n.length&&500<window.screen.width?Aa:Da;return s.a.createElement(e,{key:t.GID,event:t,onClick:function(e){a.ShowModal(t),e.stopPropagation(),e.preventDefault()}})})))},Object(G.c)([T.a],e.prototype,"ShowModal",null),Object(G.c)([T.a],e.prototype,"CloseModal",null),e}(s.a.Component),Tn=function(r){function e(e){var t=r.call(this,e)||this;t.m_rtimeOldest=0;var a=new Date,n=new Date(a.setUTCHours(0,0,0,0)-15552e6);return t.m_rtimeOldest=Math.floor(n.getTime()/1e3),t}return Object(G.d)(e,r),e.prototype.render=function(){var e=this.props.appid;return s.a.createElement(wn,{appid:e,partnerEventStore:bn.a.Get(),event_customization:{rtime_oldestevent:this.m_rtimeOldest,exclude_tags:["patchnotes","hide_store","mod_hide_store"],exclude_event_types:[34]},strClassName:"early_access_announcements",trackingLocation:3})},e}(s.a.Component);a.d(t,"EventModerationLanding",function(){return An}),a.d(t,"EventBackfillLanding",function(){return jn}),a.d(t,"EventSaleDisplay",function(){return Gn}),a.d(t,"EventCalendar",function(){return Ln}),a.d(t,"EventDetailView",function(){return Mn}),a.d(t,"Events",function(){return Nn}),Ie.a.Init(new Cn.a(M.c.WEBAPI_BASE_URL)),L.c.Init();var kn=function(e){var t=e.children,a=Object(k.useState)(A.a.IsInitialized()),n=a[0],r=a[1];return n?s.a.createElement(s.a.Fragment,null,t):(A.a.InitGlobal().then(function(){return r(!0)}),null)};function Dn(t){return function(e){return s.a.createElement(kn,null,s.a.createElement(t,e))}}var An=Dn(yt),jn=Dn(At),Gn=Dn(function(e){return s.a.createElement(rn,Object(G.a)({},e))}),Ln=Dn(function(e){return s.a.createElement(Ze,Object(G.a)({},e))}),Mn=Dn(fn),Nn=Dn(Tn)},Xkb6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABcCAYAAADj79JYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NERCMzNDMkIzRDc1MTFFQUJGNkRGNDBDMjk3NUMxN0YiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NERCMzNDMkMzRDc1MTFFQUJGNkRGNDBDMjk3NUMxN0YiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0REIzM0MyOTNENzUxMUVBQkY2REY0MEMyOTc1QzE3RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0REIzM0MyQTNENzUxMUVBQkY2REY0MEMyOTc1QzE3RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrJ8Y1kAAAOhSURBVHja7J1piE1hHIffsYTJlj2EFCHGmiRZS44lKetgxhiSLUqyf5LspWSnlOyyc0VjkGVMYyyTJT5YQmMPH6wZz9s5XxSi5vzvWf6/erqf7r1vT7/e95z3nnNuSklJidHIpYwqUOEqXKPCVbjm31KutD4okUgc4yXbcZyX//m+pApgvKFt+EAoQuAA7bHclFIHjiN9PaSqXrk5fDJcQ3oHVSy3aLaAPKTPBV2chY5SysNSyEV6Y9Utd1jYHW4iPV2Fy6Ua7ET6LqiuwuUyymt7DxUul0ZwFunLvHlehQt99xy4Ci1VuFza22N2mAIpKlwmlWCdPUuFuipcLv2hCAapcLnUhqOwEVJVuFwmwXXopMLl0hyuwHwoq8JlYn8kWQLnoIkKl0s3e4YKY1S4XKrCDtgD1VW4XEZ4h4+9VLhcGkIOrIAKKlwmditgNuRBKxUul3bG3Y+ZZgK+HxOl3xorwlo4CfVUuFz6eQvqYBUul1pwGDZDZRUul4lQCJ1VuFyawSVYaAKwHxOXC3TsfsxiuABNVbhcusINyFThcqkC22Ef1FDhchkGtxKJRB8VLpcGcAbpq6CCCpeJ3QqYBflIb63C5ZIGBUifASkqXCZ2WlkDp5BeX4XLpa+3oA5R4XKpCQeRvhUqq3C5ZMMBFS6XbTC0NPcYNL/PG5joOM6h0vxQFf77nIYsZD/XRdPffIGZ0M8P2drwX3ML0hF9W880/Y19BtVq6Oy3bG24Mc8gE9E5Ul8Y54bvhzRJ2XEV/hHGwXB4K/3lcZtSLhv3cueHyRpAXBr+HRYZ957/h8kcSBwa/sBrdX4QBhP1hm+BDkGRHeWGv4YJcCRoA4ui8FOQBcVBHFyUppTPMN24dzMXB3WQUWm4vZpqNNwJ+kDD3nC7D7ISuoRBdtgb/hQyIDdMgw5rw/ca9zqS3LANPGzCP8BYGAnvwtiUME0pFz3Zj8K86ISh4XYfZAH0DLvsMDT8vne4VxCVk4UgN3yTcfdBIiM7qA1/ZdyrnY5FcNshcMLtXcTj4YWJaIIypXyCqcZ9yn5kZQel4de9hfGuiUGS2fAfsNy4+yCxkJ1M4U+gt+M4c3n9amKUZAjfDW2Rfd7EMJJz+HuYguhdJsaREm7vcc9A9mMT8/g9pXyDed58HXvZfjf8nj3cQ3Shava/4Rugo8r2v+H2j+/GI/qEqvW/4fbp9m1U9t+Ton9CHZ9TexWuUeEqXKPCVbjmz/kpwAD6adOjS2vEgwAAAABJRU5ErkJggg=="},ZCZY:function(e,t,a){e.exports={BreadContainer:"breadcrumbs_BreadContainer_3jswb"}},a6qw:function(e,t,a){},bUNj:function(e,t,a){},dgee:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUQ5NEMwOTYzRDc4MTFFQUExREZEODRBMDBCNjdENTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUQ5NEMwOTczRDc4MTFFQUExREZEODRBMDBCNjdENTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBRDk0QzA5NDNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBRDk0QzA5NTNENzgxMUVBQTFERkQ4NEEwMEI2N0Q1MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po/TXacAAABMSURBVHjaYvz//z8DNQHjyDMQDICGJgDx3f/kA5DeBJhh8f+pB+JBXr4DNFeZSp69CzLwP7UjZdTAkWAgVdMh1XMK1fPyCCwPAQIMAKf/Y+3dveJlAAAAAElFTkSuQmCC"},dsx8:function(e,t,a){e.exports={StoreHeaderAdjust:"events_StoreHeaderAdjust_1MJYc",SectionButtonCtn:"events_SectionButtonCtn_xzUHb",SectionButton:"events_SectionButton_3I3q-",EventsSummariesCtn:"events_EventsSummariesCtn_1MHN3"}},exzL:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABcCAYAAADj79JYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDdGOTQ3RDYzRDc1MTFFQTk1MjRDRjc1M0VCNkRCRjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDdGOTQ3RDczRDc1MTFFQTk1MjRDRjc1M0VCNkRCRjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N0Y5NDdENDNENzUxMUVBOTUyNENGNzUzRUI2REJGNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0N0Y5NDdENTNENzUxMUVBOTUyNENGNzUzRUI2REJGNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pr88d9sAAAOESURBVHja7J1ZiI1hHMbfj5GSoiw35I7cOLaSpEkupDGSkosxjLU0yFxa7623dneMpGwzZGmIbGnsa5QtxFiyXCByPG/vufg6Y3Twvf/zLs9Tz+2Z7/z6zf/7zv+c850kn88rRi6diIDACZwhcAJnSktFho/VhM5LkqQtRFBZXc1laXg1egsHNokey42UvmgzoG9CuxFv+yQZvvApfqD76AyMmKscKTInzcHoJRzoMpQnZwHD0zmLzoLtT2m4TCrRGzjoGp405dID3Q3ojWhPjhS7I6U4zwoj5gxHikwGoKfwJNagXWi4fcPTuVa4fLxHw2UyHL2CJ1SPJjTcvuHpHEXnwvbXNFwmVcrsYybzslAufdDDgL4lxH2MayOlOA8KJ9RWjhSZDEIv4smuQDvTcPuGp3MOnQnbn9BwmYxVZh9TS8NlDE9nL7oQtn/wzXBfges8V2Yfc5ojRSb90RaAWId25UiRzfXC5eNdGi6TYcrsYxa7vo8JxfB0jqFzYPsrGi6TicrsY6a4eHChvpveGz0I6NvQ7hwpsnmI1mLEXOZIkclA9DyArXJhHxOD4elcUGYf84iGy2SMvmYHvDoaLp99yuxj3ksaHjNwnRdoHaC3cKTIpB96EjA3SO1jYjc8nZvK7GNu03CZ5NBWgF1qcx9Dw3+fE8rsY17ScJlM0CMGkKdm/cAE3nF6ofsBfUeW+xiOlNJyXJktJA0XyE50WlYPVkGeHeYdugAnzgNZnjQJvMSrFJ407eQb2qDntQ3YNLz9K80agL5j84/QcHN1tREdZRs2Df+LbSEN///ofXhOEnaswD+jswF6eqlvPnCk/Hv0e5r6HfzH5TqAWAz/ga5GK8sJOxbDM/lcCg0vLdvREa7ADtnwt+h8gD7k2oGFCNzKp2c5UtrnK7oErXIVdkiGW/8GBA030XuQ9ehoH2D7brjot9hiN1x/TzPnG2wfDf+ELgLoXb7+W/oEvKzftY9ppOg9yEp0nO+wfTDcmfulxGD4VmX2IMHAdtXwN8rc+L0pwLWDc8CdvatbaCPli77cQ6tDhu2K4V7cmTMEw3+ia5XZg0QBu5yGe3d3ZZ8N34MOjRG2tOEf0XqAblQRRwq4978B4ctI+Y4uR8cTtn3Dg/odH9cN34yOJGz7hrcVXpofIVr7hjejQwj7z0n4I9TxvLQncIbACZwhcAJnOs4vAQYAwpCDXwAmgMUAAAAASUVORK5CYII="},go9d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtNJREFUeNrsmk1rE0EYgHe19ZBIY2kj4qUQVGjxAz2J4gcVvfmBP8FI8eZF8OJNL4oFPYrGX1CK4lEMiChe/aCClNBeRGxLTTE5GDU+Y2bDJG5rL5lZ950XnsxkE5h9n8zszkw2bDabgeTYEAgPL8AL8AK8AC/AC/AC5EafegnDcM0vMVvMUOyA7bBNswVymgHYDOp7m/SxUNczRlvZdZ5XDX7oeh2+q9OAqq6rY99gRR9TfIXPmk8wS171f+QVhH9eYgRw/BhFEQ7q5MP/7MdVwmbhNZTI8fm6BPBe/XoP4XzKevs0XCDX6qoCdPIvYE9Kh/xbOBpJULl3XwQfpDh5FXt1ju1o9wDKQ7x/KeTif5icX3X3gKKgu18xbh4wLkjAeMcQIPLwRdgcaCssRD1gTOAkcMwcAgWBAgqmgBGBAkZMAfkeN1ZPoIC8KWCox409hePwJkEChmwKCPRi5ABMJOSO0yFg2EaLSPgF96nuhFt6aesqhk0BgzZbRsIKXKU6Co8dCRg0BWRdnAESKnCO6gl4Z7n5rCmg3+VgREKZYj9cUrMzS832mwJyrq9ISPgJ9/T1YRIaPW4y170YSkSozQq4QnU3POl1e4ndFUbCRzhD9RS8FyfAVvQl9cRYpu+iuA2nRQnQG7PX4LKNu1MkoOr6TkDiGykuwnULi7Mo57aAhuPk1RbVncDujnTDvAjWHCVegEdUnwX2t+NrpoBly4kPwE2qH+Cso463bA6BRUuJK+FqS/pG0NqUdBmLpoAlC8mrP1vvwr6E3HCWbAo46bCrrykgugb0egWWSeBca8EUMC9wFjxvCqgIFFAxBcwIFDDTFsCyU42HOUHJz+mcO5bDZUECynH7ASVBAkp/CVBPTFBMCUh+Sufayts/JGWE/uBI0HqkLG0xbSYf2wNi5u7yHpRcZSGT7kdlJYd/XN4L8AK8AC/AC/ACvACx8VuAAQDxke5GRJ5P8AAAAABJRU5ErkJggg=="},i6tc:function(e,t,a){e.exports={TileContainer:"eventcalendartile_TileContainer_1E3An",LiveText:"eventcalendartile_LiveText_RNDf0",LiveNow:"eventcalendartile_LiveNow_EVDkY",FutureDateText:"eventcalendartile_FutureDateText_2xdhM",PastDateText:"eventcalendartile_PastDateText_4-fqV",SourceRecommended:"eventcalendartile_SourceRecommended_1yaRL",DateAndSourceLine:"eventcalendartile_DateAndSourceLine_2xxMB",SourceList:"eventcalendartile_SourceList_3BIx7",Source:"eventcalendartile_Source_2lYFq",EventTypeAndDateCtn:"eventcalendartile_EventTypeAndDateCtn_sUBHF",SmallAppName:"eventcalendartile_SmallAppName_1-Jl_",TileTextCategoryType:"eventcalendartile_TileTextCategoryType_1LkWX",EventType28:"eventcalendartile_EventType28_1qGfE",EventType11:"eventcalendartile_EventType11_2Gv13",EventType35:"eventcalendartile_EventType35_2wHiB",EventType13:"eventcalendartile_EventType13_2D0ZN",EventType14:"eventcalendartile_EventType14_2mVdt",EventType15:"eventcalendartile_EventType15_2Xke6",Tile:"eventcalendartile_Tile_3xvUZ",MainContentContainer:"eventcalendartile_MainContentContainer_2pq2v",CoverImageCtn:"eventcalendartile_CoverImageCtn_3HF9t",EventCapsuleCtn:"eventcalendartile_EventCapsuleCtn_27kWH",YoutubePreviewImage:"eventcalendartile_YoutubePreviewImage_1UgZv",TileImage:"eventcalendartile_TileImage_d8bPi",TileTextContainer:"eventcalendartile_TileTextContainer_3IQK4",EventType12:"eventcalendartile_EventType12_2X_hM",EventName:"eventcalendartile_EventName_1M8-P",EventSummary:"eventcalendartile_EventSummary_1yvEg",EventSubTitle:"eventcalendartile_EventSubTitle_1JjUp",EventTitleCtn:"eventcalendartile_EventTitleCtn_1h5cJ",TileTextHeader:"eventcalendartile_TileTextHeader_3-0KO",GameCapsuleCtn:"eventcalendartile_GameCapsuleCtn_3HJFi",AppBannerLogo:"eventcalendartile_AppBannerLogo_u8z1m",PatchIconCtn:"eventcalendartile_PatchIconCtn_Fm9_5","Tag-steam_award_vote_request":"eventcalendartile_Tag-steam_award_vote_request_tAmZA",FallbackImage:"eventcalendartile_FallbackImage_9rv9P",TileBackgroundImage:"eventcalendartile_TileBackgroundImage_gGujG",TileGameCapsule:"eventcalendartile_TileGameCapsule_2AXYk",EnableHovers:"eventcalendartile_EnableHovers_2BniJ",AppIcon:"eventcalendartile_AppIcon_3gwk6",TileTextAppName:"eventcalendartile_TileTextAppName_71phF",TileCoverImagePlayable:"eventcalendartile_TileCoverImagePlayable_2eoFk",TileCoverLiveIcon:"eventcalendartile_TileCoverLiveIcon__dmbj",ReminderContainer:"eventcalendartile_ReminderContainer_1_taB",EventSummaryDefault:"eventcalendartile_EventSummaryDefault_2g3Jj",Vote_NotLoggedIn:"eventcalendartile_Vote_NotLoggedIn_17oqR",Vote_LimitedUser:"eventcalendartile_Vote_LimitedUser_2FlPo",Vote_Positive:"eventcalendartile_Vote_Positive_ysX-k",RateIcon:"eventcalendartile_RateIcon_2se4H",Vote_Negative:"eventcalendartile_Vote_Negative_3LqNu",Vote_Ready:"eventcalendartile_Vote_Ready_3issE",Footer:"eventcalendartile_Footer_1tdf1",FooterRightSide:"eventcalendartile_FooterRightSide_1Hhqg",Options:"eventcalendartile_Options_3nZg0",TileViewerCount:"eventcalendartile_TileViewerCount_pg-a3",FooterStat:"eventcalendartile_FooterStat_3_86J",CommentIcon:"eventcalendartile_CommentIcon_Wn7qA",CommentIconCtn:"eventcalendartile_CommentIconCtn_PR8xM",TileVideoIcon:"eventcalendartile_TileVideoIcon_aK0jl",DateAndTime:"eventcalendartile_DateAndTime_1gEM9",HasVideo:"eventcalendartile_HasVideo_qbgBA",VideoPlayerReady:"eventcalendartile_VideoPlayerReady_1onQj"}},qP7j:function(e,t,a){e.exports={ErrorStyles:"partnereventdialog_ErrorStyles_2Sg7W",ErrorStylesWithIcon:"partnereventdialog_ErrorStylesWithIcon_Lc2PK",ErrorIconLayout:"partnereventdialog_ErrorIconLayout_42__6",ErrorStylesBackground:"partnereventdialog_ErrorStylesBackground_3fVv6",WarningStyles:"partnereventdialog_WarningStyles_3gxgE",WarningStylesWithIcon:"partnereventdialog_WarningStylesWithIcon_1S_uS",WarningIconLayout:"partnereventdialog_WarningIconLayout_2jM80",WarningStylesBackground:"partnereventdialog_WarningStylesBackground_UYrHs",Padding:"partnereventdialog_Padding_36hma",NotTooWideModal:"partnereventdialog_NotTooWideModal_UfQcb"}},sGzE:function(e,t,a){e.exports={StatsTitle:"partnereventstats_StatsTitle_3YLaB",StatsCtnTitle:"partnereventstats_StatsCtnTitle_1LlRF",SmallStatsMode:"partnereventstats_SmallStatsMode_2A2-p",StatsCtn:"partnereventstats_StatsCtn_hWCs4",StatsLeftSection:"partnereventstats_StatsLeftSection_3L-uh",StatsRightSection:"partnereventstats_StatsRightSection_1yibD"}},vNkc:function(e,t,a){e.exports={Error:"eventbackfill_Error_1eWgI"}}}]);