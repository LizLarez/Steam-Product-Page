










/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/. 
****/
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/PpB":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("mrSG"),o=n("q1tI"),r=n("Jqb/"),i=n("TLQK"),s=n("lkRc"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.d)(t,e),t.prototype.render=function(){var e=s.c.HELP_BASE_URL+"wizard/HelpWithLimitedAccount";return o.createElement(r.b,{strTitle:Object(i.c)("#Informational_Message"),onCancel:this.props.closeModal,onOK:this.props.closeModal,bAlertDialog:!0},o.createElement("div",null,Object(i.i)("#User_LimitedAccount",o.createElement("a",{href:(s.c.IN_CLIENT?"steam://openurl/":"")+e,target:s.c.IN_CLIENT?void 0:"_blank"},Object(i.c)("#User_LimitedAccount_UrlInfo")))))},t}(o.Component)},"02Wr":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var a=n("mrSG"),o=n("q1tI"),r=n("bxiW"),i=n("oazx"),s=n("TLQK"),c=function(n){function e(e){var t=n.call(this,e)||this;return t.state={index:0},t}return Object(a.d)(e,n),e.prototype.componentDidUpdate=function(e){e.srcs.length!=this.props.srcs.length&&this.setState({index:0})},e.prototype.OnError=function(){this.props.onImageError&&this.props.onImageError(this.props.srcs[this.state.index]),this.state.index+1<this.props.srcs.length&&this.setState({index:this.state.index+1})},e.prototype.render=function(){return o.createElement("img",{className:this.props.className,src:this.props.srcs[this.state.index],onError:this.OnError})},Object(a.c)([r.a],e.prototype,"OnError",null),e}(o.Component),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={error:!1},e}return Object(a.d)(e,t),e.prototype.OnError=function(){this.setState({error:!0})},e.prototype.render=function(){var e=this.props,t=e.src,n=e.className,a=e.crossOrigin;return this.state.error?o.createElement("div",{className:i.ErrorDiv},o.createElement("p",null,Object(s.c)("#Image_ErrorTitle",this.props.src)),o.createElement("ul",null,o.createElement("li",null,Object(s.c)("#Image_Error_msg1")),o.createElement("li",null,Object(s.c)("#Image_Error_msg2"))),o.createElement("p",null,Object(s.c)("#Image_Error_suggestion"))):o.createElement("img",{className:n,src:t,onError:this.OnError,crossOrigin:a})},Object(a.c)([r.a],e.prototype,"OnError",null),e}(o.Component)},"0oQF":function(e,t,n){e.exports={SteamAwardContainer:"nominationandvote_SteamAwardContainer_3n6v2",InLibraryView:"nominationandvote_InLibraryView_pqLcz",Category_love:"nominationandvote_Category_love_2f8jC",Category_goty:"nominationandvote_Category_goty_2pCT3",Category_vrgoty:"nominationandvote_Category_vrgoty__wA2f",Category_friends:"nominationandvote_Category_friends_2p0XH",Category_gameplay:"nominationandvote_Category_gameplay_rbEsY",Category_storyrich:"nominationandvote_Category_storyrich_2XCN7",Category_yousuck:"nominationandvote_Category_yousuck_IzDwF",Category_visual:"nominationandvote_Category_visual_1-FVz",SteamAwardHeader:"nominationandvote_SteamAwardHeader_2jgrT",SteamAwardHeaderImage:"nominationandvote_SteamAwardHeaderImage__lRFQ",SteamAwardMainCtn:"nominationandvote_SteamAwardMainCtn_1uGju",SteamAwardMainTitle:"nominationandvote_SteamAwardMainTitle_161Yb",SteamAwardSubTitle:"nominationandvote_SteamAwardSubTitle_Sxxel",SteamAwardLearnMore:"nominationandvote_SteamAwardLearnMore_VQlY6",BottomRight:"nominationandvote_BottomRight_zr64Q",SteamAwardHeaderText:"nominationandvote_SteamAwardHeaderText_2mrzK",LinkText:"nominationandvote_LinkText_2x4pg",SteamAwardVoteWidget:"nominationandvote_SteamAwardVoteWidget_khWz0",SteamAwardVotePrompt:"nominationandvote_SteamAwardVotePrompt_H5jrP",SteamAwardCategoryTitle:"nominationandvote_SteamAwardCategoryTitle_JVE9O",SteamAwardCategoryDesc:"nominationandvote_SteamAwardCategoryDesc_1V-8W",SteamAwardVoteButtonArea:"nominationandvote_SteamAwardVoteButtonArea_1v9LH",SteamAwardVoteButton:"nominationandvote_SteamAwardVoteButton_cTcgI",SteamAwardVoteButtonText:"nominationandvote_SteamAwardVoteButtonText_247y3",SteamAwardVoteButtonSubmitted:"nominationandvote_SteamAwardVoteButtonSubmitted_1ouD4",SteamAwardNominateButton:"nominationandvote_SteamAwardNominateButton_1uxCj",SteamAwardLinkToNominationPage:"nominationandvote_SteamAwardLinkToNominationPage_3p83s",SteamAwardModalGameTitle:"nominationandvote_SteamAwardModalGameTitle_15lc0"}},"3+zv":function(e,t,n){"use strict";var o=n("mrSG"),r=n("mgoM"),i=n("kLLr"),s=n("2vnA"),c=n("U+Q5"),l=n("ir+G"),u=n("bS9Q"),p=n("TLQK"),a={bBroadcastEnabled:!1,broadcastChatSetting:"hide",default_broadcast_title:"#Broadcast_default_title_dev",localized_broadcast_title:new Array(29),localized_broadcast_left_image:new Array(29),localized_broadcast_right_image:new Array(29),broadcast_whitelist:[]},d=n("N0Ye"),m=n("4P4B"),h=n("lkRc"),_=(n("bxiW"),n("TQGK")),v=n("r64O"),g=n("YyVH");n.d(t,"d",function(){return f}),n.d(t,"c",function(){return y}),n.d(t,"m",function(){return I}),n.d(t,"e",function(){return C}),n.d(t,"h",function(){return S}),n.d(t,"g",function(){return w}),n.d(t,"i",function(){return A}),n.d(t,"l",function(){return j}),n.d(t,"f",function(){return L}),n.d(t,"n",function(){return k}),n.d(t,"a",function(){return N}),n.d(t,"j",function(){return M}),n.d(t,"b",function(){return G}),n.d(t,"k",function(){return B});var b=[r.a.k_ERegularUpdateEvent,r.a.k_EMajorUpdateEvent,r.a.k_EESportTournamentStreamEvent,r.a.k_EDevStreamEvent,r.a.k_EFamousStreamEvent,r.a.k_EInGameBonusXPEvent,r.a.k_EInGameLootEvent,r.a.k_EInGamePerksEvent,r.a.k_EInGameEventGeneral,r.a.k_EInGameChallengeEvent,r.a.k_EInGameContestEvent,r.a.k_ENewsEvent,r.a.k_EDLCReleaseEvent,r.a.k_ESeasonRelease,r.a.k_EGameReleaseEvent];function f(t){return b.some(function(e){return e==t.GetEventType()})&&!t.BHasTag("steam_award_nomination_request")&&!t.BHasTag("curator")}var E=[r.a.k_EGameSalesEvent,r.a.k_EFreeTrial,r.a.k_ECrosspostEvent];function y(t){return!E.some(function(e){return e==t.GetEventType()})&&!t.BHasTag("curator")}r.a.k_ESmallUpdateEvent,r.a.k_ECrosspostEvent;var I=[593110,766,221410];var S,O,D=[r.a.k_ESmallUpdateEvent,r.a.k_ECrosspostEvent];function C(t){return!D.some(function(e){return e==t.GetEventType()})&&!t.BHasTag("curator")}(O=S||(S={}))[O.k_EEventStateUnpublished=0]="k_EEventStateUnpublished",O[O.k_EEventStateStaged=1]="k_EEventStateStaged",O[O.k_EEventStateVisible=2]="k_EEventStateVisible";var A,T,w={capsules:[],events:[],links:[],localized_label:new Array(29),localized_label_image:new Array(29),default_label:"#Sale_default_label",section_type:"items"};function j(e){switch(e){case A.k_EGameOfTheYear:return 1;case A.k_EVRGameOfTheYear:return 2;case A.k_ELaborOfLove:return 3;case A.k_EBetterWithFriends:return 4;case A.k_EMostInnovativeGameplay:return 5;case A.k_EOutstandingStoryRichGame:return 6;case A.k_EBestGameYouSuckAt:return 7;case A.k_EOutstandingVisualStyle:return 8;case A.k_ENone:default:return 0}}(T=A||(A={})).k_ENone="none",T.k_EGameOfTheYear="goty",T.k_EVRGameOfTheYear="vrgoty",T.k_ELaborOfLove="love",T.k_EBetterWithFriends="friends",T.k_EMostInnovativeGameplay="gameplay",T.k_EOutstandingStoryRichGame="storyrich",T.k_EBestGameYouSuckAt="yousuck",T.k_EOutstandingVisualStyle="visual";var L=Object(o.a)(Object(o.a)({localized_subtitle:new Array(29),localized_summary:new Array(29),localized_title_image:new Array(29),localized_capsule_image:new Array(29),localized_spotlight_image:new Array(29),bSaleEnabled:!1,sale_show_creator:!1,sale_header_overlay:!1,sale_sections:[],sale_browsemore_text:"",sale_browsemore_url:"",sale_browsemore_color:"",sale_browsemore_bgcolor:"",localized_sale_header:new Array(29),localized_sale_overlay:new Array(29),localized_sale_product_banner:new Array(29),localized_sale_product_mobile_banner:new Array(29),sale_font:"",sale_background_color:"",sale_title_overlay:!1,sale_header_offset:150},a),{bScheduleEnabled:!1,scheduleEntries:[]}),k="old_announce_",N=["steam_blog_featured","workshop","steam_blog","blog","audience_followers","steamvr","patchnotes","steam_library_beta","hide_library_overview","mod_hide_library_overview","hide_library_detail","mod_hide_library_detail","hide_store","mod_hide_store","halloween2019candidate","halloween2019","halloween2019reviewed","horror","cute","mod_reviewed","steam_award_nomination_request","steam_award_vote_request","steam_game_festival_artist_statement","steam_game_festival_office_hour","steam_game_festival_broadcast","curator","curator_group_members","curator_public"],M=["patchnotes","steam_award_nomination_request","steam_award_vote_request","mod_hide_library_overview","steam_game_festival_artist_statement","steam_game_festival_office_hour","steam_game_festival_broadcast","curator","curator_group_members","curator_public"],G={capsule:{width:800,height:450},spotlight:{width:2108,height:460},background:{width:1920,height:622},hero:{width:0,height:0},email_full:{width:800,height:300},email_centered:{width:644,height:300},broadcast_left:{width:155,height:337},broadcast_right:{width:155,height:337},sale_header:{width:0,height:0,bDisableEnforceDimensions:!0},sale_overlay:{width:0,height:0,bDisableEnforceDimensions:!0},localized_image_group:{width:0,height:0,bDisableEnforceDimensions:!0},sale_section_background:{width:0,height:0,bDisableEnforceDimensions:!0},sale_section_title:{width:0,height:0,bDisableEnforceDimensions:!0},link_capsule:{width:0,height:0,bDisableEnforceDimensions:!0},product_banner:{width:1100,height:160},product_mobile_banner:{width:500,height:160},product_banner_override:{width:1100,height:160},product_mobile_banner_override:{width:500,height:160}},B=function(){function a(){this.type=r.a.k_EOtherEvent,this.appid=0,this.name=new Map,this.description=new Map,this.timestamp_loc_updated=new Map,this.visibility_state=S.k_EEventStateUnpublished,this.jsondata=L,this.nCommentCount=0,this.nVotesUp=0,this.nVotesDown=0,this.bOldAnnouncement=!1,this.announcementClanSteamID=void 0,this.loadedAllLanguages=!1,this.bLoaded=!1,this.deleteInProgress=!1,this.vecTags=new Array}return a.prototype.BIsPartnerEvent=function(){return!this.bOldAnnouncement&&Boolean(this.GID)},a.FromJSON=function(e){var t=new a,n=JSON.parse(e);return Object.assign(t,n),t.name=new Map(n.name),t.description=new Map(n.description),t.vecTags=new Array(n.vecTags),t.clanSteamID=new i.a(n.clanSteamID),Object(v.a)(t.clanSteamID&&t.clanSteamID.BIsValid(),"Invalid Clan SteamID: "+t.clanSteamID.ConvertTo64BitString()),n.broadcaster&&(t.broadcaster=new i.a(n.broadcaster),Object(v.a)(t.broadcaster&&t.broadcaster.BIsValid(),"Invalid Broadcast SteamID: "+t.broadcaster.ConvertTo64BitString())),t},a.prototype.toJSON=function(e){var t=new Object;return Object.assign(t,this),t.name=Array.from(this.name),t.description=Array.from(this.description),t.tags=Array.from(this.vecTags),t.clanSteamID=this.clanSteamID.ConvertTo64BitString(),this.broadcaster&&(t.broadcaster=this.broadcaster.ConvertTo64BitString()),t},a.prototype.clone=function(){var n=new a;return n.GID=this.GID,n.AnnouncementGID=this.AnnouncementGID,n.clanSteamID=this.clanSteamID,n.bOldAnnouncement=this.bOldAnnouncement,n.nCommentCount=this.nCommentCount,n.nVotesUp=this.nVotesUp,n.nVotesDown=this.nVotesDown,n.forumTopicGID=this.forumTopicGID,n.comment_type=this.comment_type,n.gidfeature=this.gidfeature,n.gidfeature2=this.gidfeature2,n.last_update_steamid=this.last_update_steamid,n.rtime32_last_modified=this.rtime32_last_modified,n.type=this.type,n.appid=this.appid,n.name=new Map,this.name.forEach(function(e,t){n.name.set(t,e)}),n.description=new Map,this.description.forEach(function(e,t){n.description.set(t,e)}),n.timestamp_loc_updated=new Map,this.timestamp_loc_updated.forEach(function(e,t){n.timestamp_loc_updated.set(t,e)}),n.startTime=this.startTime,n.endTime=this.endTime,n.visibilityStartTime=this.visibilityStartTime,n.visibilityEndTime=this.visibilityEndTime,n.postTime=this.postTime,n.visibility_state=this.visibility_state,n.loadedAllLanguages=this.loadedAllLanguages,n.bLoaded=this.bLoaded,n.broadcaster=this.broadcaster?new i.a(this.broadcaster.ConvertTo64BitString()):null,n.jsondata=JSON.parse(JSON.stringify(this.jsondata)),n.vecTags=new Array,this.vecTags.forEach(function(e){return n.vecTags.push(e)}),n},a.prototype.GetDayIndexFromEventStart=function(){if(void 0!==this.m_overrideCurrentDay&&0<=this.m_overrideCurrentDay)return this.m_overrideCurrentDay;var e=(new Date).getTime()/1e3;return null==this.startTime||e<this.startTime?0:Math.floor((e-this.startTime)/86400)},a.prototype.GetSaleLabelAlign=function(){return this.jsondata.sale_label_align||"left"},a.prototype.GetNameWithFallback=function(e){return this.name.get(e)||this.name.get(0)},a.prototype.GetGameTitle=function(e){return l.a.GetStoreCapsuleInfo(this.appid).GetAppStoreData().title},a.prototype.GetImgArray=function(e){var t=[];if("background"===e&&(t=this.jsondata.localized_title_image),"capsule"===e)t=this.jsondata.localized_capsule_image;else if("spotlight"===e)t=this.jsondata.localized_spotlight_image;else if("email_full"===e||"email_centered"===e)t=this.jsondata.email_setting?this.jsondata.email_setting.sections[0].localized_image:[];else if("broadcast_left"===e)t=this.jsondata.localized_broadcast_left_image;else if("broadcast_right"===e)t=this.jsondata.localized_broadcast_right_image;else if("sale_header"===e)if(void 0!==this.jsondata.sale_num_headers){var n=Math.min(this.jsondata.sale_num_headers,this.GetDayIndexFromEventStart());t=this.jsondata.localized_per_day_sales_header[n]}else t=this.jsondata.localized_sale_header;else"sale_overlay"===e?t=this.jsondata.localized_sale_overlay:"localized_image_group"===e||"link_capsule"===e||"product_banner_override"===e||"product_mobile_banner_override"===e||"sale_section_title"===e?t=c.f.GetLocalizedImageGroupForEditAsImgArray(this.clanSteamID):"product_banner"===e?t=this.jsondata.localized_sale_product_banner:"product_mobile_banner"===e&&(t=this.jsondata.localized_sale_product_mobile_banner);return t},a.prototype.GetImageURL=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=c.c.full);var a=this.GetImgArray(e);return a&&a.length>t&&null!=a[t]?c.a.GenerateArtworkURLFromHashAndExtensions(this.clanSteamID,a[t],n):void 0},a.prototype.GetImageHash=function(e,t){void 0===t&&(t=0);var n=this.GetImgArray(e);return n&&n.length>t&&null!=n[t]?n[t].substr(0,n[t].length-4):null},a.prototype.BHasSomeImage=function(e){var t=this.GetImgArray(e);return t&&t.some(function(e){return null!=e&&0<e.length})},a.prototype.BHasImage=function(e,t){var n=this.GetImgArray(e);return n&&n.length>t&&null!=n[t]},a.prototype.BHasAnnouncementGID=function(){return null!==this.AnnouncementGID&&void 0!==this.AnnouncementGID&&1<this.AnnouncementGID.length},a.prototype.GetAnnouncementGID=function(){return this.AnnouncementGID},a.prototype.BHasForumTopicGID=function(){return null!==this.forumTopicGID&&void 0!==this.forumTopicGID&&1<this.forumTopicGID.length},a.prototype.GetForumTopicURL=function(){if(!this.BHasForumTopicGID())return"";var e=_.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID()),t=h.c.COMMUNITY_BASE_URL+"app/"+this.appid+"/eventcomments/"+this.forumTopicGID;return e&&(e.is_creator_home||e.is_curator)&&(t=e.vanity_url&&0<e.vanity_url.length?h.c.COMMUNITY_BASE_URL+"groups/"+e.vanity_url+"/eventcomments/"+this.forumTopicGID:h.c.COMMUNITY_BASE_URL+"gid/"+this.clanSteamID.ConvertTo64BitString()+"/eventcomments/"+this.forumTopicGID),t},a.prototype.UpdateVoteCount=function(e,t){"up"==e?this.nVotesUp=Object(g.a)(this.nVotesUp+t,0,Number.MAX_SAFE_INTEGER):"down"==e&&(this.nVotesDown=Object(g.a)(this.nVotesDown+t,0,Number.MAX_SAFE_INTEGER))},a.prototype.GetImageFromBeginningOfDescription=function(e,t){var n=this.GetDescriptionWithFallback(e);if(n){var a=n.indexOf("[img]");if(-1!==a&&a<t){a+=5;var o=n.indexOf("[/img]",a);if(-1!=o){var r=n.substr(a,o-a).trim();if(0!=r.length)return r.replace(m.c,h.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/")}}}return null},a.prototype.GetImageURLWithFallback=function(e,t,n){void 0===n&&(n=c.c.full);var a=this.GetImageURL(e,t,n);if(a&&0!=a.trim().length)return a;if(0!=t){var o=this.GetImageURL(e,0,n);if(o&&0<o.length)return o}var r=_.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID());if("capsule"!=e)return"background"==e&&r&&(r.is_creator_home||r.is_curator)?r.creator_page_bg_url:this.GetFallbackArtworkScreenshot();var i=this.GetImageFromBeginningOfDescription(t,500);if(null!==i)return i;if(r&&(r.is_creator_home||r.is_curator))return r.avatar_full_url;var s=l.a.GetStoreCapsuleInfo(this.appid);return s.BIsLoaded()?s.GetAppStoreData().capsule:h.c.MEDIA_CDN_URL+"steam/apps/"+this.appid+"/header.jpg"},a.prototype.GetFallbackArtworkScreenshot=function(){if(this.appid){l.a.EnsureStoreCapsuleInfoLoaded(this.appid);var e=l.a.GetStoreCapsuleInfo(this.appid).GetAppStoreData();if(e.screenshot_list&&1<e.screenshot_list.length){var t=Number(this.bOldAnnouncement?this.AnnouncementGID:null==this.GID?0:this.GID);return t%=e.screenshot_list.length,e.screenshot_list[t]}return e.screenshot}if(this.clanSteamID){var n=_.a.GetClanInfoByClanAccountID(this.clanSteamID.GetAccountID());if(n&&(n.is_creator_home||n.is_curator))return n.avatar_full_url}return null},a.prototype.BImageNeedScreenshotFallback=function(e,t){var n=this.GetImageURL(e,t);return n&&0!=n.length||0!=t&&(n=this.GetImageURL(e,0)),!n||0==n.length},a.prototype.GetImageForSizeAsArrayWithFallback=function(e,t,n){var a=new Array;this.BImageNeedScreenshotFallback(e,t)||(a.push(this.GetImageURLWithFallback(e,t,n)),n!=c.c.full&&a.push(this.GetImageURLWithFallback(e,t,c.c.full)));var o=this.GetFallbackArtworkScreenshot();return o&&a.push(o),a},a.prototype.GetDescriptionWithFallback=function(e){return this.description.get(e)||this.description.get(0)},a.prototype.BIsImageSafeForAllAges=function(e,t){return null!=this.GetImageURL(e,t)||0!=t&&null!=this.GetImageURL(e,0)||l.a.GetStoreCapsuleInfo(this.appid).GetAppStoreData().age_safe_screenshot},a.prototype.BIsVisibleEvent=function(){var e=Math.floor(Date.now()/1e3);return this.visibility_state==S.k_EEventStateVisible&&e>this.visibilityStartTime&&(this.visibilityEndTime<10||e<this.visibilityEndTime)},a.prototype.GetStartTimeAndDateUnixSeconds=function(){return this.startTime},a.prototype.GetEndTimeAndDateUnixSeconds=function(){return this.endTime},a.prototype.GetPostTimeAndDateUnixSeconds=function(){return this.postTime},a.prototype.GetVisibilityStartTimeAndDateUnixSeconds=function(){return this.visibilityStartTime},a.prototype.BIsEventActionEnabled=function(){return!!this.jsondata.action_end_time&&this.jsondata.action_end_time>Date.now()/1e3},a.prototype.BHasSubTitle=function(e){if(!this.jsondata||!this.jsondata.localized_subtitle||e>=this.jsondata.localized_subtitle.length)return!1;var t=this.jsondata.localized_subtitle[e];return null!=t&&""!=t},a.prototype.GetSubTitle=function(e){if(!this.jsondata||!this.jsondata.localized_subtitle||e>=this.jsondata.localized_subtitle.length)return"";var t=this.jsondata.localized_subtitle[e];return t||""},a.prototype.GetSubTitleWithLanguageFallback=function(e){return this.jsondata&&this.jsondata.localized_subtitle&&0!=this.jsondata.localized_subtitle.length?this.jsondata.localized_subtitle[e]||this.jsondata.localized_subtitle[0]:""},a.prototype.GetSubTitleWithSummaryFallback=function(e){var t=null;if(this.jsondata&&this.jsondata.localized_subtitle){var n=this.jsondata.localized_subtitle;n.length>e&&(t=n[e]),!t&&0<n.length&&(t=n[0])}return t||a.GenerateSummaryFromText(this.GetDescriptionWithFallback(e))},a.prototype.GetSummaryWithFallback=function(e){return this.BHasSummary(e)?this.GetSummary(e):0!=e&&this.BHasSummary(0)?this.GetSummary(e):a.GenerateSummaryFromText(this.GetDescriptionWithFallback(e))},a.prototype.GetSummary=function(e){if(!this.jsondata||!this.jsondata.localized_summary||e>=this.jsondata.localized_summary.length)return"";var t=this.jsondata.localized_summary[e];return null!=t?t:""},a.prototype.BHasSummary=function(e){if(!this.jsondata||!this.jsondata.localized_summary||e>=this.jsondata.localized_summary.length)return!1;var t=this.jsondata.localized_summary[e];return null!=t&&""!=t},a.GenerateSummaryFromText=function(e){return e&&0!=e.trim().length?(e=Object(u.d)(e,["img","h1","h2","h3","spoiler","table","previewyoutube","looping_media","roomeffect","sticker"]),e=Object(u.e)(e),e=Object(u.f)(e),Object(u.g)(e,180)):""},a.prototype.BHasTag=function(e){return-1!=this.vecTags.indexOf(e)},a.prototype.BShowLibrarySpotlight=function(){return Boolean(this.jsondata.library_spotlight)},a.prototype.BShowLibrarySpotlightText=function(){return Boolean(this.jsondata.library_spotlight_text)},a.prototype.BHasBroadcastEnabled=function(){return this.jsondata.bBroadcastEnabled},a.prototype.BHasBroadcastForceBanner=function(){return this.jsondata.broadcast_force_banner},a.prototype.BSaleShowBroadcastAtTopOfPage=function(){return void 0===this.jsondata.sale_broadcast_location},a.prototype.BSaleShowBroadcastAfterSomeSection=function(){return void 0!==this.jsondata.sale_broadcast_location},a.prototype.GetSaleSectionBroadcastShowAfter=function(){return this.jsondata.sale_broadcast_location},a.prototype.GetBroadcastChatVisibility=function(){return this.jsondata.broadcastChatSetting},a.prototype.GetBroadcastTitle=function(e){return this.jsondata.localized_broadcast_title[e]||this.jsondata.localized_broadcast_title[0]||Object(p.c)(this.jsondata.default_broadcast_title)},a.prototype.GetBroadcastWhitelist=function(){return this.jsondata.broadcast_whitelist},a.prototype.GetBroadcastWhitelistAsSteamIDs=function(){return this.jsondata.broadcast_whitelist.map(function(e){return i.a.InitFromAccountID(e).ConvertTo64BitString()})},a.prototype.BHasSaleEnabled=function(){return this.jsondata.bSaleEnabled},a.prototype.BHasEmailEnabled=function(){return this.jsondata.email_setting&&this.jsondata.email_setting.bEnable},a.prototype.GetSaleSections=function(){return this.jsondata.sale_sections},a.prototype.GetSaleSectionCount=function(){return this.jsondata.sale_sections.length},a.prototype.BHasScheduleEnabled=function(){return this.jsondata.bScheduleEnabled},a.prototype.GetEventType=function(){return this.type},a.prototype.GetEventTypeAsString=function(){return Object(d.b)(this.type)},a.prototype.GetCategoryAsString=function(){return this.BHasTag("steam_award_nomination_request")?Object(p.c)("#PartnerEvent_SteamAwardNominations"):this.BHasTag("steam_award_vote_request")?Object(p.c)("#PartnerEvent_SteamAwardVoteRequest"):this.BHasTag("steam_game_festival_artist_statement")?Object(p.c)("#PartnerEvent_SteamGameFestival_ArtistState"):this.BHasTag("steam_game_festival_office_hour")?Object(p.c)("#PartnerEvent_SteamGameFestival_OfficeHour"):this.BHasTag("steam_game_festival_broadcast")?Object(p.c)("#PartnerEvent_SteamGameFestival_Broadcast"):this.GetEventTypeAsString()},a.prototype.GetAllTags=function(){return this.vecTags},a.prototype.BHasSteamStoreSpotlight=function(){return Boolean(this.jsondata.store_spotlight)},a.prototype.BHasLibaryHomeSpotlight=function(){return Boolean(this.jsondata.library_home_spotlight)},a.prototype.GetSteamAwardCategory=function(){return this.jsondata.steam_award_category_suggestion},Object(o.c)([s.observable],a.prototype,"GID",void 0),Object(o.c)([s.observable],a.prototype,"AnnouncementGID",void 0),Object(o.c)([s.observable],a.prototype,"forumTopicGID",void 0),Object(o.c)([s.observable],a.prototype,"type",void 0),Object(o.c)([s.observable],a.prototype,"appid",void 0),Object(o.c)([s.observable],a.prototype,"name",void 0),Object(o.c)([s.observable],a.prototype,"description",void 0),Object(o.c)([s.observable],a.prototype,"timestamp_loc_updated",void 0),Object(o.c)([s.observable],a.prototype,"startTime",void 0),Object(o.c)([s.observable],a.prototype,"endTime",void 0),Object(o.c)([s.observable],a.prototype,"visibilityStartTime",void 0),Object(o.c)([s.observable],a.prototype,"visibilityEndTime",void 0),Object(o.c)([s.observable],a.prototype,"postTime",void 0),Object(o.c)([s.observable],a.prototype,"visibility_state",void 0),Object(o.c)([s.observable],a.prototype,"broadcaster",void 0),Object(o.c)([s.observable],a.prototype,"jsondata",void 0),Object(o.c)([s.observable],a.prototype,"nCommentCount",void 0),Object(o.c)([s.observable],a.prototype,"nVotesUp",void 0),Object(o.c)([s.observable],a.prototype,"nVotesDown",void 0),Object(o.c)([s.observable],a.prototype,"bOldAnnouncement",void 0),Object(o.c)([s.observable],a.prototype,"announcementClanSteamID",void 0),Object(o.c)([s.observable],a.prototype,"loadedAllLanguages",void 0),Object(o.c)([s.observable],a.prototype,"bLoaded",void 0),Object(o.c)([s.observable],a.prototype,"deleteInProgress",void 0),Object(o.c)([s.observable],a.prototype,"vecTags",void 0),Object(o.c)([s.observable],a.prototype,"last_update_steamid",void 0),Object(o.c)([s.observable],a.prototype,"rtime32_last_modified",void 0),Object(o.c)([s.observable],a.prototype,"video_preview_type",void 0),Object(o.c)([s.observable],a.prototype,"video_preview_id",void 0),Object(o.c)([s.observable],a.prototype,"m_overrideCurrentDay",void 0),a}()},"4P4B":function(e,t,n){"use strict";var r=n("mrSG"),i=n("q1tI"),s=n.n(i),a=n("vDqi"),o=n.n(a),c=n("okNM"),l=n("lkRc"),u=n("Mgs7"),p=n("ka0M"),d=n("Jqb/"),m=n("bxiW"),h=n("TLQK"),_=n("76AC"),v=n.n(_),g=n("X3Ds"),b=n("exH9"),f=n("0OaU"),E=n("fpVW"),y=n.n(E),I=n("U+Q5"),S=n("a5LV"),O=n("0QoN"),D=n("Gorr"),C=n("i8i4"),A=n("2vnA"),T=n("I3Kc"),w=n.n(T),j=function(n){function e(e){var t=n.call(this,e)||this;return t.m_rgCurrentMatches=[],t.m_mapMatchByKey=new Map,t.m_hMobxSearchDisposer=Object(A.autorun)(function(){return Object(r.b)(t,void 0,void 0,function(){return Object(r.e)(this,function(e){switch(e.label){case 0:return[4,this.UpdateSearchResults(this.props.strSearch)];case 1:return e.sent(),this.forceUpdate(),[2]}})})}),t.state={selectedIndex:void 0},t}return Object(r.d)(e,n),e.prototype.OnKeyDown=function(e){this.BHandleKeyPress(e.keyCode)&&e.preventDefault()},e.prototype.BHandleKeyPress=function(e){switch(e){case 38:this.SetSelectedIndexDelta(-1);break;case 40:this.SetSelectedIndexDelta(1);break;case 36:this.SetSelectedIndex(0);break;case 33:this.SetSelectedIndexDelta(-this.GetPageSize());break;case 35:this.SetSelectedIndex(-1);break;case 34:this.SetSelectedIndexDelta(this.GetPageSize());break;case 13:case 9:if(void 0===this.state.selectedIndex)return this.props.onSuggestionSelected(this.props.strSearch),!1;this.ChooseSuggestion(this.m_rgCurrentMatches[this.state.selectedIndex]);break;case 27:this.props.onSuggestionSelected(this.props.strSearch);break;default:return!1}return!0},e.prototype.GetPageSize=function(){var e=C.findDOMNode(this),t=e&&e.firstElementChild,n=this.m_rgCurrentMatches.length;if(n>this.getMaxMatches()&&(n=this.getMaxMatches()),t&&n){var a=t.scrollHeight/n,o=t.clientHeight/a;return Math.max(1,Math.floor(o))}return 5},e.prototype.ChooseSuggestion=function(e){this.props.onSuggestionSelected(this.props.strSearch,e?this.getSelection(e):void 0)},e.prototype.SetSelectedIndexDelta=function(e){void 0!==this.state.selectedIndex?this.SetSelectedIndex(this.state.selectedIndex+e):this.SetSelectedIndex(1===e?0:e)},e.prototype.SetSelectedIndex=function(e){if(this.m_rgCurrentMatches.length){var t=this.m_rgCurrentMatches.length;t>this.getMaxMatches()&&(t=this.getMaxMatches()),(e%=t)<0&&(e+=t),this.setState({selectedIndex:e})}},e.prototype.FindKeyIndex=function(e){if(!this.m_mapMatchByKey.size&&this.m_rgCurrentMatches.length)for(var t=0;t<this.m_rgCurrentMatches.length;t++)this.m_mapMatchByKey.set(this.getKey(this.m_rgCurrentMatches[t]),t);return this.m_mapMatchByKey.get(e)},e.prototype.OnClickSuggestion=function(e){var t=this.FindKeyIndex(e);void 0!==t&&this.ChooseSuggestion(this.m_rgCurrentMatches[t])},e.prototype.OnMouseOverSuggestion=function(e){var t=this.FindKeyIndex(e);void 0!==t&&this.SetSelectedIndex(t)},e.prototype.BindSelectedElement=function(e){var t=C.findDOMNode(this),n=C.findDOMNode(e),a=t&&t.firstElementChild;n&&a&&(a.scrollTop+a.clientHeight<n.offsetTop||n.offsetTop<a.scrollTop)&&n.scrollIntoView()},e.prototype.UpdateSearchResults=function(n){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:return[4,(t=this).performSearch(n)];case 1:return t.m_rgCurrentMatches=e.sent(),this.m_strLastSearch=n,this.m_mapMatchByKey.clear(),this.m_rgCurrentMatches.length?this.state&&void 0!==this.state.selectedIndex?this.state.selectedIndex>=this.m_rgCurrentMatches.length&&this.setState({selectedIndex:0}):(void 0===this.props.nMinimumSearchLengthBeforeAutoSelection||n.length>=this.props.nMinimumSearchLengthBeforeAutoSelection)&&this.setState({selectedIndex:0}):this.state&&void 0!==this.state.selectedIndex&&this.setState({selectedIndex:void 0}),[2]}})})},e.prototype.componentWillUnmount=function(){this.m_hMobxSearchDisposer&&(this.m_hMobxSearchDisposer(),this.m_hMobxSearchDisposer=void 0)},e.prototype.componentDidUpdate=function(e){return Object(r.b)(this,void 0,void 0,function(){return Object(r.e)(this,function(e){switch(e.label){case 0:return this.m_strLastSearch==this.props.strSearch?[3,2]:[4,this.UpdateSearchResults(this.props.strSearch)];case 1:e.sent(),this.forceUpdate(),e.label=2;case 2:return[2]}})})},e.prototype.render=function(){var e=[];if(this.m_rgCurrentMatches.length){for(var t=this.getMaxMatches(),n=0;n<Math.min(t,this.m_rgCurrentMatches.length);n++){var a=this.m_rgCurrentMatches[n],o=this.getKey(a),r=n===this.state.selectedIndex;e.push(s.a.createElement(L,{key:o,matchKey:o,fnOnClick:this.OnClickSuggestion,fnOnMouseOver:this.OnMouseOverSuggestion,bIsSelected:r,ref:r?this.BindSelectedElement:void 0},this.renderMatch(a)))}this.m_rgCurrentMatches.length>t&&e.push(this.renderTooManyMatchesMessage(this.m_rgCurrentMatches.length-t))}else{var i=this.renderNoMatchMessage();if(!i)return null;e.push(i)}return s.a.createElement("div",{className:w.a.mentionDialogPosition},s.a.createElement("div",{className:w.a.mentionDialog,tabIndex:0,onKeyDown:this.OnKeyDown},this.renderHeader(),e))},Object(r.c)([m.a],e.prototype,"OnKeyDown",null),Object(r.c)([m.a],e.prototype,"OnClickSuggestion",null),Object(r.c)([m.a],e.prototype,"OnMouseOverSuggestion",null),Object(r.c)([m.a],e.prototype,"BindSelectedElement",null),e}(s.a.Component),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.OnMouseOver=function(e){this.props.fnOnMouseOver(this.props.matchKey)},t.prototype.OnClick=function(e){this.props.fnOnClick(this.props.matchKey)},t.prototype.render=function(){return s.a.createElement("div",{className:Object(b.a)(w.a.suggestOption,w.a.mentionSearchOption,this.props.bIsSelected?w.a.selected:""),onMouseEnter:this.OnMouseOver,onClick:this.OnClick},this.props.children)},Object(r.c)([m.a],t.prototype,"OnMouseOver",null),Object(r.c)([m.a],t.prototype,"OnClick",null),t}(s.a.PureComponent),k=j,N=n("Wb2E"),M=n.n(N),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.performSearch=function(e){return this.props.emoticonStore.SearchEmoticons(e,10,!1)},t.prototype.getSelection=function(e){return e.name},t.prototype.getKey=function(e){return e.name},t.prototype.renderMatch=function(e){return s.a.createElement("div",{className:Object(b.a)(M.a.EmoticonSuggestion,e.recent?"Recent":"")},s.a.createElement("div",{className:M.a.Emoticon},s.a.createElement(D.a,{emoticon:e.name,emoticonHoverStore:this.props.emoticonHoverStore}),e.new&&s.a.createElement(D.c,null)),":",e.name,":")},t.prototype.renderNoMatchMessage=function(){return null},t.prototype.renderTooManyMatchesMessage=function(e){return null},t.prototype.renderHeader=function(){return null},t.prototype.getMaxMatches=function(){return Number.MAX_VALUE},t}(k),B=n("w4Zq"),x=n.n(B),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.d)(t,e),t.prototype.performSearch=function(t){var n=Array();return this.props.supportBBCodes.forEach(function(e){0<=e.indexOf(t)&&n.push({name:e})}),n},t.prototype.getSelection=function(e){return"["+e.name+"][/"+e.name+"]"},t.prototype.getKey=function(e){return e.name},t.prototype.renderMatch=function(e){return s.a.createElement("div",{key:e.name,className:Object(b.a)(x.a.BBCodeSuggestion)},s.a.createElement("div",{className:x.a.BBCode},e.name),"[",e.name,"]...[/",e.name,"]")},t.prototype.renderNoMatchMessage=function(){return s.a.createElement("div",{key:"nomatches",className:Object(b.a)(w.a.mentionSearchOption,w.a.noMatches)},Object(h.c)("#Bbcode_No_Match"))},t.prototype.renderTooManyMatchesMessage=function(e){return null},t.prototype.renderHeader=function(){return null},t.prototype.getMaxMatches=function(){return Number.MAX_VALUE},t}(k),U=function(n){function e(e){var t=n.call(this,e)||this;return t.descTextAreaRef=i.createRef(),t.m_bDisabled=!0,t.state={mentionSearch:void 0,activeSuggestSearchType:void 0},t}return Object(r.d)(e,n),e.prototype.BindMentionDialog=function(e){this.m_MentionDialog=e},e.prototype.OnKeyDown=function(e){this.state.activeSuggestSearchType&&this.m_MentionDialog&&!e.shiftKey&&!e.ctrlKey&&this.m_MentionDialog.BHandleKeyPress(e.keyCode)?e.preventDefault():8!=e.keyCode&&46!=e.keyCode||(this.m_iMentionSearchCancelledOffset=void 0)},e.prototype.FindMatchOpener=function(e,t,n){for(var a=n-1;0<=a;a--){if(t[a]==e)return a;if(" "==t[a]||"\n"==t[a])break}},e.prototype.ReplaceSuggestedText=function(e,t){var n=this.descTextAreaRef.current.selectionStart,a=this.descTextAreaRef.current.value,o=this.FindMatchOpener(e,a,n);if(void 0===o&&"@"==e&&(o=this.FindMatchOpener("＠",a,n)),void 0!==o){var r=a.substr(0,o);r+=t,(n>=a.length||" "!=a[n])&&(r+=" ");var i=r.length;r+=a.substr(n),this.descTextAreaRef.current.value=r,this.descTextAreaRef.current.selectionStart=this.descTextAreaRef.current.selectionEnd=i,this.props.fnSetText(r),this.FocusTextInput()}},e.prototype.OnFocus=function(e){this.UpdateAutoSearchState()},e.prototype.OnKeyPress=function(e){this.UpdateAutoSearchState()},e.prototype.OnClick=function(e){this.UpdateAutoSearchState()},e.prototype.ClearMentionSearchState=function(){this.m_iMentionSearchStartOffset=void 0,this.state.activeSuggestSearchType&&this.setState({activeSuggestSearchType:void 0,mentionSearch:void 0})},e.prototype.OnEmoticonSuggestionSelected=function(e,t){if(!t)return this.m_iMentionSearchCancelledOffset=this.m_iMentionSearchStartOffset,void this.ClearMentionSearchState();this.ReplaceSuggestedText(":",":"+t+":"),this.ClearMentionSearchState()},e.prototype.OnBBCodeSuggestionSelected=function(e,t){if(!t)return this.m_iMentionSearchCancelledOffset=this.m_iMentionSearchStartOffset,void this.ClearMentionSearchState();this.ReplaceSuggestedText("[",t),this.ClearMentionSearchState()},e.prototype.FocusTextInput=function(){this.descTextAreaRef.current&&this.descTextAreaRef.current.focus()},e.prototype.UpdateAutoSearchState=function(){var e=this.descTextAreaRef.current;if(e&&!this.m_bDisabled)if(e.selectionStart==e.selectionEnd&&e.selectionStart){for(var t=e.selectionStart,n=e.value,a=void 0,o=void 0,r=t-1;0<=r;r--){var i=0<r?n[r-1]:void 0;if(this.props.emoticonStore&&":"==n[r]&&2<n.length){i&&" "!=i&&"\n"!=i&&":"!=i||(a=r,o="Emoticon");break}if("["==n[r]&&(r+1>n.length||"/"!=n[r+1])){i&&" "!=i&&"\n"!=i&&"]"!=i||(a=r,o="BBCode");break}if(" "==n[r]||"\n"==n[r])break}if(void 0!==a&&a!==this.m_iMentionSearchCancelledOffset){var s=n.substr(a+1,t-a-1);this.m_iMentionSearchStartOffset=a,this.setState({activeSuggestSearchType:o,mentionSearch:s})}else this.ClearMentionSearchState()}else this.ClearMentionSearchState()},e.prototype.GetTextAreaRef=function(){return this.descTextAreaRef},e.prototype.GetTextAreaCurrent=function(){return this.descTextAreaRef.current},e.prototype.render=function(){var e=this.props,t=e.emoticonStore,n=e.supportBBCodes,a=(e.fnSetText,Object(r.f)(e,["emoticonStore","supportBBCodes","fnSetText"])),o=void 0;switch(this.state.activeSuggestSearchType){case"Emoticon":o=i.createElement(G,{emoticonStore:t,emoticonHoverStore:S.a,strSearch:this.state.mentionSearch,nMinimumSearchLengthBeforeAutoSelection:2,onSuggestionSelected:this.OnEmoticonSuggestionSelected,ref:this.BindMentionDialog});break;case"BBCode":o=i.createElement(R,{supportBBCodes:n,strSearch:this.state.mentionSearch,nMinimumSearchLengthBeforeAutoSelection:2,onSuggestionSelected:this.OnBBCodeSuggestionSelected,ref:this.BindMentionDialog})}return i.createElement(i.Fragment,null,o,i.createElement("textarea",Object(r.a)({},a,{ref:this.descTextAreaRef,onKeyDown:this.OnKeyDown,onKeyUp:this.OnKeyPress,onFocus:this.OnFocus,onClick:this.OnClick})))},Object(r.c)([m.a],e.prototype,"BindMentionDialog",null),Object(r.c)([m.a],e.prototype,"OnKeyDown",null),Object(r.c)([m.a],e.prototype,"OnFocus",null),Object(r.c)([m.a],e.prototype,"OnKeyPress",null),Object(r.c)([m.a],e.prototype,"OnClick",null),Object(r.c)([m.a],e.prototype,"OnEmoticonSuggestionSelected",null),Object(r.c)([m.a],e.prototype,"OnBBCodeSuggestionSelected",null),Object(r.c)([m.a],e.prototype,"FocusTextInput",null),Object(r.c)([m.a],e.prototype,"GetTextAreaRef",null),Object(r.c)([m.a],e.prototype,"GetTextAreaCurrent",null),e}(i.Component),F=n("bDQf"),P=function(n){function e(e){var t=n.call(this,e)||this;return t.m_cancelSignal=o.a.CancelToken.source(),t.state={formattingHelp:{__html:a.s_formattingHelp.has(e.formatType)?a.s_formattingHelp.get(e.formatType):""}},t}var a;return Object(r.d)(e,n),(a=e).prototype.componentDidMount=function(){var t=this;this.AjaxGetFormattingHelp().catch(function(e){t.setState(Object(F.a)(e))})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("FormattingHelpWidget component unmounted")},e.GetHelpURL=function(e,t){return l.c.COMMUNITY_BASE_URL+"comment/"+e+"/formattinghelp"+(t?"?ajax=1":"")},e.prototype.AjaxGetFormattingHelp=function(){return Object(r.b)(this,void 0,void 0,function(){var t,n;return Object(r.e)(this,function(e){switch(e.label){case 0:return""!=this.state.formattingHelp.__html?[3,2]:(t={sessionid:l.c.SESSIONID},n=void 0,[4,o.a.get(a.GetHelpURL(this.props.formatType,!0),{params:t,cancelToken:this.m_cancelSignal.token})]);case 1:n=e.sent(),a.s_formattingHelp.set(this.props.formatType,n.data),this.setState({formattingHelp:{__html:n.data}}),e.label=2;case 2:return[2]}})})},e.prototype.render=function(){return this.state.strErrorMsg?i.createElement("div",null,this.state.strErrorMsg,i.createElement("br",null),this.state.errorCode):""==this.state.formattingHelp.__html?i.createElement(f.a,null):i.createElement(d.b,{strTitle:Object(h.c)("#EventEditor_FormattingHelp_GetHelpLink"),strDescription:"",closeModal:this.props.closeModal,onOK:this.props.closeModal,onCancel:this.props.closeModal,bAlertDialog:!0},i.createElement("div",{dangerouslySetInnerHTML:this.state.formattingHelp}))},e.s_formattingHelp=new Map,e=a=Object(r.c)([c.observer],e)}(i.Component),z=n("ZeAL"),V=n("ccG0"),H=n.n(V);n.d(t,"c",function(){return Q}),n.d(t,"b",function(){return K}),n.d(t,"a",function(){return Z});var Y,W,Q="{STEAM_CLAN_IMAGE}",K="{STEAM_CLAN_LOC_IMAGE}",Z=function(n){function e(e){var t=n.call(this,e)||this;return t.descAutoTextAreaRef=i.createRef(),t.state={bShowDragTarget:!1},t}return Object(r.d)(e,n),e.prototype.componentDidMount=function(){I.f.AddClanImageDragListener(this.ClanImageDragListener)},e.prototype.componentWillUnmount=function(){I.f.RemoveClanImageDragListener(this.ClanImageDragListener)},e.prototype.ClanImageDragListener=function(e,t){this.state.bShowDragTarget!=t&&this.setState({bShowDragTarget:t})},e.prototype.onFocus=function(e){e&&e.target.select()},e.prototype.InsertText=function(e){J.replaceSelection(this.GetTextAreaRef().current,e)},e.prototype.OnTextAreaDropListener=function(e){if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items[0]){var t=e.dataTransfer.getData("text");if(t&&0<t.length){var n=l.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/";if(t.startsWith(n)){var a="[img]"+Q+"/"+t.substr(n.length)+"[/img]";J.replaceSelection(this.GetTextAreaRef().current,a)}}}},e.prototype.GetTextAreaRef=function(){return this.descAutoTextAreaRef&&this.descAutoTextAreaRef.current?this.descAutoTextAreaRef.current.GetTextAreaRef():void 0},e.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(q,{pathToImages:l.c.COMMUNITY_CDN_URL+"public/images/sharedfiles/guides/",fnTextareaRef:this.GetTextAreaRef,emoticonStore:this.props.emoticonStore,supportBBCodes:this.props.limitBBCode?this.props.limitBBCode:z.b,bSupportHTMLImport:this.props.bSupportHTMLImport,showFormatHelp:this.props.showFormatHelp,bEmbeddedInDialog:this.props.bEmbeddedInDialog}),i.createElement("div",{className:Object(b.a)(v.a.DescriptionCtn,this.state.bShowDragTarget?v.a.DragTarget:"")},i.createElement(U,{cols:40,rows:42,maxLength:32e3,className:Object(b.a)(v.a.DefaultEditor,this.props.classNameForTextArea?this.props.classNameForTextArea:""),placeholder:this.props.strPlaceholder,ref:this.descAutoTextAreaRef,value:this.props.fnGetCurText(),onChange:this.props.fnOnTextChange,onDrop:this.OnTextAreaDropListener,emoticonStore:this.props.emoticonStore,fnSetText:this.props.fnSetText,supportBBCodes:this.props.limitBBCode?this.props.limitBBCode:z.b})))},Object(r.c)([m.a],e.prototype,"ClanImageDragListener",null),Object(r.c)([m.a],e.prototype,"onFocus",null),Object(r.c)([m.a],e.prototype,"OnTextAreaDropListener",null),Object(r.c)([m.a],e.prototype,"GetTextAreaRef",null),e=Object(r.c)([c.observer],e)}(i.Component),J=function(){function r(){}return r.BIsFireFox=function(){return Boolean(new RegExp(/Firefox\/([0-9\.]+)(?:\s|$)/i).exec(navigator.userAgent))},r.replaceSelection=function(e,t){var n=e.selectionStart;e.focus(),r.InsertTextAtSelect(t,e),e.setSelectionRange(n,n+t.length)},r.getSelectedString=function(e){return e.value.substr(e.selectionStart,e.selectionEnd-e.selectionStart)},r.wrapBBCode=function(e,t,n){var a=r.getSelectedString(n),o="";o=0==a.indexOf(e)&&a.lastIndexOf(t)==a.length-t.length?a.substr(e.length,a.length-e.length-t.length):e+a+t,r.replaceSelection(n,o)},r.append=function(e,t){t&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length),r.InsertTextAtSelect(e,t))},r.overwrite=function(e,t){t&&(t.focus(),document.execCommand("selectAll",!1,e),r.BIsFireFox()?t.value="":document.execCommand("delete",!1),r.InsertTextAtSelect(e,t))},r.InsertTextAtSelect=function(e,t){r.BIsFireFox()&&t.setRangeText?t.setRangeText(e):document.execCommand("insertText",!1,e)},r}(),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_linkPopupRef=i.createRef(),e}return Object(r.d)(e,t),e.prototype.onBold=function(){J.wrapBBCode("[b]","[/b]",this.props.fnTextareaRef().current)},e.prototype.onItalics=function(){J.wrapBBCode("[i]","[/i]",this.props.fnTextareaRef().current)},e.prototype.onUnderline=function(){J.wrapBBCode("[u]","[/u]",this.props.fnTextareaRef().current)},e.prototype.onStrikeThrough=function(){J.wrapBBCode("[strike]","[/strike]",this.props.fnTextareaRef().current)},e.prototype.onHeader=function(){J.wrapBBCode("[h1]","[/h1]",this.props.fnTextareaRef().current)},e.prototype.onHeader2=function(){J.wrapBBCode("[h2]","[/h2]",this.props.fnTextareaRef().current)},e.prototype.onHeader3=function(){J.wrapBBCode("[h3]","[/h3]",this.props.fnTextareaRef().current)},e.prototype.onUnorderedList=function(){this.handleList("list")},e.prototype.onOrderedList=function(){this.handleList("olist")},e.prototype.handleList=function(e){var t=this.props.fnTextareaRef().current,n="["+e+"]\n",a="[/"+e+"]";if(t.selectionStart==t.selectionEnd)J.wrapBBCode(n+"[*]","\n"+a,t);else{var o=n+J.getSelectedString(t).split("\n").map(function(e){return(e.match(/\*+\s/)?"[*]":"[*] ")+e}).join("\n")+"\n"+a;J.replaceSelection(t,o)}},e.prototype.OnAddLink=function(e){Object(p.c)(i.createElement(te,{textareaRef:this.props.fnTextareaRef()}),Object(g.m)(e))},e.prototype.ShowHelpDialog=function(e){this.props.showFormatHelp&&Object(p.c)(i.createElement(P,{formatType:this.props.showFormatHelp}),Object(g.m)(e))},e.prototype.OnConvertHTMLToBBCodeDialog=function(e){Object(p.c)(i.createElement(ae,{textareaRef:this.props.fnTextareaRef()}),Object(g.m)(e))},e.prototype.OnOpenYoutubeDialog=function(e){var t=l.c.IMG_URL+"applications/community/";Object(p.c)(i.createElement(ee,{textareaRef:this.props.fnTextareaRef(),pathToImages:t}),Object(g.m)(e))},e.prototype.OnOpenImageDialog=function(e){Object(p.c)(i.createElement(ne,{textareaRef:this.props.fnTextareaRef()}),Object(g.m)(e))},e.prototype.OnEmoticonSelected=function(e,t){void 0===t&&(t=!1);var n="ː"+e+"ː";J.replaceSelection(this.props.fnTextareaRef().current,n),this.props.fnTextareaRef().current.focus()},e.prototype.BSupports=function(t){return 0<=this.props.supportBBCodes.findIndex(function(e){return e==t})},e.prototype.render=function(){var e=this.props,t=e.showFormatHelp,n=e.bEmbeddedInDialog,a=e.bSupportHTMLImport,o=e.pathToImages,r=void 0;return t&&(r=n?i.createElement("span",{className:Object(b.a)("ttip",v.a.ActionGetHelp),"data-tooltip-text":Object(h.c)("#EventEditor_FormattingHelp_GetHelpLink")},i.createElement("a",{href:(l.c.IN_CLIENT?"steam://openurl/":"")+P.GetHelpURL(this.props.showFormatHelp,!1),target:l.c.IN_CLIENT?void 0:"_blank"},i.createElement("img",{src:o+"/action_help.png"})," ",Object(h.c)("#EventEditor_FormattingHelp_GetHelpLink"))):i.createElement("span",{onClick:this.ShowHelpDialog,className:Object(b.a)("ttip",v.a.ActionGetHelp),"data-tooltip-text":Object(h.c)("#EventEditor_FormattingHelp_GetHelpLink")},i.createElement("img",{src:o+"/action_help.png"})," ",Object(h.c)("#EventEditor_FormattingHelp_GetHelpLink"))),i.createElement("div",{className:v.a.TextEditorToolBarContainer},this.BSupports("b")&&i.createElement("span",{onClick:this.onBold,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Bold")},i.createElement("img",{src:this.props.pathToImages+"/format_bold.png"})),this.BSupports("u")&&i.createElement("span",{onClick:this.onUnderline,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Underline")},i.createElement("img",{src:this.props.pathToImages+"/format_underline.png"})),this.BSupports("i")&&i.createElement("span",{onClick:this.onItalics,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Italics")},i.createElement("img",{src:this.props.pathToImages+"/format_italic.png"})),this.BSupports("strike")&&i.createElement("span",{onClick:this.onStrikeThrough,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_StrikeThrough")},i.createElement("img",{src:this.props.pathToImages+"/format_strike.png"})),Boolean(this.BSupports("url")&&!n)&&i.createElement("span",{onClick:this.OnAddLink,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Link")},i.createElement("img",{src:this.props.pathToImages+"/format_link.png"})),this.BSupports("list")&&i.createElement("span",{onClick:this.onUnorderedList,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Unordered")},i.createElement("img",{src:this.props.pathToImages+"/format_bullet.png"})),this.BSupports("olist")&&i.createElement("span",{onClick:this.onOrderedList,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Ordered")},i.createElement("img",{src:this.props.pathToImages+"/format_numbered.png"})),this.BSupports("h1")&&i.createElement("span",{onClick:this.onHeader,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Header")},i.createElement("img",{src:this.props.pathToImages+"/format_header1.png"})),this.BSupports("h2")&&i.createElement("span",{onClick:this.onHeader2,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Header2")},i.createElement("img",{src:this.props.pathToImages+"/format_header2.png"})),this.BSupports("h3")&&i.createElement("span",{onClick:this.onHeader3,className:"ttip","data-tooltip-text":Object(h.c)("#Editor_Header3")},i.createElement("img",{src:this.props.pathToImages+"/format_header3.png"})),this.BSupports("previewyoutube")&&i.createElement("span",{onClick:this.OnOpenYoutubeDialog,"data-tooltip-text":Object(h.c)("#EventEditor_InsertYouTube")},i.createElement("img",{src:H.a})),this.props.emoticonStore&&i.createElement(O.a,{title:" ",ttip:Object(h.c)("#Editor_Emoticon"),className:Object(b.a)(v.a.EmoteOuter),disabled:!1,OnEmoticonSelected:this.OnEmoticonSelected,rtLastAckedNewEmoticons:Number.MAX_VALUE,emoticonStore:this.props.emoticonStore,emoticonHoverStore:S.a,useImg:this.props.pathToImages+"/format_emote.png",contextOptions:{bOverlapHorizontal:!0,bDisablePopTop:!0}}),Boolean(this.BSupports("img")&&!n)&&i.createElement("span",{onClick:this.OnOpenImageDialog,"data-tooltip-text":Object(h.c)("#EventEditor_InsertImage")},i.createElement("img",{src:this.props.pathToImages+"/insert_img.png"})),Boolean(a&&!n)&&i.createElement("span",{onClick:this.OnConvertHTMLToBBCodeDialog,className:v.a.ActionImportHTML,"data-tooltip-text":Object(h.c)("#EventEditor_ImportFromHTML_ttip")},Object(h.c)("#EventEditor_ImportHTML")),r)},Object(r.c)([m.a],e.prototype,"onBold",null),Object(r.c)([m.a],e.prototype,"onItalics",null),Object(r.c)([m.a],e.prototype,"onUnderline",null),Object(r.c)([m.a],e.prototype,"onStrikeThrough",null),Object(r.c)([m.a],e.prototype,"onHeader",null),Object(r.c)([m.a],e.prototype,"onHeader2",null),Object(r.c)([m.a],e.prototype,"onHeader3",null),Object(r.c)([m.a],e.prototype,"onUnorderedList",null),Object(r.c)([m.a],e.prototype,"onOrderedList",null),Object(r.c)([m.a],e.prototype,"OnAddLink",null),Object(r.c)([m.a],e.prototype,"ShowHelpDialog",null),Object(r.c)([m.a],e.prototype,"OnConvertHTMLToBBCodeDialog",null),Object(r.c)([m.a],e.prototype,"OnOpenYoutubeDialog",null),Object(r.c)([m.a],e.prototype,"OnOpenImageDialog",null),Object(r.c)([m.a],e.prototype,"OnEmoticonSelected",null),e=Object(r.c)([c.observer],e)}(i.Component);(W=Y||(Y={})).left="leftthumb",W.right="rightthumb",W.full="full",W.summary="summary";var X=/^[^v]+v=(.{11}).*/,$=/.*youtu\.be\/(.{11}).*/;var ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={youtubeInput:"",alignment:Y.left},e}return Object(r.d)(e,t),e.prototype.OnYoutubeInsertLink=function(){var e=this.state.youtubeInput,t=-1!=e.indexOf("youtube.com"),n=-1!=e.indexOf("youtu.be");if(0!=e.length&&(t||n)){var a=t?e.replace(X,"$1"):e.replace($,"$1");if(null!=a){if(this.state.alignment==Y.summary){var o="https://www.youtube.com/watch?v="+a;J.wrapBBCode(o,"",this.props.textareaRef.current)}else{var r="[previewyoutube="+a+";"+this.state.alignment+"]";J.wrapBBCode(r,"[/previewyoutube]",this.props.textareaRef.current)}this.setState({youtubeInput:"",alignment:Y.left})}else alert(Object(h.c)("#EventEditor_InsertYouTube_NoURL"))}else alert(Object(h.c)("#EventEditor_InsertYouTube_NoURL"))},e.prototype.OnUrlChange=function(e){this.state.youtubeInput!=e.target.value&&this.setState({youtubeInput:e.target.value})},e.prototype.OnLeftSelected=function(){this.setState({alignment:Y.left})},e.prototype.OnRightSelected=function(){this.setState({alignment:Y.right})},e.prototype.OnFullSelected=function(){this.setState({alignment:Y.full})},e.prototype.OnSummarySelected=function(){this.setState({alignment:Y.summary})},e.prototype.OnOuterDivClickPassDown=function(e){},e.prototype.render=function(){return i.createElement(d.b,{strTitle:Object(h.c)("#EventEditor_InsertYouTube"),strDescription:"",closeModal:this.props.closeModal,onCancel:this.props.closeModal,onOK:this.OnYoutubeInsertLink,strOKButtonText:Object(h.c)("#EventEditor_InsertYouTube")},i.createElement("div",{className:v.a.YouTubeInput},i.createElement("div",{className:"DialogInputLabelGroup"},i.createElement("label",null,i.createElement("div",{className:"DialogLabel"},Object(h.c)("#EventEditor_InsertYouTube_URL")),i.createElement("div",{className:"DialogInput_Wrapper"},i.createElement("input",{className:"DialogInput DialogTextInputBase",ref:function(e){return e&&e.focus()},type:"text",value:this.state.youtubeInput,onChange:this.OnUrlChange,placeholder:Object(h.c)("#EventEditor_InsertYouTube_Placholder")})))),i.createElement("div",{className:"DialogInputLabelGroup"},i.createElement("div",{className:"DialogLabel"},Object(h.c)("#EventEditor_InsertYouTube_Position")),i.createElement("div",{className:v.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},i.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:Y.left,value:Y.left,checked:this.state.alignment==Y.left,onChange:this.OnLeftSelected}),i.createElement("label",{htmlFor:Y.left},i.createElement("img",{src:this.props.pathToImages+"editor/insert_image_left_normal.png"}),i.createElement("span",null,Object(h.c)("#EventEditor_InsertYouTube_Left")))),i.createElement("div",{className:v.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},i.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:Y.right,value:Y.right,checked:this.state.alignment==Y.right,onChange:this.OnRightSelected}),i.createElement("label",{htmlFor:Y.right},i.createElement("img",{src:this.props.pathToImages+"editor/insert_image_right_normal.png"}),i.createElement("span",null,Object(h.c)("#EventEditor_InsertYouTube_Right")))),i.createElement("div",{className:v.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},i.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:Y.full,value:Y.full,checked:this.state.alignment==Y.full,onChange:this.OnFullSelected}),i.createElement("label",{htmlFor:Y.full},i.createElement("img",{src:this.props.pathToImages+"editor/insert_image_full_normal.png"}),i.createElement("span",null,Object(h.c)("#EventEditor_InsertYouTube_Full")))),i.createElement("div",{className:v.a.YouTubePreviewInsertOption,onClick:this.OnOuterDivClickPassDown},i.createElement("input",{type:"radio",name:"YouTubePreviewInsertType",id:Y.summary,value:Y.summary,checked:this.state.alignment==Y.summary,onChange:this.OnSummarySelected}),i.createElement("label",{htmlFor:Y.summary},i.createElement("img",{src:this.props.pathToImages+"editor/insert_image_summary_normal.png"}),i.createElement("span",null,Object(h.c)("#EventEditor_InsertYouTube_Summary")))))))},Object(r.c)([m.a],e.prototype,"OnYoutubeInsertLink",null),Object(r.c)([m.a],e.prototype,"OnUrlChange",null),Object(r.c)([m.a],e.prototype,"OnLeftSelected",null),Object(r.c)([m.a],e.prototype,"OnRightSelected",null),Object(r.c)([m.a],e.prototype,"OnFullSelected",null),Object(r.c)([m.a],e.prototype,"OnSummarySelected",null),Object(r.c)([m.a],e.prototype,"OnOuterDivClickPassDown",null),e=Object(r.c)([c.observer],e)}(i.Component),te=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={textToDisplay:"",strURL:""},e}var a;return Object(r.d)(e,t),(a=e).prototype.LoadFromTextArea=function(){var e=this.props.textareaRef;if(e&&e.current){var t=J.getSelectedString(e.current),n=a.m_regExp.exec(t);n?this.setState({strURL:n[1],textToDisplay:n[2]}):this.setState({textToDisplay:t})}},e.prototype.componentDidMount=function(){this.LoadFromTextArea()},e.prototype.onLinkTitleUpdate=function(e){this.setState({textToDisplay:e.target.value})},e.prototype.onLinkURLUpdate=function(e){this.setState({strURL:e.target.value})},e.prototype.onInsertLink=function(){var e=this.state,t="[url="+e.strURL+"]"+e.textToDisplay+"[/url]";J.replaceSelection(this.props.textareaRef.current,t)},e.prototype.render=function(){return i.createElement(d.b,{strTitle:Object(h.c)("#Editor_Link"),strDescription:"",closeModal:this.props.closeModal,onOK:this.onInsertLink,onCancel:this.props.closeModal,strOKButtonText:Object(h.c)("#EventEditor_InsertLinkURL")},i.createElement("div",{className:v.a.EventEditorLinkInput},i.createElement("div",{className:"DialogInputLabelGroup"},i.createElement("label",null,i.createElement("div",{className:"DialogLabel"},Object(h.c)("#EventEditor_LinkDescription")),i.createElement("div",{className:"DialogInput_Wrapper"},i.createElement("input",{type:"text",onChange:this.onLinkTitleUpdate,value:this.state.textToDisplay,className:"DialogInput DialogTextInputBase"})))),i.createElement("div",{className:"DialogInputLabelGroup"},i.createElement("label",null,i.createElement("div",{className:"DialogLabel"},Object(h.c)("#EventEditor_LinkURL")),i.createElement("div",{className:"DialogInput_Wrapper"},i.createElement("input",{type:"text",onChange:this.onLinkURLUpdate,value:this.state.strURL,className:"DialogInput DialogTextInputBase"}))))))},e.m_regExp=new RegExp(/\[url=([^\]]*)\]([^\[\]]+)\[\/url\]/i),Object(r.c)([m.a],e.prototype,"onLinkTitleUpdate",null),Object(r.c)([m.a],e.prototype,"onLinkURLUpdate",null),Object(r.c)([m.a],e.prototype,"onInsertLink",null),e=a=Object(r.c)([c.observer],e)}(i.Component),ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={imgURL:"",anchorURL:""},e}return Object(r.d)(e,t),e.prototype.componentDidMount=function(){this.refFirstInput&&this.refFirstInput.current.focus()},e.prototype.OnImageInsert=function(){var e=this.state,t=e.anchorURL,n=e.imgURL,a="",o="";t&&0<t.length&&(a+="[url="+t+"]",o="[/url]"+o),a+="[img]"+n,o="[/img]"+o,J.wrapBBCode(a,o,this.props.textareaRef.current)},e.prototype.OnImageURLChange=function(e){this.state.imgURL!=e.target.value&&this.setState({imgURL:e.target.value})},e.prototype.OnAnchorURLChange=function(e){this.state.anchorURL!=e.target.value&&this.setState({anchorURL:e.target.value})},e.prototype.render=function(){var e=this.state,t=e.imgURL,n=e.anchorURL;return i.createElement(d.b,{strTitle:Object(h.c)("#EventEditor_InsertImage_Title"),strDescription:"",closeModal:this.props.closeModal,onCancel:this.props.closeModal,onOK:this.OnImageInsert,strOKButtonText:Object(h.c)("#EventEditor_InsertImage_Title")},i.createElement("div",{className:v.a.EventEditorLinkInput},i.createElement("p",null,Object(h.c)("#EventEditor_InsertImage_Desc")),i.createElement("div",{className:"DialogInputLabelGroup"},i.createElement("label",null,i.createElement("div",{className:"DialogLabel"},Object(h.c)("#EventEditor_InsertImage_URL")),i.createElement("div",{className:"DialogInput_Wrapper"},i.createElement("input",{className:"DialogInput DialogTextInputBase",type:"text",value:t,onChange:this.OnImageURLChange,placeholder:Object(h.c)("#EventEditor_InsertImage_Placeholder"),ref:this.refFirstInput})))),i.createElement("div",{className:"DialogInputLabelGroup"},i.createElement("label",null,i.createElement("div",{className:"DialogLabel"},Object(h.c)("#EventEditor_InsertImage_Anchor")),i.createElement("div",{className:"DialogInput_Wrapper"},i.createElement("input",{className:"DialogInput DialogTextInputBase",type:"text",value:n,onChange:this.OnAnchorURLChange,placeholder:Object(h.c)("#EventEditor_InsertImage_Placeholder")}))))))},Object(r.c)([m.a],e.prototype,"OnImageInsert",null),Object(r.c)([m.a],e.prototype,"OnImageURLChange",null),Object(r.c)([m.a],e.prototype,"OnAnchorURLChange",null),e=Object(r.c)([c.observer],e)}(i.Component),ae=function(n){function e(e){var t=n.call(this,e)||this;return t.m_isMounted=!1,t.m_bAppend=!1,t.state={bPreserveNewLines:!1,strHTMLData:""},t}return Object(r.d)(e,n),e.prototype.componentDidMount=function(){this.m_isMounted=!0},e.prototype.componentWillUnmount=function(){this.m_isMounted=!1},e.prototype.OnConvertAndOverriteHTML=function(){this.m_bAppend=!1,this.ConvertBBCode()},e.prototype.OnConvertAndAppendHTML=function(){this.m_bAppend=!0,this.ConvertBBCode()},e.prototype.ConvertHtmlToBBCode=function(n,a){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:return(t=new URLSearchParams).append("content",n),t.append("preserve_newlines",a?"1":"0"),null,[4,o.a.post(l.c.COMMUNITY_BASE_URL+"/actions/ConvertHTMLToBBCode",t)];case 1:return[2,e.sent().data.content]}})})},e.prototype.ConvertBBCode=function(){var t=this;this.setState({bConverting:!0}),this.ConvertHtmlToBBCode(this.state.strHTMLData,this.state.bPreserveNewLines).then(function(e){t.m_isMounted&&(t.m_bAppend?J.append(e,t.props.textareaRef.current):J.overwrite(e,t.props.textareaRef.current),t.setState({bConverting:!1,bFinishedConverting:!0}))}).catch(function(e){Object(p.d)(i.createElement(d.d,{strTitle:Object(h.c)("#EventEditor_ConvertHTML_Error"),strDescription:Object(h.c)("#EventEditor_ConvertHTML_Error_Desc",e.response&&e.response.data?e.response.data.msg:e),bAlertDialog:!0,bDestructiveWarning:!0}),window,Object(h.c)("#EventEditor_ConvertHTML_Error"))})},e.prototype.OnCheckboxChange=function(e){var t=e.target.checked;t!=this.state.bPreserveNewLines&&this.setState({bPreserveNewLines:t})},e.prototype.OnTextAreaChange=function(e){this.setState({strHTMLData:e.currentTarget.value})},e.prototype.render=function(){var e=this.props.closeModal;return this.state.bConverting?i.createElement(d.b,{strTitle:Object(h.c)("#EventEditor_ImportFromHTML"),strDescription:Object(h.c)("#EventEditor_ImportFromHTML_ConversionInProgress"),closeModal:e,bAlertDialog:!0,onOK:e,onCancel:e},i.createElement(f.a,null)):this.state.bFinishedConverting?i.createElement(d.b,{strTitle:Object(h.c)("#EventEditor_ImportFromHTML"),strDescription:Object(h.c)("#EventEditor_ImportFromHTML_ConvertFinished"),closeModal:e,bAlertDialog:!0,onOK:e,onCancel:e}):i.createElement(d.c,{onOK:this.OnConvertAndOverriteHTML,onCancel:e},i.createElement(u.i,null," ",Object(h.c)("#EventEditor_ImportFromHTML")," "),i.createElement(u.a,null,i.createElement(u.b,null,i.createElement("div",{className:Object(b.a)(y.a.FlexColumnContainer,v.a.ImportHTMLCtn)},i.createElement("div",{className:y.a.FlexColumnContainer},Object(h.i)("#EventEditor_ImportFromHTML_ConvertDescription",i.createElement("a",{target:l.c.IN_CLIENT?void 0:"_blank",href:(l.c.IN_CLIENT?"steam://openurl/":"")+"https://partner.steamgames.com/doc/marketing/event_tools/import"},Object(h.c)("#EventEditor_ImportFromHTML_ConvertLearn")))),i.createElement("textarea",{value:this.state.strHTMLData,placeholder:Object(h.c)("#EventEditor_ImportFromHTML_Instruction"),className:v.a.ImportHTMLTextArea,onChange:this.OnTextAreaChange,ref:function(e){return e&&e.focus()}}),i.createElement("div",{className:v.a.ImportHTMLCheckBoxLine},i.createElement("input",{id:"ImportFromHTMLNewLines",type:"checkbox",checked:this.state.bPreserveNewLines,onChange:this.OnCheckboxChange}),i.createElement("label",{htmlFor:"ImportFromHTMLNewLines"},Object(h.c)("#EventEditor_ImportFromHTML_PreserveNewlines"),i.createElement("span",{className:"ttip","data-tooltip-text":Object(h.c)("#EventEditor_ImportFromHTML_PreserveNewlines_Hint")},"(?)"))),i.createElement("div",null,Object(h.c)("#EventEditor_ImportFromHTML_ConvertToBBCode")))),i.createElement(u.h,null,i.createElement(u.m,{onCancel:e,strOKText:Object(h.c)("#Button_Overwrite"),onUpdate:this.OnConvertAndAppendHTML,strUpdateText:Object(h.c)("#Button_Append")}))))},Object(r.c)([m.a],e.prototype,"OnConvertAndOverriteHTML",null),Object(r.c)([m.a],e.prototype,"OnConvertAndAppendHTML",null),Object(r.c)([m.a],e.prototype,"OnCheckboxChange",null),Object(r.c)([m.a],e.prototype,"OnTextAreaChange",null),e=Object(r.c)([c.observer],e)}(i.Component)},"4sqd":function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return C});var u=n("mrSG"),a=n("vDqi"),p=n.n(a),o=n("2vnA"),r=n("okNM"),i=n("q1tI"),d=n("3+zv"),m=n("ir+G"),s=n("Mgs7"),c=n("exH9"),l=n("TLQK"),h=n("bDQf"),_=n("bxiW"),v=n("lkRc"),g=n("Jqb/"),b=n("ka0M"),f=n("0OaU"),E=n("6eA3"),y=n.n(E),I=n("0oQF"),S=n.n(I),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={eCategoryLoaded:null,nomineeAppID:null},e.m_strPreviousNomineeTitle=null,e.m_cancelSignal=p.a.CancelToken.source(),e.m_refCheckbox=i.createRef(),e}return Object(u.d)(e,t),e.prototype.componentDidMount=function(){this.FetchNominationState()},e.prototype.componentDidUpdate=function(){this.props.event.GetSteamAwardCategory()!=this.state.eCategoryLoaded&&(this.m_strPreviousNomineeTitle=null,this.FetchNominationState())},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDisplaySteamAwardNomination is being unmounted")},e.prototype.FetchNominationState=function(){return Object(u.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s,c,l;return Object(u.e)(this,function(e){switch(e.label){case 0:if(this.props.event.GetSteamAwardCategory()==d.i.k_ENone)return this.setState({eCategoryLoaded:d.i.k_ENone,nomineeAppID:null}),[2];t=v.c.STORE_BASE_URL+"steamawards/ajaxgetusernominations",n={sessionid:v.c.SESSIONID,authwgtoken:v.i.authwgtoken},e.label=1;case 1:return e.trys.push([1,5,,6]),[4,p.a.get(t,{params:n,withCredentials:!0,cancelToken:this.m_cancelSignal.token})];case 2:return(a=e.sent())&&a.data&&a.data.success&&a.data.nominations?(o=this.props.event.GetSteamAwardCategory(),r=a.data.nominations[Object(d.l)(o)],i=r&&r.appid,this.setState({eCategoryLoaded:o,nomineeAppID:i}),i&&i!=this.props.event.appid?[4,m.a.EnsureStoreCapsuleInfoLoaded(i)]:[3,4]):[3,4];case 3:s=e.sent(),this.props.event.GetSteamAwardCategory()==o&&(this.m_strPreviousNomineeTitle=s.GetAppStoreData().title),e.label=4;case 4:return[3,6];case 5:return c=e.sent(),l=Object(h.a)(c),console.error("Could not fetch previous nominations:"+l.strErrorMsg,l),[3,6];case 6:return[2]}})})},e.prototype.OnNominateClick=function(o){return Object(u.b)(this,void 0,void 0,function(){var t,n,a=this;return Object(u.e)(this,function(e){return(t=this.props.event.GetSteamAwardCategory())!=this.state.eCategoryLoaded||(n=this.props.event.appid,this.state.nomineeAppID&&this.state.nomineeAppID!=n?o&&this.HandleConflict(function(){return a.SaveNomination(t,n,o)}):this.SaveNomination(t,n,o)),[2]})})},e.prototype.HandleConflict=function(e){var t=this;Object(b.d)(i.createElement(D,{strLocTokenInfix:"Nomination",strNewGameTitle:this.props.event.GetGameTitle(this.props.lang),fnGetOldGameTitle:function(){return t.m_strPreviousNomineeTitle},fnOnConfirm:e,fnOnCancel:function(){return t.m_refCheckbox.current&&t.m_refCheckbox.current.checked&&t.m_refCheckbox.current.Toggle()}}),window)},e.prototype.SaveNomination=function(o,r,i){return Object(u.b)(this,void 0,void 0,function(){var t,n,a;return Object(u.e)(this,function(e){switch(e.label){case 0:return this.setState({eCategoryLoaded:o,nomineeAppID:i?r:null}),this.props.previewMode?[2]:(t=v.c.STORE_BASE_URL+"steamawards/ajaxnominategame",(n=new URLSearchParams).append("sessionid",v.c.SESSIONID),n.append("authwgtoken",v.i.authwgtoken),n.append("categoryid",Object(d.l)(o).toString()),n.append("nominatedid",r.toString()),n.append("rescind",i?"0":"1"),n.append("source","4"),[4,p.a.post(t,n,{withCredentials:!0,cancelToken:this.m_cancelSignal.token})]);case 1:return(a=e.sent())&&200==a.status&&1==a.data.success||console.error("Nomination request failed.",a&&Object(h.a)(a)),[2]}})})},e.prototype.render=function(){var e=this.props.event.GetSteamAwardCategory(),t=!!e&&e!=d.i.k_ENone,n=this.state.eCategoryLoaded==e&&this.state.nomineeAppID==this.props.event.appid,a=this.props.event.BIsEventActionEnabled(),o=t&&(a||n);return i.createElement("div",{className:Object(c.a)(S.a.SteamAwardContainer,t&&y.a["Category_"+e])},i.createElement("div",{className:S.a.SteamAwardHeader},i.createElement("img",{className:S.a.SteamAwardHeaderImage,src:v.c.STORE_CDN_URL+"public/images/promo/autumn2019/event_nomination_banner_2.png"}),i.createElement("div",{className:S.a.SteamAwardMainCtn},i.createElement("div",{className:S.a.SteamAwardMainTitle}," ",Object(l.c)("#SteamAwards_EventMainTitle")," "),i.createElement("div",{className:S.a.SteamAwardSubTitle},Object(l.c)(a?"#SteamAwards_EventCallToAction":"#SteamAwards_EventVotingDateTeaser"),a&&i.createElement("a",{href:v.c.STORE_BASE_URL+"steamawards/nominations/",className:S.a.SteamAwardLearnMore},"(",Object(l.c)("#EventDisplay_CallToAction_LearnMore"),")")),i.createElement("div",{className:S.a.SteamAwardHeaderText},a?t?Object(l.c)("#SteamAwards_EventNominateGamePrompt_Long",this.props.event.GetGameTitle(this.props.lang)):i.createElement("a",{className:y.a.LinkText,href:v.c.STORE_BASE_URL+"steamawards/nominations/"},Object(l.c)("#SteamAwards_EventNominateGamePrompt_NoCategory",this.props.event.GetGameTitle(this.props.lang))):Object(l.c)("#SteamAwards_Event_NominationsClosed")))),o&&i.createElement("div",{className:S.a.SteamAwardVoteWidget},i.createElement("div",{className:S.a.SteamAwardVotePrompt}," ",a&&Object(l.c)("#SteamAwards_EventNominateGamePrompt_CategoryPrefix")," "),i.createElement("div",{className:S.a.SteamAwardNominateButton},i.createElement(s.d,{ref:this.m_refCheckbox,classname:S.a.SteamAwardVoteCheckBox,checked:n,onChange:this.OnNominateClick,disabled:!a,color:"#bcf3dc",highlightColor:"white",label:i.createElement(i.Fragment,null,i.createElement("div",{className:S.a.SteamAwardCategoryTitle},Object(l.c)("#SteamAward_CategoryTitle_"+e)),i.createElement("span",{className:S.a.SteamAwardCategoryDesc},Object(l.c)("#SteamAward_CategoryDesc_"+e)))})),a&&i.createElement("div",{className:S.a.SteamAwardLinkToNominationPage},i.createElement("a",{href:v.c.STORE_BASE_URL+"steamawards/nominations/"}," ",Object(l.c)("#SteamAwards_EventNominationAlternativeLinkText")," "))))},Object(u.c)([o.observable],e.prototype,"m_strPreviousNomineeTitle",void 0),Object(u.c)([_.a],e.prototype,"OnNominateClick",null),Object(u.c)([_.a],e.prototype,"SaveNomination",null),e=Object(u.c)([r.observer],e)}(i.Component),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(u.d)(t,e),t.prototype.OnConfirm=function(){this.props.fnOnConfirm(),this.props.closeModal()},t.prototype.OnCancel=function(){this.props.fnOnCancel(),this.props.closeModal&&this.props.closeModal()},t.prototype.render=function(){var e=i.createElement("span",{className:S.a.SteamAwardModalGameTitle},this.props.strNewGameTitle),t=this.props.fnGetOldGameTitle(),n=t?i.createElement("span",{className:S.a.SteamAwardModalGameTitle},t):i.createElement(f.a,{size:"small",position:"center",string:Object(l.c)("#Loading")});return i.createElement(g.b,{bDestructiveWarning:!0,strTitle:Object(l.c)("#SteamAward_"+this.props.strLocTokenInfix+"ConflictWarning_Title"),strDescription:Object(l.i)("#SteamAward_"+this.props.strLocTokenInfix+"ConflictWarning_Explanation",n,e),onOK:this.OnConfirm,onCancel:this.OnCancel})},Object(u.c)([_.a],t.prototype,"OnConfirm",null),Object(u.c)([_.a],t.prototype,"OnCancel",null),t=Object(u.c)([r.observer],t)}(i.Component),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={eCategoryLoaded:null,votedForAppID:null},e.m_strPreviousVotedForAppTitle=null,e.m_cancelSignal=p.a.CancelToken.source(),e}return Object(u.d)(e,t),e.prototype.componentDidMount=function(){this.FetchVoteState()},e.prototype.componentDidUpdate=function(){this.props.event.GetSteamAwardCategory()!=this.state.eCategoryLoaded&&this.FetchVoteState()},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDisplaySteamAwardVote is being unmounted")},e.prototype.FetchVoteState=function(){return Object(u.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s,c;return Object(u.e)(this,function(e){switch(e.label){case 0:t=v.c.STORE_BASE_URL+"steamawards/ajaxgetuservotes",n={sessionid:v.c.SESSIONID,authwgtoken:v.i.authwgtoken,year:2019},e.label=1;case 1:return e.trys.push([1,5,,6]),[4,p.a.get(t,{params:n,withCredentials:!0,cancelToken:this.m_cancelSignal.token})];case 2:return(a=e.sent())&&a.data&&a.data.success&&a.data.votes?(o=this.props.event.GetSteamAwardCategory(),r=a.data.votes[Object(d.l)(o)],this.setState({eCategoryLoaded:o,votedForAppID:r}),r&&r!=this.props.event.appid?[4,m.a.EnsureStoreCapsuleInfoLoaded(r)]:[3,4]):[3,4];case 3:i=e.sent(),this.props.event.GetSteamAwardCategory()==o&&(this.m_strPreviousVotedForAppTitle=i.GetAppStoreData().title),e.label=4;case 4:return[3,6];case 5:return s=e.sent(),c=Object(h.a)(s),console.error("Could not fetch previous votes:"+c.strErrorMsg,c),[3,6];case 6:return[2]}})})},e.prototype.OnVoteClick=function(){return Object(u.b)(this,void 0,void 0,function(){var t,n,a=this;return Object(u.e)(this,function(e){return(t=this.props.event.GetSteamAwardCategory())!=this.state.eCategoryLoaded||(n=this.props.event.appid,this.state.votedForAppID&&this.state.votedForAppID!=n?this.HandleConflict(function(){return a.SaveVote(t,n)}):this.SaveVote(t,n)),[2]})})},e.prototype.HandleConflict=function(e){var t=this;Object(b.d)(i.createElement(D,{strLocTokenInfix:"Vote",strNewGameTitle:this.props.event.GetGameTitle(this.props.lang),fnGetOldGameTitle:function(){return t.m_strPreviousVotedForAppTitle},fnOnConfirm:e,fnOnCancel:function(){}}),window)},e.prototype.SaveVote=function(o,r){return Object(u.b)(this,void 0,void 0,function(){var t,n,a;return Object(u.e)(this,function(e){switch(e.label){case 0:return this.setState({eCategoryLoaded:o,votedForAppID:r}),this.props.previewMode?[2]:(t=v.c.STORE_BASE_URL+"steamawards/ajaxvoteforgame",(n=new URLSearchParams).append("sessionid",v.c.SESSIONID),n.append("authwgtoken",v.i.authwgtoken),n.append("categoryid",Object(d.l)(o).toString()),n.append("appid",r.toString()),n.append("year","2019"),[4,p.a.post(t,n,{withCredentials:!0,cancelToken:this.m_cancelSignal.token})]);case 1:return(a=e.sent())&&200==a.status&&1==a.data.success||console.error("Vote request failed.",a&&Object(h.a)(a)),[2]}})})},e.prototype.render=function(){var e=this.props.event.GetSteamAwardCategory(),t=this.state.eCategoryLoaded==e&&this.state.votedForAppID==this.props.event.appid,n=this.props.event.BIsEventActionEnabled(),a=n||t;return i.createElement("div",{className:Object(c.a)(S.a.SteamAwardContainer,y.a["Category_"+e])},i.createElement("div",{className:S.a.SteamAwardHeader},i.createElement("img",{className:S.a.SteamAwardHeaderImage,src:v.c.STORE_CDN_URL+"public/images/promo/autumn2019/event_nomination_banner_2.png"}),i.createElement("div",{className:S.a.SteamAwardMainCtn},i.createElement("div",{className:S.a.SteamAwardMainTitle}," ",Object(l.c)("#SteamAwards_EventMainTitle")," "),i.createElement("div",{className:S.a.SteamAwardMainTitle}," ",Object(l.c)("#SteamAwards_EventMainTitleSecondLine")," "),i.createElement("div",{className:S.a.SteamAwardHeaderText},n?i.createElement(i.Fragment,null,Object(l.c)("#SteamAwards_EventVoteForGamePrompt",this.props.event.GetGameTitle(this.props.lang)),i.createElement("a",{href:v.c.STORE_BASE_URL+"steamawards/",className:Object(c.a)(S.a.SteamAwardLearnMore,S.a.BottomRight)},Object(l.c)("#EventDisplay_CallToAction_LearnMore"))):i.createElement("a",{href:v.c.STORE_BASE_URL+"steamawards/",className:S.a.LinkText},Object(l.c)("#SteamAwards_Event_VotesClosed"))))),a&&i.createElement("div",{className:S.a.SteamAwardVoteWidget},i.createElement("div",{className:S.a.SteamAwardVotePrompt}),i.createElement("div",{className:S.a.SteamAwardVoteButtonArea},i.createElement("div",{className:S.a.SteamAwardCategoryTitle},Object(l.c)("#SteamAward_CategoryTitle_"+e)),i.createElement("span",{className:S.a.SteamAwardCategoryDesc},Object(l.c)("#SteamAward_CategoryDesc_"+e)),t?i.createElement("div",{className:S.a.SteamAwardVoteButtonSubmitted},Object(l.c)("#SteamAward_VoteButton_AlreadyVotedText")):i.createElement("button",{className:S.a.SteamAwardVoteButton,onClick:this.OnVoteClick},i.createElement("span",{className:S.a.SteamAwardVoteButtonText},Object(l.c)("#SteamAward_VoteButton_PromptText"))))))},Object(u.c)([o.observable],e.prototype,"m_strPreviousVotedForAppTitle",void 0),Object(u.c)([_.a],e.prototype,"OnVoteClick",null),Object(u.c)([_.a],e.prototype,"SaveVote",null),e=Object(u.c)([r.observer],e)}(i.Component)},"5bld":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var a,o,r=n("TLQK"),i=n("ir+G"),s=n("TQGK");(o=a||(a={}))[o.k_eLibrary=1]="k_eLibrary",o[o.k_eWishlist=2]="k_eWishlist",o[o.k_eFollowing=4]="k_eFollowing",o[o.k_eRecommended=8]="k_eRecommended",o[o.k_eSteam=16]="k_eSteam",o[o.k_eRequired=32]="k_eRequired",o[o.k_eFeatured=64]="k_eFeatured";var c=function(){function e(){}return e.prototype.GetSource=function(){return this.appInfo?this.appInfo.source:this.clanInfo.source},e.GetEntityNameForID=function(e,t){if(e)return i.a.GetStoreCapsuleInfo(e).GetAppStoreData().title;if(t){var n=s.a.GetClanInfoByClanAccountID(t);if(n)return n.group_name}return Object(r.c)("#EventCalendar_MuteApp_Unknown")},e.prototype.GetEntityName=function(){return e.GetEntityNameForID(this.appid,this.clanid)},e.prototype.GetGameCapsule=function(){if(this.appInfo)return i.a.GetStoreCapsuleInfo(this.appInfo.appid).GetAppStoreData().capsule;if(this.clanInfo){var e=s.a.GetClanInfoByClanAccountID(this.clanInfo.clanid);if(e)return e.avatar_full_url}return Object(r.c)("#EventCalendar_MuteApp_Unknown")},e.prototype.GetGameIcon=function(){if(this.appInfo)return i.a.GetStoreCapsuleInfo(this.appInfo.appid).GetAppStoreData().icon_url;if(this.clanInfo){var e=s.a.GetClanInfoByClanAccountID(this.clanInfo.clanid);if(e)return e.avatar_full_url}return Object(r.c)("#EventCalendar_MuteApp_Unknown")},e}(),l=function(){return function(){}}(),u=function(){return function(){}}()},"5iBV":function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_thumbs_down.png?v=bf36f245ac1b3e8372643fe799f6685f"},"6eA3":function(e,t,n){e.exports={EventDetailsPageContainer:"partnereventdisplay_EventDetailsPageContainer_2Ptra",EventBackgroundBlurCtn:"partnereventdisplay_EventBackgroundBlurCtn_32nPM",EventBackgroundBlur:"partnereventdisplay_EventBackgroundBlur_stsss",DetailArtworkAgeAppropriate:"partnereventdisplay_DetailArtworkAgeAppropriate_1p_ls",DetailArtworkAgeNotAppropriate:"partnereventdisplay_DetailArtworkAgeNotAppropriate_3x5pK",EventCoverImageBlr:"partnereventdisplay_EventCoverImageBlr_3xNob",EventBodyCtn:"partnereventdisplay_EventBodyCtn_3o4SV",EventBodyPosition:"partnereventdisplay_EventBodyPosition_3lIxP",EventBody:"partnereventdisplay_EventBody_3aht-",NoTitleArtwork:"partnereventdisplay_NoTitleArtwork_3Y40J",EventBroadcastCtn:"partnereventdisplay_EventBroadcastCtn_1Ph1i",EventColumns:"partnereventdisplay_EventColumns_1PEIf",EventCoverImageCtn:"partnereventdisplay_EventCoverImageCtn_FZiaq",EventCoverImage:"partnereventdisplay_EventCoverImage_17G2y",EventCoverImageBackground:"partnereventdisplay_EventCoverImageBackground_2-Iyg",InLibraryView:"partnereventdisplay_InLibraryView_3_SEi",InEditor:"partnereventdisplay_InEditor_2YuAT",EventCoverImageFuzz:"partnereventdisplay_EventCoverImageFuzz_2EWL0",LibraryEventTitleContainer:"partnereventdisplay_LibraryEventTitleContainer_ZHAfj",CoverImageGradient:"partnereventdisplay_CoverImageGradient_1_x4o",EventDetailTitleImg:"partnereventdisplay_EventDetailTitleImg_1RA5e",EventDetailTitleDesc:"partnereventdisplay_EventDetailTitleDesc_3Ej2u",EventDetailsSticky:"partnereventdisplay_EventDetailsSticky_3IxVZ",EventDetailUserType:"partnereventdisplay_EventDetailUserType_3phfI",EventDetailGameCallToAction:"partnereventdisplay_EventDetailGameCallToAction_JOkXF",EventDetailTimeInfo:"partnereventdisplay_EventDetailTimeInfo_2KsEb",EventDetailsDescription:"partnereventdisplay_EventDetailsDescription_2orfV",EventDetailsBody:"partnereventdisplay_EventDetailsBody_A_A2B",EventDetailsGame:"partnereventdisplay_EventDetailsGame_1JqXp",EventDetailsAvatar:"partnereventdisplay_EventDetailsAvatar_2U_20",GameActions:"partnereventdisplay_GameActions_bGROT",Ownership:"partnereventdisplay_Ownership_2VkXp",EventDetailsType:"partnereventdisplay_EventDetailsType_2u9c-",EventDetailTitle:"partnereventdisplay_EventDetailTitle_TqEPC",EventDetailTitleContainer:"partnereventdisplay_EventDetailTitleContainer_3z2NY",EventDetailsSubTitle:"partnereventdisplay_EventDetailsSubTitle_20f2s",LibraryEventBodyContainer:"partnereventdisplay_LibraryEventBodyContainer_32mHv","lang_zn-cn":"partnereventdisplay_lang_zn-cn_2GYTc",lang_ko:"partnereventdisplay_lang_ko_36n2d",lang_ja:"partnereventdisplay_lang_ja_-TO1b","lang_zn-tw":"partnereventdisplay_lang_zn-tw_27b3w",AppSocialLinksCtn:"partnereventdisplay_AppSocialLinksCtn_2Vjai",AppSocialLinks:"partnereventdisplay_AppSocialLinks_19gZ0",AppSocialLink:"partnereventdisplay_AppSocialLink_rPVsl",RightSideTitles:"partnereventdisplay_RightSideTitles_efy3k",DisplayAdminPanel_Title:"partnereventdisplay_DisplayAdminPanel_Title_1lmj3",DateAndTime:"partnereventdisplay_DateAndTime_3Sy57",NoDateAndTime:"partnereventdisplay_NoDateAndTime_3lh2Y",AppSummaryCtn:"partnereventdisplay_AppSummaryCtn_Wk21c",AppSummaryWidgetTitleCtn:"partnereventdisplay_AppSummaryWidgetTitleCtn_jJFfo",Title:"partnereventdisplay_Title_2gsoD",AppSummaryWidgetCtn:"partnereventdisplay_AppSummaryWidgetCtn_2jRJR",DisplayAdminPanel:"partnereventdisplay_DisplayAdminPanel_XshNh",DisplayAdminPanel_ctn:"partnereventdisplay_DisplayAdminPanel_ctn_1SQm1",DisplayAdminPanel_Spacer:"partnereventdisplay_DisplayAdminPanel_Spacer_6pX37",AdminButton:"partnereventdisplay_AdminButton_1J0n9",EditorStatsCtn:"partnereventdisplay_EditorStatsCtn_e2BAg",EditorStatsRow:"partnereventdisplay_EditorStatsRow_2Seco",SteamBlog:"partnereventdisplay_SteamBlog_1rafn",LunarNewYearHeader:"partnereventdisplay_LunarNewYearHeader_1g4Yf",EnvelopeArea:"partnereventdisplay_EnvelopeArea_39E2F",TokenBalanceContainer:"partnereventdisplay_TokenBalanceContainer_2tXIg",TokenBalance:"partnereventdisplay_TokenBalance_3WhoV",EnvelopeContainer:"partnereventdisplay_EnvelopeContainer_1g0zs",BackingRect:"partnereventdisplay_BackingRect_2V4xV",Envelope:"partnereventdisplay_Envelope_2WNMe",GiftLabel:"partnereventdisplay_GiftLabel_d2D-I",OpenState:"partnereventdisplay_OpenState_3OVk1",Opened:"partnereventdisplay_Opened_28wlX",Locked:"partnereventdisplay_Locked_1uXh_",Unlocked:"partnereventdisplay_Unlocked_26x3o",NeedLogin:"partnereventdisplay_NeedLogin_2F_Xa",BottomMessage:"partnereventdisplay_BottomMessage_3M82I",VO:"partnereventdisplay_VO_1-pFh",LunarNewYearOpenEnvelopeVideoDialog:"partnereventdisplay_LunarNewYearOpenEnvelopeVideoDialog_1-Szi",Container:"partnereventdisplay_Container_1dcfd",Column:"partnereventdisplay_Column_3o_dP",VideoBox:"partnereventdisplay_VideoBox_KAf3y",CoinText:"partnereventdisplay_CoinText_14dU2",Visible:"partnereventdisplay_Visible_2bKyV",LunarNewYearOpenEnvelopeVideo:"partnereventdisplay_LunarNewYearOpenEnvelopeVideo_2JgvP",StoryHeader:"partnereventdisplay_StoryHeader_uJBQi",StorySubHeader:"partnereventdisplay_StorySubHeader_hl9Gl",StoryText:"partnereventdisplay_StoryText_1vUbV",StoryPicture:"partnereventdisplay_StoryPicture_1ovBW",CheckBackText:"partnereventdisplay_CheckBackText_3FFfw",DancingRat:"partnereventdisplay_DancingRat_3gJiV",Links:"partnereventdisplay_Links_2U9E5",MarketLink:"partnereventdisplay_MarketLink_19WRl",MarketLinkhover:"partnereventdisplay_MarketLinkhover_Q7KDk"}},"6oCP":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"c",function(){return d});var E=n("mrSG"),y=n("lkRc"),a=n("vDqi"),I=n.n(a),S=n("2vnA"),i=n("Gp1o"),O=n("mgoM"),s=n("3+zv"),D=n("kLLr"),c=n("Kw0F"),v=n("r64O"),o=n("qiKp"),r=n("bS9Q"),C=n("bDQf"),l=n("apHd");n.d(t,"b",function(){return s.h});var u=function(){return function(e){Object(v.a)("number"==typeof e.appid,"AJAX updated app returned a non-numeric AppID! Did the PHP change?"),this.appid=e.appid,this.date=e.date,this.can_play=e.can_play,this.playtime=e.playtime,this.announcementid=e.announcementid}}(),p=function(){function e(){this.m_mapExistingEvents=new Map,this.m_mapAnnouncementBodyToEvent=new Map,this.m_mapClanToGIDs=new Map,this.m_mapAppIDToGIDs=new Map,this.m_mapAdjacentAnnouncementGIDs=new Map,this.m_mapUpdatedApps=new Map,this.m_tsUpdatedAppsQueryTime=0,this.m_rgQueuedEventsClanIDs=new Array,this.m_rgQueuedEventsUniqueIDs=new Array,this.m_QueuedEventTimeout=new o.b,this.m_bLoadedFromConfig=!1}return e.prototype.Init=function(){var a=this;if(!this.m_bLoadedFromConfig){var e=Object(l.a)("PartnerEventStore");this.ValidateStoreDefault(e)&&e.forEach(function(e){var t=new D.a(e.clan_steamid),n=a.InsertEventModelFromClanEventData(t,e);e.announcement_body&&a.m_mapExistingEvents.set(s.n+e.announcement_body.gid,n)});var t=Object(y.f)("partnereventstore","application_config");this.ValidateStoreDefault(t)&&t.forEach(function(e){var t=new D.a(e.clan_steamid),n=a.InsertEventModelFromClanEventData(t,e);e.announcement_body&&!a.m_mapExistingEvents.has(s.n+e.announcement_body.gid)&&a.m_mapExistingEvents.set(s.n+e.announcement_body.gid,n)});var n=Object(y.f)("partnereventadjacents","application_config");this.ValidateAdjacentEvent(n)&&("dev"!=y.c.WEB_UNIVERSE&&"beta"!=y.c.WEB_UNIVERSE||console.log("DEV_DEBUG: CPartnerEventStore loading adjacents gids payload: "+n.length),n.forEach(function(e){a.m_mapAdjacentAnnouncementGIDs.set(e.announcementGID,e.adjacents)})),this.m_bLoadedFromConfig=!0}},e.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].gid||"object"==typeof t[0].announcement_body&&"string"==typeof t[0].announcement_body.gid)},e.prototype.ValidateAdjacentEvent=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("string"==typeof t[0].announcementGID&&Array.isArray(t[0].adjacents)&&(0==t[0].adjacents.length||"string"==typeof t[0].adjacents[0]))},e.prototype.GetClanEventGIDs=function(e){var t=this.m_mapClanToGIDs.get(e.GetAccountID());return t||[]},e.prototype.GetClanEventGIDsForApp=function(e){var t=this.m_mapAppIDToGIDs.get(e);return t||[]},e.prototype.GetClanEventModel=function(e){return this.m_mapExistingEvents.get(e)},e.prototype.BHasClanEventModel=function(e){return this.m_mapExistingEvents.has(e)},e.prototype.BHasClanAnnouncementGID=function(e){if(this.m_mapAnnouncementBodyToEvent.has(e)){var t=this.m_mapAnnouncementBodyToEvent.get(e);return this.BHasClanEventModel(t)}return!1},e.prototype.GetClanEventGIDFromAnnouncementGID=function(e){return this.m_mapAnnouncementBodyToEvent.get(e)},e.prototype.GetClanEventFromAnnouncementGID=function(e){return this.m_mapExistingEvents.get(this.m_mapAnnouncementBodyToEvent.get(e))},e.prototype.DefaultEventSortFunction=function(e,t){return e.startTime==t.startTime?Object(r.h)(e.GID,t.GID):t.startTime-e.startTime},e.prototype.RegisterClanEvents=function(e){if(e)for(var t=0,n=e;t<n.length;t++){var a=n[t],o=this.GetEventLookupKey(a);if(!this.m_mapExistingEvents.has(o)){var r=new D.a(a.clan_steamid);this.InsertEventModelFromClanEventData(r,a)}}},e.prototype.GetRankedClanEvents=function(e,t){var n=[],a=e?this.GetClanEventGIDs(e):this.GetClanEventGIDsForApp(t);if(!a||0==a.length)return n;for(var o=0,r=a;o<r.length;o++){var i=r[o],s=this.GetClanEventModel(i);n.push(s)}return n.sort(this.DefaultEventSortFunction),n},e.prototype.BIsOldAnnouncement=function(e){return(null==e.gid||null==e.gid||"0"==e.gid)&&e.announcement_body&&"0"!=e.announcement_body.gid},e.prototype.GetEventLookupKey=function(e){return this.BIsOldAnnouncement(e)?s.n+e.announcement_body.gid:e.gid},e.prototype.InsertEventModelFromClanEventData=function(e,t){var o=new s.k;if(o.clanSteamID=e,Object(v.a)(o.clanSteamID&&o.clanSteamID.BIsValid(),"Invalid Clan SteamID: "+o.clanSteamID.ConvertTo64BitString()+" "+y.c.EUNIVERSE),o.GID=this.GetEventLookupKey(t),o.bOldAnnouncement=this.BIsOldAnnouncement(t),o.appid=t.appid,o.startTime=t.rtime32_start_time,o.endTime=t.rtime32_end_time,o.visibilityStartTime=t.rtime32_visibility_start,o.visibilityEndTime=t.rtime32_visibility_end,o.loadedAllLanguages=!1,o.type=t.event_type,o.nVotesUp=t.votes_up,o.nVotesDown=t.votes_down,o.comment_type=t.comment_type,o.gidfeature=t.gidfeature,o.gidfeature2=t.gidfeature2,o.vecTags=new Array,o.last_update_steamid=t.last_update_steamid,o.rtime32_last_modified=t.rtime32_last_modified,o.video_preview_type=t.video_preview_type,o.video_preview_id=t.video_preview_id,o.has_live_stream=t.has_live_stream,o.live_stream_viewer_count=t.live_stream_viewer_count,t.announcement_body){var n=t.announcement_body;o.AnnouncementGID=n.gid,o.name.set(n.language,n.headline),o.description.set(n.language,n.body),o.timestamp_loc_updated.clear(),o.forumTopicGID=n.forum_topic_id,o.nCommentCount=n.commentcount,o.postTime=n.posttime,o.bOldAnnouncement&&!n.hidden&&(o.startTime=n.posttime),o.announcementClanSteamID=new D.a(n.clanid),n.tags&&0<n.tags.length&&n.tags.forEach(function(e){return o.vecTags.push(e)})}else o.AnnouncementGID="0",o.forumTopicGID=t.forum_topic_id,o.name.clear(),o.description.clear(),o.timestamp_loc_updated.clear(),o.postTime=t.rtime32_start_time,o.nCommentCount=t.comment_count,o.name.set(0,t.event_name),o.description.set(0,t.event_notes);t.broadcaster_accountid&&(o.broadcaster=new D.a(t.broadcaster_accountid));var a=s.f;try{o.jsondata=Object(E.a)(Object(E.a)({},a),t.jsondata?JSON.parse(t.jsondata):void 0)}catch(e){throw console.error("PartnerEventStore::InsertEventModelFromClanEventData: failed to parse embedded json model"+Object(C.a)(e)),console.error(t.jsondata),e}if(o.jsondata.localized_capsule_image=Object(c.e)(o.jsondata.localized_capsule_image,29,null),o.jsondata.localized_title_image=Object(c.e)(o.jsondata.localized_title_image,29,null),o.jsondata.localized_spotlight_image=Object(c.e)(o.jsondata.localized_spotlight_image,29,null),o.jsondata.localized_subtitle=Object(c.e)(o.jsondata.localized_subtitle,29,null),o.jsondata.localized_summary=Object(c.e)(o.jsondata.localized_summary,29,null),o.jsondata.localized_broadcast_title=Object(c.e)(o.jsondata.localized_broadcast_title,29,null),o.jsondata.localized_broadcast_left_image=Object(c.e)(o.jsondata.localized_broadcast_left_image,29,null),o.jsondata.localized_broadcast_right_image=Object(c.e)(o.jsondata.localized_broadcast_right_image,29,null),o.jsondata.localized_sale_header=Object(c.e)(o.jsondata.localized_sale_header,29,null),o.jsondata.localized_sale_overlay=Object(c.e)(o.jsondata.localized_sale_overlay,29,null),o.jsondata.localized_sale_product_banner=Object(c.e)(o.jsondata.localized_sale_product_banner,29,null),o.jsondata.localized_sale_product_mobile_banner=Object(c.e)(o.jsondata.localized_sale_product_mobile_banner,29,null),void 0!==o.jsondata.sale_num_headers)for(var r=0;r<o.jsondata.sale_num_headers;++r)o.jsondata.localized_per_day_sales_header[r]=Object(c.e)(o.jsondata.localized_per_day_sales_header[r],29,null);return o.jsondata.sale_sections&&o.jsondata.sale_sections.forEach(function(e,t){e.localized_label&&(e.localized_label=Object(c.e)(e.localized_label,29,null)),o.jsondata.sale_sections[t]=Object(E.a)(Object(E.a)({},s.g),e)}),o.jsondata.email_setting&&o.jsondata.email_setting.sections&&o.jsondata.email_setting.sections.forEach(function(e){void 0!==e.localized_headline&&null!==e.localized_headline&&(e.localized_headline=Object(c.e)(e.localized_headline,29,null)),void 0!==e.localized_body&&null!==e.localized_body&&(e.localized_body=Object(c.e)(e.localized_body,29,null)),void 0!==e.localized_image&&null!==e.localized_image&&(e.localized_image=Object(c.e)(e.localized_image,29,null))}),o.jsondata.localized_title_image.forEach(function(e,t){if(null!=e&&"http"==e.substr(0,4)){var n=e.lastIndexOf("/"),a=e.substr(n+1);o.jsondata.localized_title_image[t]=a}}),t.published?t.hidden?o.visibility_state=s.h.k_EEventStateStaged:o.visibility_state=s.h.k_EEventStateVisible:o.visibility_state=s.h.k_EEventStateUnpublished,this.InsertUniqueEventGID(e.GetAccountID(),o.appid,o.GID),this.m_mapExistingEvents.set(o.GID,o),o.AnnouncementGID&&1<o.AnnouncementGID.length&&this.m_mapAnnouncementBodyToEvent.set(o.AnnouncementGID,o.GID),o.bLoaded=!0,o},e.prototype.HelperInitializeNumSalesHeaderArray=function(e){if(void 0!==e.jsondata.sale_num_headers){e.jsondata.localized_per_day_sales_header=[];for(var t=0;t<e.jsondata.sale_num_headers;++t)e.jsondata.localized_per_day_sales_header.push(Object(c.e)([],29,null));e.m_overrideCurrentDay=0}else e.m_overrideCurrentDay=void 0},e.prototype.GetAllClanEvents=function(e){var n=this,a=new Array;return this.m_mapClanToGIDs.has(e.GetAccountID())&&this.m_mapClanToGIDs.get(e.GetAccountID()).forEach(function(e){var t=n.m_mapExistingEvents.get(e);t&&a.push(t)}),a},e.prototype.QueueLoadPartnerEvent=function(e,t){var n=this;this.m_rgQueuedEventsClanIDs.push(e),this.m_rgQueuedEventsUniqueIDs.push(t);var a=function(){n.InternalLoadPartnerEventList(n.m_rgQueuedEventsClanIDs,n.m_rgQueuedEventsUniqueIDs),n.m_rgQueuedEventsClanIDs=new Array,n.m_rgQueuedEventsUniqueIDs=new Array};if(30<=this.m_rgQueuedEventsClanIDs.length)this.m_QueuedEventTimeout.Cancel(),a();else if(!this.m_QueuedEventTimeout.IsScheduled()){this.m_QueuedEventTimeout.Schedule(50,a)}},e.prototype.InternalLoadPartnerEventList=function(c,l){return Object(E.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s;return Object(E.e)(this,function(e){switch(e.label){case 0:t=y.c.STORE_BASE_URL+"events/ajaxgeteventdetails/",n=Object(O.e)(y.c.LANGUAGE),a=""+n,0!=n&&(a+="_0"),o={clanid_list:c.join(","),uniqueid_list:l.join(","),lang_list:a,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,I.a.get(t,{params:o})];case 2:return r=e.sent(),this.RegisterClanEvents(r.data.events),[3,4];case 3:return i=e.sent(),s=Object(C.a)(i),console.error("GetEventDetails hit error "+s.strErrorMsg,s),[3,4];case 4:return[2]}})})},e.prototype.LoadAdjacentPartnerEvents=function(t,n,a,o,r,i,s){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadAdjacentPartnerEvents(t,void 0,n,a,o,r,i,s)]})})},e.prototype.LoadAdjacentPartnerEventsByAnnouncement=function(t,n,a,o,r,i,s){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadAdjacentPartnerEvents(void 0,t,n,a,o,r,i,s)]})})},e.prototype.LoadAdjacentPartnerEventsByEvent=function(n,a,o,r,i,s,c){return Object(E.b)(this,void 0,void 0,function(){var t;return Object(E.e)(this,function(e){return t=a||n.clanSteamID,n.bOldAnnouncement?[2,this.InternalLoadAdjacentPartnerEvents(void 0,n.AnnouncementGID,t,o,r,i,s,c)]:[2,this.InternalLoadAdjacentPartnerEvents(n.GID,n.AnnouncementGID,t,o,r,i,s,c)]})})},e.prototype.InternalLoadAdjacentPartnerEvents=function(d,m,h,_,v,g,b,f){return Object(E.b)(this,void 0,void 0,function(){var r,t,n,a,o,i,s,c,l,u,p=this;return Object(E.e)(this,function(e){switch(e.label){case 0:if(r=new Array,this.m_mapAdjacentAnnouncementGIDs.has(m))return[3,5];t=y.c.STORE_BASE_URL+"events/ajaxgetadjacentpartnerevents/",n=Object(O.e)(y.c.LANGUAGE),a=""+n,0!=n&&(a+="_0"),o={clan_accountid:h?h.GetAccountID():void 0,appid:_,count_before:v,count_after:g,gidevent:d,gidannouncement:m,lang_list:a,rtime_oldestevent:b?b.rtime_oldestevent:void 0,require_tags:b&&b.require_tags?b.require_tags.join(","):void 0,exclude_tags:b&&b.exclude_tags?b.exclude_tags.join(","):void 0,require_no_tags:b?b.require_no_tags:void 0,event_type_filter:b&&b.event_type_filter?b.event_type_filter.join(","):void 0,exclude_event_types:b&&b.exclude_event_types?b.exclude_event_types.join(","):void 0,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,I.a.get(t,{params:o,cancelToken:f?f.token:void 0})];case 2:return i=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=i.data.events;e<t.length;e++){var n=t[e],a=p.GetEventLookupKey(n);if(!p.m_mapExistingEvents.has(a)){var o=new D.a(n.clan_steamid);p.InsertEventModelFromClanEventData(h||o,n)}r.push(p.m_mapExistingEvents.get(a))}0==r.length&&(d&&p.BHasClanEventModel(d)?r.push(p.m_mapExistingEvents.get(d)):m&&p.BHasClanAnnouncementGID(m)&&r.push(p.GetClanEventFromAnnouncementGID(m)))}),[3,4];case 3:return s=e.sent(),c=Object(C.a)(s),console.error("LoadAdjacentPartnerEvents hit error "+c.strErrorMsg,c),[3,4];case 4:return[3,7];case 5:return l=this.m_mapAdjacentAnnouncementGIDs.get(m),u=new Array,l.forEach(function(e){if(p.m_mapAnnouncementBodyToEvent.has(e)){var t=p.m_mapAnnouncementBodyToEvent.get(e);r.push(p.m_mapExistingEvents.get(t))}else u.push(e)}),0<u.length?[4,this.LoadBatchPartnerEventsByAnnouncementGID(null,u,f)]:[3,7];case 6:e.sent().forEach(function(e){return r.push(e)}),e.label=7;case 7:return[2,r]}})})},e.prototype.LoadPartnerEventsPageable=function(o,c,l,u){return void 0===l&&(l=0),void 0===u&&(u=0),Object(E.b)(this,void 0,void 0,function(){var r,t,n,i,a,s=this;return Object(E.e)(this,function(e){switch(e.label){case 0:r=new Array,t=y.c.STORE_BASE_URL+"events/ajaxgetpartnereventspageable/",n={clan_accountid:o?o.GetAccountID():void 0,appid:c,offset:l,count:u,l:y.c.LANGUAGE,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,I.a.get(t,{params:n})];case 2:return i=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=i.data.events;e<t.length;e++){var n=t[e],a=s.GetEventLookupKey(n);if(!s.m_mapExistingEvents.has(a)){var o=new D.a(n.clan_steamid);s.InsertEventModelFromClanEventData(o,n)}r.push(s.m_mapExistingEvents.get(a))}}),[3,4];case 3:return a=e.sent(),console.error("LoadClanEventInDateRange hit error "+Object(C.a)(a)),[3,4];case 4:return[2,r]}})})},e.prototype.GetStartRangeWithDefault=function(e){return e&&0!=e?e:e=Date.now()/1e3-7776e3},e.prototype.GetEndRangeWithDefault=function(e,t){return t||e+864e4},e.prototype.LoadPartnerEventInDateRange=function(i,s,c){return Object(E.b)(this,void 0,void 0,function(){var t,n,a,o,r=this;return Object(E.e)(this,function(e){switch(e.label){case 0:s=this.GetStartRangeWithDefault(s),c=this.GetEndRangeWithDefault(s,c),t=y.c.COMMUNITY_BASE_URL+"/gid/"+i.ConvertTo64BitString()+"/ajaxlistevents/",n={startRange:s,endRange:c,l:y.c.LANGUAGE,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,I.a.get(t,{params:n})];case 2:return a=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=JSON.parse(a.data.events);e<t.length;e++){var n=t[e];r.InsertEventModelFromClanEventData(i,n)}}),[3,4];case 3:return o=e.sent(),console.error("LoadClanEventInDateRange hit error "+Object(C.a)(o)),[3,4];case 4:return[2,this.GetAllClanEvents(i)]}})})},e.prototype.GetBestEventsForCurrentUser=function(a,o,r){return Object(E.b)(this,void 0,void 0,function(){var i,t,n,s,c=this;return Object(E.e)(this,function(e){switch(e.label){case 0:return i=new Array,t={l:y.c.LANGUAGE,include_steam_blog:!0,filter_to_played_within_days:a,include_only_game_updates:o},n=y.c.STORE_BASE_URL+"events/ajaxgetbesteventsforuser",[4,I.a.get(n,{params:t,withCredentials:!0,cancelToken:r?r.token:void 0})];case 1:return s=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=s.data.events;e<t.length;e++){var n=t[e],a=c.GetEventLookupKey(n);if(!c.m_mapExistingEvents.has(a)){var o=new D.a(n.clan_steamid);c.InsertEventModelFromClanEventData(o,n)}var r={nAppPriority:n.nAppPriority,bPossibleTakeOver:n.bPossibleTakeOver,event:c.m_mapExistingEvents.get(a)};i.push(r)}}),[2,i]}})})},e.prototype.LoadImportantEventsAroundToday=function(o,c,l,u,p,d){return Object(E.b)(this,void 0,void 0,function(){var r,t,n,a,i,s=this;return Object(E.e)(this,function(e){switch(e.label){case 0:return r=new Array,(t=new Array).push({priority:0,appids:c}),l&&t.push({priority:1,appids:l}),u&&t.push({priority:2,appids:u}),n={count:o,strAppIDPriority:JSON.stringify({prioritized_apps:t}),filterToEventTypes:d?d.toString():"",l:y.c.LANGUAGE},a=y.c.STORE_BASE_URL+"events/ajaxgettodayboundedevents",[4,I.a.get(a,{params:n,withCredentials:!0,cancelToken:p.token})];case 1:return i=e.sent(),Object(S.runInAction)(function(){for(var e=0,t=i.data.events;e<t.length;e++){var n=t[e],a=s.GetEventLookupKey(n);if(!s.m_mapExistingEvents.has(a)){var o=new D.a(n.clan_steamid);s.InsertEventModelFromClanEventData(o,n)}r.push(s.m_mapExistingEvents.get(a))}}),[2,r]}})})},e.prototype.InsertUniqueEventGID=function(e,t,n){this.m_mapClanToGIDs.has(e)||this.m_mapClanToGIDs.set(e,new Array),this.m_mapAppIDToGIDs.has(t)||this.m_mapAppIDToGIDs.set(t,new Array);var a=this.m_mapClanToGIDs.get(e);-1==a.indexOf(n)&&(a.push(n),this.m_mapAppIDToGIDs.get(t).push(n))},e.prototype.ResetModel=function(){},e.prototype.DeleteClanEvent=function(a,o){return Object(E.b)(this,void 0,void 0,function(){var t,n;return Object(E.e)(this,function(e){switch(e.label){case 0:return this.m_mapExistingEvents.has(o)&&(this.m_mapExistingEvents.get(o).deleteInProgress=!0),t=null,(n=new URLSearchParams).append("sessionid",y.c.SESSIONID),n.append("bDelete","1"),n.append("gid",o),[4,I.a.post(y.c.COMMUNITY_BASE_URL+"/gid/"+a.ConvertTo64BitString()+"/ajaxcreateupdatedeletepartnerevents/",n)];case 1:return t=e.sent(),this.RemoveGIDFromList(a,o),[2,t.data]}})})},e.prototype.RemoveGIDFromList=function(e,t){if(this.m_mapExistingEvents.delete(t),this.m_mapClanToGIDs.has(e.GetAccountID())){var n=this.m_mapClanToGIDs.get(e.GetAccountID()),a=n.indexOf(t);0<=a&&n.splice(a,1)}},e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID=function(u,p,d,m,h,_){return void 0===_&&(_=!1),Object(E.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s,c,l;return Object(E.e)(this,function(e){switch(e.label){case 0:return t=Object(O.e)(y.c.LANGUAGE),n=""+t,_?n="0":0!=t&&(n+="_0"),a={appid:p,clan_accountid:u?u.GetAccountID():void 0,announcement_gid:m,event_gid:d,lang_list:n,last_modified_time:h||0,origin:self.origin},r=o=null,o=y.i.is_support||_?("community"===Object(y.e)()?(r=y.c.COMMUNITY_BASE_URL,r+=u?"gid/"+u.ConvertTo64BitString():"ogg/"+p,r+="/"):r=y.c.STORE_BASE_URL+"events/",r+="ajaxgetpartnereventforedit",{params:a,withCredentials:!0}):(r=y.c.STORE_BASE_URL+"events/ajaxgetpartnerevent",{params:a,withCredentials:!1}),[4,I.a.get(r,o)];case 1:return i=e.sent(),s=i.data.event,c=this.GetEventLookupKey(s),this.m_mapExistingEvents.has(c)||(Object(v.a)(s.clan_steamid,"ClanSteamID is missing from data we received"),l=new D.a(s.clan_steamid),this.InsertEventModelFromClanEventData(l,s)),[2,this.m_mapExistingEvents.get(c)]}})})},e.prototype.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached=function(n,a,o,r,i){return Object(E.b)(this,void 0,void 0,function(){var t;return Object(E.e)(this,function(e){if(o&&this.m_mapExistingEvents.has(o))return[2,this.m_mapExistingEvents.get(o)];if(r){if(this.m_mapExistingEvents.has(s.n+r))return[2,this.m_mapExistingEvents.get(s.n+r)];if(this.m_mapAnnouncementBodyToEvent.has(r)&&(t=this.m_mapAnnouncementBodyToEvent.get(r),this.m_mapExistingEvents.has(t)))return[2,this.m_mapExistingEvents.get(t)]}return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGID(n,a,o,r,i)]})})},e.prototype.LoadPartnerEventFromAnnoucementGID=function(t,n,a){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(void 0,t,void 0,n,a)]})})},e.prototype.LoadPartnerEventFromAnnoucementGIDAndClanSteamID=function(t,n,a){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(t,void 0,void 0,n,a)]})})},e.prototype.LoadPartnerEventFromClanEventGID=function(t,n,a){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(void 0,t,n,void 0,a)]})})},e.prototype.LoadPartnerEventFromClanEventGIDAndClanSteamID=function(t,n,a){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(t,void 0,n,void 0,a)]})})},e.prototype.LoadPartnerEventGeneric=function(t,n,a,o,r){return Object(E.b)(this,void 0,void 0,function(){return Object(E.e)(this,function(e){return[2,this.InternalLoadPartnerEventFromClanEventOrClanAnnouncementGIDCached(t,n,a,o,r)]})})},e.prototype.HintLoadImportantUpdates=function(){return Object(E.b)(this,void 0,void 0,function(){var t,n,a,o,r=this;return Object(E.e)(this,function(e){switch(e.label){case 0:return 36e5,(t=Object(i.b)(36e5))==this.m_tsUpdatedAppsQueryTime?[3,2]:(this.m_tsUpdatedAppsQueryTime=t,n={page:1,numPerPage:500,includeAnnouncements:!1},a=y.c.STORE_BASE_URL+"updated/ajaxgetmyappsraw",[4,I.a.get(a,{params:n,withCredentials:!0})]);case 1:(o=e.sent()).data.apps&&0<o.data.apps.length&&Object(S.runInAction)(function(){var e=new Map(o.data.apps.map(function(e){return[e.appid,new u(e)]}));r.m_mapUpdatedApps=e}),e.label=2;case 2:return[2,this.m_mapUpdatedApps]}})})},e.prototype.GetAppImportantUpdate=function(e){return this.HintLoadImportantUpdates().catch(function(e){console.log("UpdatedApps failed to load: ",e.response.data)}),this.m_mapUpdatedApps&&this.m_mapUpdatedApps.get(e)},e.prototype.LoadClanEventLocalizationFromAnnouncementGID=function(n,a){return Object(E.b)(this,void 0,void 0,function(){var t;return Object(E.e)(this,function(e){switch(e.label){case 0:return t=y.c.COMMUNITY_BASE_URL+"/gid/"+n.ConvertTo64BitString()+"/announcements/ajaxgetlocalization/"+a,[4,I.a.get(t)];case 1:return[2,e.sent().data.localization]}})})},e.prototype.LoadBatchPartnerEventsByAnnouncementGID=function(h,_,v){return Object(E.b)(this,void 0,void 0,function(){var r,t,n,a,o,i,s,c,l,u,p,d,m=this;return Object(E.e)(this,function(e){switch(e.label){case 0:if(r=new Array,t=y.c.STORE_BASE_URL+"events/ajaxgetbatchedpartnerevent/",n=Object(O.e)(y.c.LANGUAGE),a=""+n,0!=n&&(a+="_0"),i=o=void 0,h&&((s=h.filter(function(e){return!m.m_mapExistingEvents.has(e)})).sort(),o=s.join(",")),_&&((c=_.filter(function(e){return!m.m_mapAnnouncementBodyToEvent.has(e)||!m.m_mapExistingEvents.has(m.m_mapAnnouncementBodyToEvent.get(e))})).sort(),i=c.join(",")),!o&&!i)return[2,null];l={event_gids:o,announcement_gids:i,lang_list:a,origin:self.origin},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,I.a.get(t,{params:l,cancelToken:v?v.token:void 0})];case 2:return(u=e.sent())&&u.data&&u.data.events&&Object(S.runInAction)(function(){for(var e=0,t=u.data.events;e<t.length;e++){var n=t[e],a=m.GetEventLookupKey(n);if(!m.m_mapExistingEvents.has(a)){var o=new D.a(n.clan_steamid);m.InsertEventModelFromClanEventData(o,n)}r.push(m.m_mapExistingEvents.get(a))}}),[3,4];case 3:return p=e.sent(),d=Object(C.a)(p),console.error("LoadBatchPartnerEventsByAnnouncementGID hit error "+d.strErrorMsg,d),[3,4];case 4:return[2,r]}})})},Object(E.c)([S.observable],e.prototype,"m_mapExistingEvents",void 0),Object(E.c)([S.observable],e.prototype,"m_mapAnnouncementBodyToEvent",void 0),Object(E.c)([S.observable],e.prototype,"m_mapClanToGIDs",void 0),Object(E.c)([S.observable],e.prototype,"m_mapAppIDToGIDs",void 0),Object(E.c)([S.observable],e.prototype,"m_mapUpdatedApps",void 0),Object(E.c)([S.action],e.prototype,"Init",null),Object(E.c)([S.action],e.prototype,"RegisterClanEvents",null),Object(E.c)([S.action],e.prototype,"InsertEventModelFromClanEventData",null),Object(E.c)([S.action],e.prototype,"DeleteClanEvent",null),Object(E.c)([S.action],e.prototype,"RemoveGIDFromList",null),Object(E.c)([S.observable],e.prototype,"GetAppImportantUpdate",null),e}(),d=new p;window.g_PartnerEventStore=d},"76AC":function(e,t,n){e.exports={ActionGetHelp:"bbcodeeditor_ActionGetHelp_39WxJ",DragTarget:"bbcodeeditor_DragTarget_2sUvh",DragOnTopOfMe:"bbcodeeditor_DragOnTopOfMe_1mvpI",DescriptionCtn:"bbcodeeditor_DescriptionCtn_3DQEB",EventEditorLinkInput:"bbcodeeditor_EventEditorLinkInput_25nbu",DefaultEditor:"bbcodeeditor_DefaultEditor_NENu2",ImportHTMLCtn:"bbcodeeditor_ImportHTMLCtn_3sVZH",ImportHTMLTextArea:"bbcodeeditor_ImportHTMLTextArea_DHbRF",ImportHTMLConvertButtons:"bbcodeeditor_ImportHTMLConvertButtons_lnyZa",ImportHTMLCheckBoxLine:"bbcodeeditor_ImportHTMLCheckBoxLine_3R3FN",OptionRow:"bbcodeeditor_OptionRow_2Y3ML",TextEditorToolBarContainer:"bbcodeeditor_TextEditorToolBarContainer_2bOpQ",EmoteOuter:"bbcodeeditor_EmoteOuter_1x3UO",YouTubeInput:"bbcodeeditor_YouTubeInput_3WXTC",YouTubePreviewInsertOption:"bbcodeeditor_YouTubePreviewInsertOption_6ocli"}},"7u3m":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAc9JREFUeNrsmz1Lw1AUhnP8qB+Qkk0pItbVxcX/IM6Cky7iFH+Jk79BwclBB3+AszgUwdVNBxFaCw1E7fW9cAep5pa0NiT3vgdeLjRJm/Ocm/NRiCilAp9tKvDcCIAACIAAsiyEzqAepCqqnvEhzHJSLGVQX7jvSKDPoYO8ADS9BUcAJNBiXgCudUjCJEgABPDLZip2v12obwIXur4DdBK+MeVrHaqJSB2KzKqT2izUgLZd2wH30CF8bFnTusgnlhdUsjmXAFxBe3Au9TEJ3hXpfNkA9M22T4v80TIBuIbzDz73ARe+9wG31pqo1DSWGNqBlgcO16oO4A3b/3XIOafQ8b9PSCWZBh8BYMMSfd3wvEPzrk6DH0OON8Z0vvLDkHAaJAACIICJJJeCy+Aa1Pnj8y+Uwa6lDOpA1S3fewSdjJJIi26EOnC0nTtKInpQalsALfn+CDQJgAA8BYDnP8IS+bwDmuNcXHQVWDURG7QUmf7ZEmV9nysZh7dcGIdbALBpAaD7h6dJDFRshQmAAAiAAAiAAAiAAAiAAAiAAAiAAAjgpyUO+ZmMAuDSIQCZvtj+E4zNuhtU98WJxDgfZ50gfHOUSZAACIAAPLZvAQYAZ32YkpymkAcAAAAASUVORK5CYII="},"9w6b":function(e,t,n){"use strict";var h=n("mrSG"),a=n("vDqi"),_=n.n(a),v=n("2vnA"),g=n("MUT6"),b=n("bxBv"),o=n("qiKp"),r=n("bxiW"),f=n("lkRc"),E=n("bDQf"),i=function(){function e(e){this.m_setShownEvents=new Set,this.m_setReadEvents=new Set,this.m_rgPendingUpload=[],this.m_schUpload=new o.b,this.m_bUploading=!1,this.m_CMInterface=e}return e.prototype.MarkEventShown=function(e,t,n){var a=this.MakeKey(e,n);if(this.m_setShownEvents.has(a))return!1;this.m_setShownEvents.add(a);var o=new g.e;return o.set_event_gid(e),o.set_clanid(t),o.set_display_location(n),o.set_mark_shown(!0),this.QueueForUpload(o),!0},e.prototype.MarkEventRead=function(e,t,n){var a=this.MakeKey(e,n);if(this.m_setReadEvents.has(a))return!1;this.m_setReadEvents.add(a);var o=new g.e;return o.set_event_gid(e),o.set_clanid(t),o.set_display_location(n),o.set_mark_read(!0),this.QueueForUpload(o),!0},e.prototype.MakeKey=function(e,t){return e+"_"+t},e.prototype.QueueForUpload=function(e){this.m_rgPendingUpload.push(e),this.ScheduleUpload()},e.prototype.ScheduleUpload=function(){this.m_bUploading||(30<=this.m_rgPendingUpload.length?this.UploadPendingData():this.m_schUpload.IsScheduled()||this.m_schUpload.Schedule(6e4,this.UploadPendingData))},e.prototype.Flush=function(){return Object(h.b)(this,void 0,void 0,function(){return Object(h.e)(this,function(e){return this.m_bUploading?[2]:[2,this.UploadPendingData()]})})},e.prototype.UploadPendingData=function(){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s,c,l,u,p,d,m;return Object(h.e)(this,function(e){switch(e.label){case 0:if(this.m_bUploading)return[2];if(this.m_schUpload.Cancel(),0==(t=this.m_rgPendingUpload.splice(0,30)).length)return[2];if(n=!1,!this.m_CMInterface)return[3,2];for(a=b.a.Init(g.d),o=0,r=t;o<r.length;o++)i=r[o],a.Body().add_markings(i);return this.m_bUploading=!0,[4,g.g.MarkPartnerEventsForUser(this.m_CMInterface.GetServiceTransport(),a)];case 1:return s=e.sent(),this.m_bUploading=!1,n=1==s.GetEResult(),[3,6];case 2:if(!f.i.logged_in)return[2];c=t.map(function(e){return e.toObject()}),l=Object(f.d)()+"actions/ajaxmarkpartnerevents",(u=new FormData).append("sessionid",f.c.SESSIONID),u.append("request",JSON.stringify(c)),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,_.a.post(l,u,{withCredentials:!0})];case 4:return p=e.sent(),n=1==p.data.success,[3,6];case 5:return d=e.sent(),m=Object(E.a)(d),console.log("CPartnerEventUserTracking.UploadPendingData error "+m.strErrorMsg,m),[3,6];case 6:return n?0<this.m_rgPendingUpload.length&&this.ScheduleUpload():(console.log("Saving news event state failed. Will try again soon!"),this.m_rgPendingUpload=this.m_rgPendingUpload.concat(t),this.m_schUpload.Schedule(6e4,this.UploadPendingData)),[2]}})})},Object(h.c)([r.a],e.prototype,"UploadPendingData",null),e}(),s=n("r64O");n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var c,l,p=function(){function e(e){this.appid=0,this.can_edit=!1,this.owns_app=!1,this.follows_app=!1,this.support_user=!1,this.valve_admin=!1,this.limited_user=!1,this.event_ignored=new Array,this.event_followed=new Array,this.event_followed_flags=new Array,this.clanid=e}return Object(h.c)([v.observable],e.prototype,"clanid",void 0),Object(h.c)([v.observable],e.prototype,"appid",void 0),Object(h.c)([v.observable],e.prototype,"can_edit",void 0),Object(h.c)([v.observable],e.prototype,"owns_app",void 0),Object(h.c)([v.observable],e.prototype,"follows_app",void 0),Object(h.c)([v.observable],e.prototype,"support_user",void 0),Object(h.c)([v.observable],e.prototype,"valve_admin",void 0),Object(h.c)([v.observable],e.prototype,"limited_user",void 0),Object(h.c)([v.observable],e.prototype,"event_ignored",void 0),Object(h.c)([v.observable],e.prototype,"event_followed",void 0),Object(h.c)([v.observable],e.prototype,"event_followed_flags",void 0),e}();(l=c||(c={}))[l.k_ENotifyFlagNone=0]="k_ENotifyFlagNone",l[l.k_ENotifyFlagByEmail=1]="k_ENotifyFlagByEmail",l[l.k_ENotifyFlagByPush=2]="k_ENotifyFlagByPush";var u=function(){function u(){this.m_mapClanToUserPermissions=new Map,this.m_mapAnnounceGIDToVote=new Map,this.m_setReadEventGIDs=new Set,this.m_cm=void 0}return u.Get=function(){return Object(s.a)(!!u.s_EventUserStore,"Have not yet initialized global EventUserStore"),u.s_EventUserStore},u.IsInitialized=function(){return!!u.s_EventUserStore},u.InitGlobal=function(n){return Object(h.b)(this,void 0,void 0,function(){var t;return Object(h.e)(this,function(e){switch(e.label){case 0:return Object(s.a)(!u.s_EventUserStore,"Already initialized global EventUserStore"),[4,(t=new u).Init(n)];case 1:return e.sent(),u.s_EventUserStore=t,window.g_EventUserStore=t,[2]}})})},u.prototype.Init=function(o){return Object(h.b)(this,void 0,void 0,function(){var t,n,a=this;return Object(h.e)(this,function(e){return this.m_cm=o,this.m_tracker=new i(o),f.c.IN_CLIENT||(t=Object(f.f)("partnereventpermissions","application_config"),this.ValidateStoreDefault(t)&&Object(v.runInAction)(function(){t.forEach(function(e){var t=new p(e.clanid),n={result:t,promise:u.RemapToPromise(t)};a.CopyFromResponseToTrack(n,e),a.m_mapClanToUserPermissions.set(e.clanid,n)})}),(n=Object(f.f)("uservotes","application_config"))&&Object(v.runInAction)(function(){n.forEach(function(e){var t=!!e.voted_up||!e.voted_down&&void 0;a.m_mapAnnounceGIDToVote.set(e.clanAnnouncementGID,t)})})),[2]})})},u.prototype.GetTracker=function(){return this.m_tracker},u.prototype.ValidateStoreDefault=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clanid&&"number"==typeof t[0].appid)},u.prototype.RecordEventShown=function(e,t){e&&!e.bOldAnnouncement&&this.m_tracker.MarkEventShown(e.GID,e.clanSteamID.GetAccountID(),t)},u.prototype.RecordEventRead=function(e,t){e&&!e.bOldAnnouncement&&(this.HasEventBeenRead(e.GID)||(this.SetEventAsRead(e.GID),this.m_tracker.MarkEventRead(e.GID,e.clanSteamID.GetAccountID(),t)))},u.prototype.SetEventAsRead=function(e){this.m_setReadEventGIDs.add(e)},u.prototype.HasEventBeenRead=function(e){return this.m_setReadEventGIDs.has(e)},u.RemapToPromise=function(t){return Object(h.b)(this,void 0,void 0,function(){return Object(h.e)(this,function(e){return[2,t]})})},u.prototype.BIsUserLoggedIn=function(){return f.i.logged_in},u.prototype.GetPartnerEventPermissions=function(e){if(!e||!e.BIsValid())return new p(0);var t=e.GetAccountID();return this.m_mapClanToUserPermissions.has(t)||this.LoadSingleAppEventPermissions(e),this.m_mapClanToUserPermissions.get(t).result},u.prototype.BFollowsEvent=function(e,t){return-1!=this.GetPartnerEventPermissions(e).event_followed.indexOf(t)},u.prototype.BFollowsEventAndNotifiedBy=function(e,t,n){var a=this.GetPartnerEventPermissions(e),o=a.event_followed.indexOf(t);return-1!==o&&(a.event_followed_flags[o]&n)==n},u.prototype.BIgnoresEvent=function(e,t){return-1!=this.GetPartnerEventPermissions(e).event_ignored.indexOf(t)},u.prototype.LoadSingleAppEventPermissions=function(a){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){return t=a.GetAccountID(),(n=this.m_mapClanToUserPermissions.get(t))||(n={promise:this.InternalLoadSingleAppEventPermissions(a),result:new p(t)},this.m_mapClanToUserPermissions.set(t,n)),[2,n.promise]})})},u.prototype.CopyFromResponseToTrack=function(e,t){e.result.appid=t.appid,e.result.can_edit=t.can_edit,e.result.clanid=t.appid,e.result.event_followed=t.event_followed,e.result.event_ignored=t.event_ignored,e.result.event_followed_flags=t.event_followed_flags,e.result.follows_app=t.follows_app,e.result.owns_app=t.owns_app,e.result.support_user=t.support_user,e.result.valve_admin=t.valve_admin,e.result.limited_user=t.limited_user},u.prototype.InternalLoadSingleAppEventPermissions=function(l){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s,c=this;return Object(h.e)(this,function(e){switch(e.label){case 0:t=null,n=l.GetAccountID(),a=!Boolean(f.i.logged_in),this.m_mapClanToUserPermissions.has(n)||(o=new p(l.GetAccountID()),this.m_mapClanToUserPermissions.set(n,{result:o,promise:u.RemapToPromise(o)})),e.label=1;case 1:return e.trys.push([1,4,5,6]),Boolean(f.i.logged_in)?(r=f.c.COMMUNITY_BASE_URL+"gid/"+l.ConvertTo64BitString()+"/ajaxgetpartnereventpermissions/",[4,_.a.get(r,{withCredentials:!0})]):[3,3];case 2:1!=(t=e.sent()).data.success?(console.log("Partner Events Failed Load:"+Object(E.a)(t.data).strErrorMsg),a=!0):(i=this.m_mapClanToUserPermissions.get(n),this.CopyFromResponseToTrack(i,t.data)),e.label=3;case 3:return[3,6];case 4:return s=e.sent(),t=s.response,a=!0,s&&void 0!==s.response&&void 0!==s.response.data&&void 0!==s.response.data.success&&21==s.response.data.success||console.log(Object(E.a)(s).strErrorMsg,s),[3,6];case 5:return a&&Object(v.runInAction)(function(){var e=c.m_mapClanToUserPermissions.get(n);e.result.appid=t&&t.data?t.data.appid:0,e.result.can_edit=!1,e.result.clanid=t&&t.data?t.data.clanid:0,e.result.event_followed=new Array,e.result.event_ignored=new Array,e.result.event_followed_flags=new Array,e.result.follows_app=!1,e.result.owns_app=!1,e.result.support_user=!1,e.result.valve_admin=!1,e.result.limited_user=!1}),[7];case 6:return[2,this.m_mapClanToUserPermissions.get(n).result]}})})},u.prototype.SetFollowOrUnfollowEvent=function(l,u,p,d,m){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,s,o,r,i,c=this;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=this.GetPartnerEventPermissions(p),n=t.event_followed.indexOf(d),a=0,-1!==n&&(a=t.event_followed_flags[n],l?m=a&~m:m|=a),s=0==m,o=Object(f.d)()==f.c.STORE_BASE_URL,r=(o?f.c.STORE_BASE_URL+"events":f.c.COMMUNITY_BASE_URL+"/gid/"+p.ConvertTo64BitString())+(s?"/unfolloworunignoreevent":"/followorignoreevent"),(i=new URLSearchParams).append("sessionid",f.c.SESSIONID),i.append("authwgtoken",f.i.authwgtoken),i.append("ignore",""+u),i.append("gid",d),i.append("notification_flag",""+m),i.append("clan_accountid",""+p.GetAccountID()),[4,_.a.post(r,i,{withCredentials:!0})];case 1:return e.sent(),Object(v.runInAction)(function(){var e=c.m_mapClanToUserPermissions.get(p.GetAccountID()),t=null,n=null,a=null,o=null;s?(t=u?e.result.event_ignored:e.result.event_followed,a=u?null:e.result.event_followed_flags):u?(t=e.result.event_followed,a=e.result.event_followed_flags,n=e.result.event_ignored):(t=e.result.event_ignored,n=e.result.event_followed,o=e.result.event_followed_flags);var r=t.indexOf(d);if(-1<r&&(t.splice(r,1),a&&a.splice(r,1)),n){var i=n.indexOf(d);-1==i?(n.push(d),o&&o.push(m)):o[i]=m}}),[2]}})})},u.prototype.Vote=function(i,s,c){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r;return Object(h.e)(this,function(e){switch(e.label){case 0:return i.AnnouncementGID?(t=this.m_mapAnnounceGIDToVote.get(i.AnnouncementGID))===s?[2,!0]:(this.m_mapAnnounceGIDToVote.set(i.AnnouncementGID,s),Object(v.runInAction)(function(){!0===t&&i.UpdateVoteCount("up",-1),!1===t&&i.UpdateVoteCount("down",-1),!0===s&&i.UpdateVoteCount("up",1),!1===s&&i.UpdateVoteCount("down",1)}),this.m_cm?((n=b.a.Init(g.f)).Body().set_announcementid(i.AnnouncementGID),n.Body().set_vote_up(!!s),n.Body().set_clan_accountid(i.clanSteamID.GetAccountID()),[4,g.g.RateClanAnnouncement(this.m_cm.GetServiceTransport(),n)]):[3,2]):[2,!1];case 1:return[2,1==e.sent().GetEResult()];case 2:return a=0<=window.location.href.indexOf(f.c.COMMUNITY_BASE_URL)?f.c.COMMUNITY_BASE_URL+"gid/"+i.clanSteamID.ConvertTo64BitString()+"/announcements/rate/"+i.AnnouncementGID:f.c.STORE_BASE_URL+"updated/ajaxrateupdate/"+i.AnnouncementGID,(o=new URLSearchParams).append("sessionid",f.c.SESSIONID),o.append("wgauthtoken",f.i.authwgtoken),o.append("voteup",s?"1":"0"),o.append("clanid",""+i.clanSteamID.GetAccountID()),o.append("ajax","1"),r={withCredentials:!0,cancelToken:c.token},[4,_.a.post(a,o,r)];case 3:return[2,1==e.sent().data.success]}})})},u.prototype.LoadMyVote=function(r,i){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o;return Object(h.e)(this,function(e){switch(e.label){case 0:return r.AnnouncementGID?this.m_mapAnnounceGIDToVote.has(r.AnnouncementGID)?(console.log(r.AnnouncementGID,this.m_mapAnnounceGIDToVote.get(r.AnnouncementGID)),[2,this.m_mapAnnounceGIDToVote.get(r.AnnouncementGID)]):(t=void 0,this.m_cm?((n=b.a.Init(g.c)).Body().set_announcementid(r.AnnouncementGID),[4,g.g.GetClanAnnouncementVoteForUser(this.m_cm.GetServiceTransport(),n)]):[3,2]):[3,5];case 1:return 1==(o=e.sent()).GetEResult()&&(t=!!o.Body().voted_up()||!o.Body().voted_down()&&void 0),[3,4];case 2:return a=f.c.COMMUNITY_BASE_URL+"ogg/"+r.appid+"/announcements/ajaxgetmyvote/"+r.AnnouncementGID,[4,_.a.get(a,{withCredentials:!0,cancelToken:i.token})];case 3:o=e.sent(),t=!!o.data.voted_up||!o.data.voted_down&&void 0,e.label=4;case 4:return this.m_mapAnnounceGIDToVote.set(r.AnnouncementGID,t),[2,t];case 5:return[2,void 0]}})})},u.prototype.SetVote=function(e,t){this.m_mapAnnounceGIDToVote.set(e,t)},u.prototype.BHasMyVote=function(e){return!!e.AnnouncementGID&&this.m_mapAnnounceGIDToVote.has(e.AnnouncementGID)},u.prototype.GetPreviouslyLoadedVote=function(e){return e.AnnouncementGID?this.m_mapAnnounceGIDToVote.get(e.AnnouncementGID):void 0},u.prototype.BShowEmailEditorTab=function(e){return!!e.BHasEmailEnabled()||this.GetPartnerEventPermissions(e.clanSteamID).valve_admin},u.prototype.BShowSaleEditorTab=function(e){return!!e.BHasSaleEnabled()||this.GetPartnerEventPermissions(e.clanSteamID).valve_admin},Object(h.c)([v.observable],u.prototype,"m_mapClanToUserPermissions",void 0),Object(h.c)([v.observable],u.prototype,"m_mapAnnounceGIDToVote",void 0),Object(h.c)([v.observable],u.prototype,"m_setReadEventGIDs",void 0),Object(h.c)([v.action],u.prototype,"CopyFromResponseToTrack",null),u}()},BVKn:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("mrSG"),a=n("vDqi"),s=n.n(a),c=n("lkRc"),o=n("6oCP"),l=n("3+zv"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.d)(t,e),t.prototype.DeleteOldAnnouncement=function(o,r){return Object(i.b)(this,void 0,void 0,function(){var t,n,a;return Object(i.e)(this,function(e){switch(e.label){case 0:return(t=new URLSearchParams).append("sessionid",c.c.SESSIONID),n=c.c.COMMUNITY_BASE_URL+"/gid/"+o.ConvertTo64BitString()+"/announcements/ajaxdeleteannouncement/"+r,[4,s.a.post(n,t)];case 1:if(1!=(a=e.sent()).data.success)throw a.data;return this.RemoveGIDFromList(o,l.n+r),[2,a.data]}})})},t.Get=function(){return t.sm_Instance||(t.sm_Instance=new t).Init(),t.sm_Instance},t}(o.a)},BpzF:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return g});var c=n("mrSG"),a=n("okNM"),l=n("q1tI"),r=n("ir+G"),o=n("fpVW"),i=n.n(o),u=n("YLyR"),s=n("TLQK"),p=n("N0Ye"),d=n("lkRc"),m=n("6eA3"),h=n.n(m),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.componentDidMount=function(){r.a.EnsureStoreCapsuleInfoLoaded(this.props.appid)},t.prototype.ConstructSocialLinks=function(){var e=r.a.GetStoreCapsuleInfo(this.props.appid).GetAppStoreData(),t=new Array;if(e.social)for(var n=0,a=e.social;n<a.length;n++){var o=a[n];3!=o.external_type&&t.push(l.createElement("a",{key:"app_social_link_"+e.appid+"_"+o.external_type,href:(d.c.IN_CLIENT?"steam://openurl_external/":"")+o.external_url,"data-tooltip-text":o.external_user_name,target:d.c.IN_CLIENT?void 0:"_blank",rel:"noopener noreferrer"},l.createElement("img",{className:h.a.AppSocialLink,src:d.c.IMG_URL+"social/"+Object(s.c)("#SocialMedia_Type_ShortName_"+o.external_type).toLocaleLowerCase()+"_large.png"})))}return t},t.prototype.render=function(){var e=this.ConstructSocialLinks();return 0!=e.length&&d.c.IMG_URL?l.createElement("div",{className:h.a.AppSocialLinksCtn},l.createElement("div",{className:i.a.EventEditorTextTitle},Object(s.c)("#EventDisplay_SocialTitle")),l.createElement("div",{className:h.a.AppSocialLinks},e)):null},t=Object(c.c)([a.observer],t)}(l.Component),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(c.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.event,n=e.nOverrideStartTime,a=e.nOverrideEndTime,o=this.props.stylesmodule?Object(c.a)(Object(c.a)({},h.a),this.props.stylesmodule):h.a,r=n||(t.bOldAnnouncement?t.postTime:t.GetStartTimeAndDateUnixSeconds()),i=a||t.GetEndTimeAndDateUnixSeconds(),s=!Object(p.a)(t.type);return l.createElement("div",{className:o.EventDetailTimeInfo},l.createElement(u.b,{startDateAndTime:r,endDateAndTime:i,bHideEndTime:s,stylesmodule:o}))},t=Object(c.c)([a.observer],t)}(l.Component),g=Object(a.observer)(function(e){return l.createElement("div",{className:h.a.EventDetailTimeInfo},l.createElement(u.c,{startDateAndTime:e.event.GetStartTimeAndDateUnixSeconds(),endDateAndTime:e.event.GetEndTimeAndDateUnixSeconds(),bHideEndTime:!Object(p.a)(e.event.type)}))})},D4G2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABApJREFUeNrsm2tIFUEUx2evRl5ISnugZuULIwoVtIykIIkgowdmERERUh9CqQ/Rh+gFCX4oKCIjyi8VQtETsoLoARViJEokRYlako9Iy4JKfLX9hz2CwXrv7t6ZvbvcPfDjwr3uzJ7/npk5c3ZUVFVlkWw+FuHmCeAJ4AngCeAJ4AkQwRbtgnucBzJALPgNPoJ28FdI6zwTdCDp4DToUvWtF1SDHIPtFUz0m5GLp9noeAw4BYZV43YFxOm05QNF4DmosirADNABMm1wPgE0qdasHWSAKJALKkAr/TYIUq0KcIAa4Y0lS3Q+HjSroVk/+Knz/eFAfQe7sfpxDckU4bYqx2opKsb6UcwIMElnLPLhsECw8xskOc9F9RPFoIaGyX/9B8oDknSWybmgHhQJXOaOSlg634AP4AH4Dm6Bh6DVzDKYE0ThSoqSUJ5+lmqPVUx0D4EioDeIygdBA8gL4UmtsiGROhcoygIJ8AUMBGk8G7wC1SDRws1lSXb+OCjngW5FgFHw0kAnCthF6ekZkGLiBhMlOT4ENoNjoW6GrpvoNAbsBW3gLtgKpgS5ZkCSAD3gpojdYA34ZmGHuQ5cpWtrSZilJNJ46w/3TksxUBbfDS4K6m+ElqdO0A3mg2WSlsFsUQLwMX4DbHLRNr/eqLCBhkAm2EgC7ABPXCRAr9E/DFQQ8YM7FK61FAUJYKELBGgTIUA3fSaDPS6rdBkWIFgm+M6lpb4mUUXRey50fhA0ihLgLBh2mQANlAkKEaCTNhNusvuiEyE/7QmyXCJAhqhJcHy+vtZMo2G0RrP3afTNEB8KBeCpwwUwnbIrJo/I8KxwJzgCUh3mfD/lLH9kRAC3eLCIabW1FWA/bTudYufNOm82AuJAF02KzIFPPw38MHuhz2Qnlxw69iutOG9lDuDDoAVMd5Dzb0EuZYBMZgRw4zV2XuoadYjz/BV5qVXnrQjA7THY7pAU+STTqtKWTQnhpCjPCy6D9DA5/wIUMq3MFhYBxtJkXncvY9pJDrusAywBX0NtSBF0VthHe4Xl9FnK5J0/6qPoaxF146Imo9dUQFkj2flCUc6LFIDvwK7RBDlbYtjzCGsW2Wiop8TyafxvA1ESx3wdKGHa+0oWTgGmgsVgNVjPtBcbMo1PUCdo8yVl2dUTYBY4BOYw7VxeLGWAKbTbUmya6d8z7aVrnVyJ9Q8ORINy0KPab31gn4DDF4YItgz66SmU2RDun0AVuAB+2ZVQGM0DeNivBFtAMZgpcBvLi5j8LfQjJur4q+REiM/2eSRIPiU+aQZzhc+UL/DS9TOmFVtHWBhNVCY4mWmnypJo2IwdjBikp8xTVl5XHGIOM8X7t7kIN08ATwBPAE8ATwBPgAi2fwIMABJGc33swO3GAAAAAElFTkSuQmCC"},DRMf:function(e,t,n){e.exports={Main:"basicpartnereventrender_Main_1Zn_5"}},DTkY:function(e,t,n){e.exports={sketchfab_play_overlay_image:"eventbbcodesketchfab_sketchfab_play_overlay_image_j_bDC",sketchfabmodelembedded:"eventbbcodesketchfab_sketchfabmodelembedded_1hkVJ",dynamiclink_box:"eventbbcodesketchfab_dynamiclink_box_2OrAL",dynamiclink_preview:"eventbbcodesketchfab_dynamiclink_preview_3__9J",dynamiclink_content:"eventbbcodesketchfab_dynamiclink_content_2ocug",dynamiclink_name:"eventbbcodesketchfab_dynamiclink_name_3a1nw",dynamiclink_type:"eventbbcodesketchfab_dynamiclink_type_31hqF",dynamiclink_author:"eventbbcodesketchfab_dynamiclink_author_13lYj"}},Ee63:function(e,t,n){e.exports={DateAndTime:"localdateandtime_DateAndTime_2V6GL",DateAndTimeInline:"localdateandtime_DateAndTimeInline_HZ6b2",At:"localdateandtime_At_Fn5EU",ActiveEvent:"localdateandtime_ActiveEvent_rT7Ek",ActiveEventCallOut:"localdateandtime_ActiveEventCallOut_2pJft",RightSideTitles:"localdateandtime_RightSideTitles_4LAnP",DateToolTip:"localdateandtime_DateToolTip_2E5LH",ShortDateAndTime:"localdateandtime_ShortDateAndTime_MBkkh",ShortDateRange:"localdateandtime_ShortDateRange_3CN6I"}},G24H:function(e,t,n){e.exports={AppPartnerEventsPage:"apppartnereventspage_AppPartnerEventsPage_3CJsg",AppPartnerEventsBody:"apppartnereventspage_AppPartnerEventsBody_1XLRr",AppPartnerEventsBanner:"apppartnereventspage_AppPartnerEventsBanner_1HRiM",AppBannerTitle:"apppartnereventspage_AppBannerTitle_1iqjH",AppBannerLogoCtn:"apppartnereventspage_AppBannerLogoCtn_2EV_W",AppBannerLogo:"apppartnereventspage_AppBannerLogo_dGGTg",AppBannerGroup:"apppartnereventspage_AppBannerGroup_qexk-",ClanBanner:"apppartnereventspage_ClanBanner_161DW",AppTitleGroup:"apppartnereventspage_AppTitleGroup_2ttnb",AppBannerLinks:"apppartnereventspage_AppBannerLinks_D1bMm",AppBannerLink:"apppartnereventspage_AppBannerLink_3Yoms",AppPartnerEventsContainer:"apppartnereventspage_AppPartnerEventsContainer_3GCEy",PartnerEvent:"apppartnereventspage_PartnerEvent_1KsYS",LibraryViewSubtitle:"apppartnereventspage_LibraryViewSubtitle_1rbgK",EventDetailsBody:"apppartnereventspage_EventDetailsBody_3NW5v",ControlSection:"apppartnereventspage_ControlSection_2pA5C",NoGameLink:"apppartnereventspage_NoGameLink_2GfPe",ControlSectionWidth:"apppartnereventspage_ControlSectionWidth_3yfs7",ControlSectionRightSide:"apppartnereventspage_ControlSectionRightSide_2tSyr",GameArt:"apppartnereventspage_GameArt_2a5oS",ScrollButton:"apppartnereventspage_ScrollButton_1t_97",Up:"apppartnereventspage_Up_3vBD2",Down:"apppartnereventspage_Down_3VePR",CloseButton:"apppartnereventspage_CloseButton_1_vCR",AnimIn:"apppartnereventspage_AnimIn_240i5",transitionIn:"apppartnereventspage_transitionIn_2jG5N",ClickableBG:"apppartnereventspage_ClickableBG_308ED",DirectionState:"apppartnereventspage_DirectionState_Bv96j",EventTypeAndTimeRow:"apppartnereventspage_EventTypeAndTimeRow_3bWTO",WithReminder:"apppartnereventspage_WithReminder_1C5Dv",TimeandPostedBy:"apppartnereventspage_TimeandPostedBy_2WwG2",EventType:"apppartnereventspage_EventType_Udzrp",PostedBy:"apppartnereventspage_PostedBy_2VqeQ",ReminderContainer:"apppartnereventspage_ReminderContainer_3Vf2M"}},I3Kc:function(e,t,n){e.exports={mentionDialogPosition:"suggestdialog_mentionDialogPosition_3isL0",mentionDialog:"suggestdialog_mentionDialog_1QU3c",mentionSearchText:"suggestdialog_mentionSearchText_1xVcZ",suggestOption:"suggestdialog_suggestOption_vquL9",nickname:"suggestdialog_nickname_2dKJq",selected:"suggestdialog_selected_boNOG",mentionSearchMatch:"suggestdialog_mentionSearchMatch_2_0t_"}},I5J2:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkEyODBFQkREMDA5MTFFOTk1RkJEMjNCODFENTVDNzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkEyODBFQkVEMDA5MTFFOTk1RkJEMjNCODFENTVDNzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QTI4MEVCQkQwMDkxMUU5OTVGQkQyM0I4MUQ1NUM3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QTI4MEVCQ0QwMDkxMUU5OTVGQkQyM0I4MUQ1NUM3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqJtXjIAAAQZSURBVHja7JtPSBRRHMdnR6E/9kc9RF3yEFgpHsxL2B9Xq5WgwLrmQUgiKE8udezQIW+JdZKgQrpHJplUZG7qJYqKcq0OnpIgTfujkLl9X/6mph/vjTvr7O7M2/3BB5zZmfX9vvPem/f7/d6GEomEkctmGjluOS9A4QrvLwF1RBUoB6WgKE3t/Q6mwDh4BQaJ6VS/MJTCHCB6TRNoAYc9EHGltgDugRvgNlh0dbcQIEmEWM0gnvCvjVEbQ8n6lWwPqADdYE9AhvZTcAq88WIItIIrYLXi80nwADwBY2ACzKbJsQ2gDGwH+8EhsFlx7TxoA9dSHQJCnE6H7tYHGkGBi2HkNQXUhrsO7bzsNCScnO9RfOEoqMmi0ypEm0YUbb6pEkH1ZbIn/xOcA6YPnbcQbYtSW2U9ISkBWiU3z4B6HzvOqac2c2tdToBKMCdxviZAzlvskoggfKtQCSDGSEzS7esD6LxFWDIcYvb5wH5xs6TLRAPsvEVU4lczF8CUrPBGfD7huVnB8rdD3PLNigabKJCx21nX62p/WoJ8sVs5+fxXgBZ2QR94plHUK3zpZedarKWwCGk/saiuEQxoFvpHwH0WRW4yKZYvZGv7hxrmPkS88pHlQuosAewmnvwvDQVYlPTqPwJUsZNDGmfAYuy4ypTM/mMaC/CWvw1MyuHZbUJjAbhvpaYkgflVYwG+seOifF2AUkd2W6+xv+t4mt2kRZDdyjQWYCs7nhICfGAnd2gsQAU7HhcCvGAn92kswF52/FoIMCxZMxdoOt9F2LnHJq2RF2wnRZ79gIYCHARbWDA0KAT4QiLYrU1DAXhOoB9MW+uAbvbhEVCjkfPCl6Ps3HUrH2DQmI+DbbYLRkGtsZRRCbKFaJ7bbTv3jt52i1YPEOHvBXajuKFdg6ffzpwXdtGw0n2sqjIsSYuHcyUtblDRYF5SGKkOoPPVisJI5XKlsZMalMbCqZbGLLoUxdGom90XWaoBqIqjnW7L47cUpeaRAJbHe9yWxy0Ruhw2HvSCiA82SESoLSrrdOq1yW6RuQpWKT6fpGzrkPFvi4zIKs14uIYQ7/KNlKsoo3e4CGwajTRukbGz06F7qazYxZPs8Hi3WIzP9m63yKh2X5wA7z0WwEvn4263yaU67o6BfsVs60YAL5wXbbgDjqdSzU5lp+h/aWXQAMLgDPushCJNlXWA8y7/n9gq+5nW8i+Npa15K9oq69VsXOyyB8ie/A/QkOk3STbS4rInP0ch+KNspIly1vlMC+A75zMpgC+dz5QAvnU+EwL42nlh6fy1xyVw2s/O25OiXgQrovS81uEa3znv5RBISCpMvnfeyx4grNpY+qnKmqA47/Uk+Jxi9AEqOy3Q37V+dd7rHhBIy2+RyQuQFyC37bcAAwCWTwvXBm8jOgAAAABJRU5ErkJggg=="},KEpR:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return _});var r,a,i,o,s=n("mrSG"),c=n("2vnA"),l=n("mgoM"),u=n("lkRc"),p=n("O0NR"),d=n("5bld");(a=r||(r={})).k_ERecent="recent",a.k_ELibrary="library",a.k_EWishist="wishlist",a.k_EFollowing="following",a.k_ERecommended="recommended",a.k_ESteam="steam",a.k_EFeatured="featured",(o=i||(i={})).k_ENews="news",o.k_EEvents="events",o.k_EStreaming="streaming",o.k_EUpdates="updates",o.k_EReleases="releases",o.k_ESales="sales";var m=new Map([[i.k_ENews,[l.a.k_ENewsEvent]],[i.k_EEvents,[l.a.k_EChatEvent,l.a.k_EIRLEvent,l.a.k_EInGameBonusXPEvent,l.a.k_EInGameLootEvent,l.a.k_EInGamePerksEvent,l.a.k_EInGameEventGeneral,l.a.k_EInGameChallengeEvent,l.a.k_EInGameContestEvent]],[i.k_EStreaming,[l.a.k_EBroadcastEvent]],[i.k_EUpdates,[l.a.k_ESmallUpdateEvent,l.a.k_ERegularUpdateEvent,l.a.k_EMajorUpdateEvent]],[i.k_EReleases,[l.a.k_EGameReleaseEvent,l.a.k_EBetaReleaseEvent,l.a.k_EFutureReleaseEvent,l.a.k_EDLCReleaseEvent,l.a.k_ESeasonRelease]],[i.k_ESales,[l.a.k_EGameSalesEvent,l.a.k_EGameItemSalesEvent,l.a.k_EFreeTrial,l.a.k_ECrosspostEvent]]]);function h(e){return"U"+e+"-event-calendar-prefs"}var _=new(function(){function e(){this.m_rgEventTypeGroupsAllowed=new Array,this.m_rgGameSources=new Array}return e.prototype.GetGameSources=function(){return this.m_rgGameSources},e.prototype.GetEventTypeSet=function(){return this.m_rgEventTypeGroupsAllowed},Object.defineProperty(e.prototype,"enabledEventTypeSet",{get:function(){for(var t=new Set,e=0,n=this.m_rgEventTypeGroupsAllowed;e<n.length;e++){var a=n[e];m.get(a).forEach(function(e){return t.add(e)})}return t},enumerable:!0,configurable:!0}),e.prototype.MapClanEventTypeToGroup=function(n){var a=null;return m.forEach(function(e,t){-1!==e.indexOf(n)&&(a=t)}),a||i.k_EEvents},e.prototype.InitializeCheckboxes=function(e){if(e){var t=window.localStorage.getItem(h(e));if(t){var n=JSON.parse(t);if(n.rgEventTypeGroupsAllowed&&n.rgGameSources){var a=n.rgEventTypeGroupsAllowed,o=n.rgGameSources;return this.m_rgEventTypeGroupsAllowed=a,void(this.m_rgGameSources=o)}}this.m_rgEventTypeGroupsAllowed=[i.k_ENews,i.k_EEvents,i.k_EStreaming,i.k_EUpdates,i.k_EReleases,i.k_ESales],this.m_rgGameSources=[r.k_ELibrary,r.k_EWishist,r.k_EFollowing,r.k_ERecommended,r.k_ESteam]}else this.m_rgEventTypeGroupsAllowed=[i.k_ENews,i.k_EEvents,i.k_EStreaming,i.k_EUpdates,i.k_EReleases,i.k_ESales],this.m_rgGameSources=[r.k_ERecommended]},e.prototype.SaveFilterPreferences=function(){if(u.i.logged_in){var e={rgEventTypeGroupsAllowed:this.m_rgEventTypeGroupsAllowed,rgGameSources:this.m_rgGameSources};window.localStorage.setItem(h(u.i.accountid),JSON.stringify(e))}},e.prototype.BIsEventTypeGroupAllowed=function(e){return this.m_rgEventTypeGroupsAllowed.includes(e)},e.prototype.BIsGameSourceAllowed=function(e){return this.m_rgGameSources.includes(e)},e.prototype.SetEventTypeGroupAllowed=function(e,t){var n=this.m_rgEventTypeGroupsAllowed.indexOf(e);t&&n<0?this.m_rgEventTypeGroupsAllowed.push(e):!t&&0<=n&&this.m_rgEventTypeGroupsAllowed.splice(n,1),this.SaveFilterPreferences(),p.b.RecordFilterChangeEvent(this)},e.prototype.EnforceMutuallyExclusiveSources=function(e,t,n){var a=this.m_rgGameSources.indexOf(e),o=this.m_rgGameSources.indexOf(t);if(0<=a&&0<=o){var r=n===e?o:a;this.m_rgGameSources.splice(r,1)}},e.prototype.SetGameSourceAllowed=function(e,t){var n=this.m_rgGameSources.indexOf(e);t&&n<0?this.m_rgGameSources.push(e):!t&&0<=n&&this.m_rgGameSources.splice(n,1),t&&this.EnforceMutuallyExclusiveSources(r.k_ERecent,r.k_ELibrary,e),this.SaveFilterPreferences(),p.b.RecordFilterChangeEvent(this)},e.prototype.BShouldDisplayEvent=function(e){var t=e.GetSource(),n=Boolean(e.appInfo&&e.appInfo.last_played&&e.appInfo.last_played+15552e3>=Date.now()/1e3);return this.enabledEventTypeSet.has(e.event_type)&&(Boolean(t&d.a.k_eRequired)||!!(this.m_rgGameSources.includes(r.k_ERecent)&&n||this.m_rgGameSources.includes(r.k_ELibrary)&&t&d.a.k_eLibrary||this.m_rgGameSources.includes(r.k_EWishist)&&t&d.a.k_eWishlist||this.m_rgGameSources.includes(r.k_EFollowing)&&t&d.a.k_eFollowing||this.m_rgGameSources.includes(r.k_ERecommended)&&t&d.a.k_eRecommended||this.m_rgGameSources.includes(r.k_ESteam)&&t&d.a.k_eSteam||this.m_rgGameSources.includes(r.k_EFeatured)&&t&d.a.k_eFeatured))},Object(s.c)([c.observable],e.prototype,"m_rgEventTypeGroupsAllowed",void 0),Object(s.c)([c.observable],e.prototype,"m_rgGameSources",void 0),Object(s.c)([Object(c.computed)({keepAlive:!0})],e.prototype,"enabledEventTypeSet",null),Object(s.c)([c.action],e.prototype,"SetEventTypeGroupAllowed",null),Object(s.c)([c.action],e.prototype,"SetGameSourceAllowed",null),e}());window.g_EventCalendarVisibilityStore=_},Ltvz:function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_thumbs_up_selected.png?v=8293922cab400288e38f80abc9926f08"},N0Ye:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n("mgoM"),o=n("TLQK");function r(e){switch(e){case a.a.k_EBetaReleaseEvent:case a.a.k_EIRLEvent:case a.a.k_EGameEvent:case a.a.k_EMeetingEvent:case a.a.k_ESpecialCauseEvent:case a.a.k_EMusicAndArtsEvent:case a.a.k_ETripEvent:case a.a.k_ESportsEvent:case a.a.k_EChatEvent:case a.a.k_EBroadcastEvent:case a.a.k_EESportTournamentStreamEvent:case a.a.k_EDevStreamEvent:case a.a.k_EFamousStreamEvent:case a.a.k_EGameSalesEvent:case a.a.k_EGameItemSalesEvent:case a.a.k_EInGameBonusXPEvent:case a.a.k_EInGameLootEvent:case a.a.k_EInGamePerksEvent:case a.a.k_EInGameEventGeneral:case a.a.k_EInGameChallengeEvent:case a.a.k_EInGameContestEvent:case a.a.k_EFreeTrial:case a.a.k_ESeasonRelease:case a.a.k_EOtherEvent:case a.a.k_ECrosspostEvent:return!0}return!1}function i(e){var t="#PartnerEvent_"+e,n=Object(o.c)(t);return n!=t?n:Object(o.c)("#PartnerEvent_Other")}},O0NR:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return m});var a,o,r=n("vDqi"),i=n.n(r),s=n("lkRc"),c=n("qiKp"),l=n("KEpR");(o=a||(a={}))[o.k_eDiscussions=0]="k_eDiscussions",o[o.k_eThumbsUp=1]="k_eThumbsUp",o[o.k_eClickThrough=2]="k_eClickThrough",o[o.k_eMuted=3]="k_eMuted",o[o.k_ePlayedVideo=4]="k_ePlayedVideo",o[o.k_eReminder_Opened=5]="k_eReminder_Opened",o[o.k_eReminder_MobilePush=6]="k_eReminder_MobilePush",o[o.k_eReminder_Email=7]="k_eReminder_Email",o[o.k_eReminder_CalendarApple=8]="k_eReminder_CalendarApple",o[o.k_eReminder_CalendarGoogle=9]="k_eReminder_CalendarGoogle",o[o.k_eReminder_CalendarOutlook=10]="k_eReminder_CalendarOutlook",o[o.k_eReminder_EmailUnverified=11]="k_eReminder_EmailUnverified",o[o.k_eReminder_MobilePushMissing=12]="k_eReminder_MobilePushMissing";var m=new(function(){function e(){this.m_nPastViewedIndex=0,this.m_nPastViewedDays=0,this.m_nFutureViewedIndex=0,this.m_nFutureViewableEvents=0,this.m_nLastRecordedFilter=0,this.m_sBrowserID=void 0,this.m_scheduledFilterChange=new c.b,this.m_scheduledFutureStats=new c.b,this.m_scheduledPastStats=new c.b}return e.prototype.RecordViewedEvent=function(t,e){for(var n=this,a=t.GetStoreInitializationTimestamp().getTime()/1e3,o=this.m_nFutureViewableEvents=0,r=void 0,i=null,s=0,c=t.GetCalendarEventList();s<c.length;s++){var l=c[s],u=l.start_time>a;if(l.unique_id==e&&(r=o,i=l),u)this.m_nFutureViewableEvents++;else if(void 0!==r)break;o++}if(void 0!==r)if(r<this.m_nFutureViewableEvents){var p=this.m_nFutureViewableEvents-r;if(this.m_nFutureViewedIndex<p){this.m_nFutureViewedIndex=p;this.m_scheduledFutureStats.Schedule(500,function(){var e=Math.min(n.m_nFutureViewedIndex,4095)|Math.min(n.m_nFutureViewableEvents,255)<<12|Math.min(n.GetTimeSpentOnPageS(t),2047)<<20;m.SendExperimentEventToSteam(18,e)})}}else{var d=r-this.m_nFutureViewableEvents;if(this.m_nPastViewedIndex<d){this.m_nPastViewedIndex=d,this.m_nPastViewedDays=Math.floor((a-i.start_time)/86400);this.m_scheduledPastStats.Schedule(500,function(){var e=Math.min(n.m_nPastViewedIndex,4095)|Math.min(n.m_nPastViewedDays,255)<<12|Math.min(n.GetTimeSpentOnPageS(t),2047)<<20;m.SendExperimentEventToSteam(17,e)})}}},e.prototype.RecordFilterChangeEvent=function(t){var n=this;this.m_scheduledFilterChange.Schedule(1e3,function(){var e=0;t.BIsGameSourceAllowed(l.b.k_ELibrary)&&(e|=1),t.BIsGameSourceAllowed(l.b.k_EWishist)&&(e|=2),t.BIsGameSourceAllowed(l.b.k_EFollowing)&&(e|=4),t.BIsGameSourceAllowed(l.b.k_ERecommended)&&(e|=8),t.BIsGameSourceAllowed(l.b.k_ESteam)&&(e|=16),t.BIsGameSourceAllowed(l.b.k_EFeatured)&&(e|=32),t.BIsGameSourceAllowed(l.b.k_ERecent)&&(e|=64),t.BIsEventTypeGroupAllowed(l.a.k_ENews)&&(e|=1024),t.BIsEventTypeGroupAllowed(l.a.k_EEvents)&&(e|=2048),t.BIsEventTypeGroupAllowed(l.a.k_EStreaming)&&(e|=4096),t.BIsEventTypeGroupAllowed(l.a.k_EUpdates)&&(e|=8192),t.BIsEventTypeGroupAllowed(l.a.k_EReleases)&&(e|=16384),t.BIsEventTypeGroupAllowed(l.a.k_ESales)&&(e|=32768),e!=n.m_nLastRecordedFilter&&(n.m_nLastRecordedFilter=e,n.SendExperimentEventToSteam(16,e))})},e.prototype.GetTimeSpentOnPageS=function(e){var t=e.GetStoreInitializationTimestamp(),n=new Date;return Math.max(0,Math.floor((n.getTime()-t.getTime())/1e3))},e.prototype.RecordAppInteractionEvent=function(e,t){this.SendExperimentEventToSteam(19,t)},e.prototype.SendExperimentEventToSteam=function(e,t){this.InitBrowserID();var n=s.c.STORE_BASE_URL+"events/ajaxreportnewshubstats/",a=new URLSearchParams;a.append("page_action",""+e),a.append("snr",s.c.SNR),a.append("uint_data",""+t),a.append("str_data",this.m_sBrowserID),i.a.post(n,a)},e.prototype.InitBrowserID=function(){if(void 0===this.m_sBrowserID)if(s.c.IN_CLIENT)this.m_sBrowserID="steam";else{var e=navigator.userAgent;/iPhone|iPad|iPod/i.test(e)||/Macintosh/i.test(e)&&/Safari/i.test(e)?this.m_sBrowserID="ios":/Android/i.test(e)?this.m_sBrowserID="android":this.m_sBrowserID=""}},e}());window.g_EventCalendarTrackingStore=m},OcU3:function(e,t,n){e.exports={DynamicLinkBox:"eventbbcodeyoutubeembed_DynamicLinkBox_1zmYF",DynamicLink_Preview:"eventbbcodeyoutubeembed_DynamicLink_Preview_3Z5cW",DynamicLink_Author:"eventbbcodeyoutubeembed_DynamicLink_Author_xG6te",DynamicLink_Description:"eventbbcodeyoutubeembed_DynamicLink_Description_2Nwb8",DynamicLink_Content:"eventbbcodeyoutubeembed_DynamicLink_Content_10QvP",DynamicLink_Name:"eventbbcodeyoutubeembed_DynamicLink_Name_Ef9WZ",DynamicLink_YoutubeViews:"eventbbcodeyoutubeembed_DynamicLink_YoutubeViews_1EXif",Dynamiclink_Content:"eventbbcodeyoutubeembed_Dynamiclink_Content_SmLh-",DynamicLink_URL:"eventbbcodeyoutubeembed_DynamicLink_URL_3zVTF",DynamicLink_AuthorName:"eventbbcodeyoutubeembed_DynamicLink_AuthorName_2scjl",DynamicLink_Date:"eventbbcodeyoutubeembed_DynamicLink_Date_2hEHb",PreviewYouTubeVideo:"eventbbcodeyoutubeembed_PreviewYouTubeVideo_2sJoC",sizeThumb:"eventbbcodeyoutubeembed_sizeThumb_3olWW",sizeFull:"eventbbcodeyoutubeembed_sizeFull_126sP",floatLeft:"eventbbcodeyoutubeembed_floatLeft_1-UTh",floatRight:"eventbbcodeyoutubeembed_floatRight_IHcwx"}},Pr9M:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwMHB4IiBoZWlnaHQ9IjE0MDlweCIgdmlld0JveD0iMCAwIDE0MDAgMTQwOSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTQwMCAxNDA5IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik02OTguMTk1LDEwLjEyNWMtMzY0LjM0NywwLTY2Mi44MzgsMjgwLjkzOC02OTEuMjA2LDYzNy45NjlMMzc4Ljc0LDgwMS43OTcNCgljMzEuNTAyLTIxLjUzOSw2OS41NTUtMzQuMTMzLDExMC40OTUtMzQuMTMzYzMuNjY5LDAsNy4zMTUsMC4wOSwxMC45MzksMC4zMTNsMTY1LjMzLTIzOS42MzdjMC0xLjEzNy0wLjAyOS0yLjI1LTAuMDI5LTMuMzk1DQoJYzAtMTQ0LjIyNywxMTcuMzM1LTI2MS41NzQsMjYxLjU4Mi0yNjEuNTc0YzE0NC4yMzMsMCwyNjEuNTgzLDExNy4zNDgsMjYxLjU4MywyNjEuNTc0YzAsMTQ0LjI0Ni0xMTcuMzUsMjYxLjU5OC0yNjEuNTgzLDI2MS41OTgNCgljLTEuOTksMC0zLjk1LTAuMDQ3LTUuOTI2LTAuMDlMNjg1LjM0MSw5NTQuNjg4YzAuMTE5LDMuMDc0LDAuMjMsNi4xOTEsMC4yMyw5LjI5N2MwLDEwOC4yNzMtODguMDc2LDE5Ni4zNTItMTk2LjMzNiwxOTYuMzUyDQoJYy05NS4wNDEsMC0xNzQuNDk0LTY3Ljg0OC0xOTIuNDk2LTE1Ny42NzZMMzAuODcyLDg5Mi43NTRjODIuMzIsMjkxLjEzNywzNDkuODA3LDUwNC41ODIsNjY3LjMyMyw1MDQuNTgyDQoJYzM4My4wNjIsMCw2OTMuNTk4LTMxMC41NTEsNjkzLjU5OC02OTMuNjEzQzEzOTEuNzkzLDMyMC42NjQsMTA4MS4yNTcsMTAuMTI1LDY5OC4xOTUsMTAuMTI1Ii8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNNDQxLjY0OCwxMDYyLjU2M2wtODUuMjAyLTM1LjIwM2MxNS4xMDUsMzEuNDQ1LDQxLjIzLDU3Ljc2Miw3NS45MTEsNzIuMjE1DQoJYzc0Ljk2MSwzMS4yNSwxNjEuNDEtNC4zMzYsMTkyLjY2Ny03OS4zNTljMTUuMTEyLTM2LjMxMywxNS4yMjQtNzYuMzU1LDAuMjIzLTExMi43NDJjLTE0Ljk3OS0zNi4zOTEtNDMuMjUtNjQuNzczLTc5LjU3Mi03OS45MjINCgljLTM2LjA0Ny0xNS4wMDQtNzQuNjU2LTE0LjQzOC0xMDguNTg3LTEuNjM3bDg4LjAwOSwzNi4zOTFjNTUuMzA0LDIzLjA1MSw4MS40NDQsODYuNTU5LDU4LjQwOCwxNDEuODU1DQoJQzU2MC40NzYsMTA1OS40NTcsNDk2Ljk0NCwxMDg1LjYxMyw0NDEuNjQ4LDEwNjIuNTYzIi8+DQo8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTEwMS4zNTMsNTI0Ljk2MWMwLTk2LjExMy03OC4xODQtMTc0LjMxMy0xNzQuMjk1LTE3NC4zMTNjLTk2LjA5NiwwLTE3NC4yOTQsNzguMTk5LTE3NC4yOTQsMTc0LjMxMw0KCWMwLDk2LjEwMiw3OC4xOTgsMTc0LjI3NywxNzQuMjk0LDE3NC4yNzdDMTAyMy4xNjksNjk5LjIzOCwxMTAxLjM1Myw2MjEuMDYzLDExMDEuMzUzLDUyNC45NjEgTTc5Ni40MTUsNTI0LjY1Ng0KCWMwLTcyLjMyNCw1OC42MzgtMTMwLjkxOCwxMzAuOTQtMTMwLjkxOGM3Mi4zMTYsMCwxMzAuOTI1LDU4LjU5NCwxMzAuOTI1LDEzMC45MThjMCw3Mi4zMTYtNTguNjA4LDEzMC45MTgtMTMwLjkyNSwxMzAuOTE4DQoJQzg1NS4wNTMsNjU1LjU3NCw3OTYuNDE1LDU5Ni45NzMsNzk2LjQxNSw1MjQuNjU2Ii8+DQo8L3N2Zz4NCg=="},Qcoi:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("mrSG"),a=n("2vnA"),o=n("vDqi"),c=n.n(o),l=n("lkRc"),u=n("r64O"),p=n("8H1D"),r=n("kLLr"),i=new(function(){function e(){this.m_mapProfiles=new Map,this.m_mapProfilesLoading=new Map}return e.prototype.LoadProfiles=function(i){return Object(s.b)(this,void 0,void 0,function(){var t,n,a,o,r=this;return Object(s.e)(this,function(e){switch(e.label){case 0:return Object(u.a)(i.length<=500,"Check LoadProfiles, requesting too many steam IDs"),0==(t=i.filter(function(e){return!r.m_mapProfiles.has(e)&&!r.m_mapProfilesLoading.has(e)})).length?[2,this.m_mapProfilesLoading.get(i[0])]:(n=l.c.COMMUNITY_BASE_URL+"actions/ajaxresolveusers",a=c.a.get(n,{params:{steamids:t.join(",")},withCredentials:!0}),t.forEach(function(e){return r.m_mapProfilesLoading.set(e,a)}),[4,a]);case 1:return(o=e.sent()).data&&o.data.forEach(function(e){e.avatar_url_medium=Object(p.a)(e.avatar_url,"medium"),e.avatar_url_full=Object(p.a)(e.avatar_url,"full"),e.avatar_url=Object(p.a)(e.avatar_url),r.m_mapProfiles.set(e.steamid,e),r.m_mapProfilesLoading.delete(e.steamid)}),[2]}})})},e.prototype.GetProfile=function(e){return this.m_mapProfiles.get(e)},e.prototype.GetProfileByAccountID=function(e){return this.m_mapProfiles.get(r.a.InitFromAccountID(e).ConvertTo64BitString())},e.prototype.BHasProfile=function(e){return this.m_mapProfiles.has(e)},e.prototype.BHasProfileByAccountID=function(e){return this.m_mapProfiles.has(r.a.InitFromAccountID(e).ConvertTo64BitString())},Object(s.c)([a.observable],e.prototype,"m_mapProfiles",void 0),e}());window.g_ProfileStore=i},"R3/U":function(e,t,n){e.exports={FlexColumnContainer:"eventreminder_FlexColumnContainer_15ufN",FullStartTime:"eventreminder_FullStartTime_1YLHW",ReminderDialog:"eventreminder_ReminderDialog_3YUEY",ReminderOptions:"eventreminder_ReminderOptions_1Tp8K",ReminderBackground:"eventreminder_ReminderBackground_TNf9_",ReminderExpandsLeft:"eventreminder_ReminderExpandsLeft_38Xly",ReminderOption:"eventreminder_ReminderOption_26nnh",Unverified:"eventreminder_Unverified_1dcmA",CheckboxWrapper:"eventreminder_CheckboxWrapper_1xuKE",ReminderOptionTooltip:"eventreminder_ReminderOptionTooltip_2SNqE",ReminderCheckBox:"eventreminder_ReminderCheckBox_vPo2j",ReminderDefault:"eventreminder_ReminderDefault_19p2Q",ReminderCheck:"eventreminder_ReminderCheck_3fMhC",ReminderOpennedOptions:"eventreminder_ReminderOpennedOptions_vBuhk",ReminderOptionsHeader:"eventreminder_ReminderOptionsHeader_2oOZC",ReminderCalendarOptions:"eventreminder_ReminderCalendarOptions_VO6FS",ReminderSettings:"eventreminder_ReminderSettings_2Pn59",ReminderNotes:"eventreminder_ReminderNotes_3qE0w",RemindCheck:"eventreminder_RemindCheck_2qaPr",RpcThrobber:"eventreminder_RpcThrobber_3F3aB"}},RnhZ:function(e,t,n){var a={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(t+1)return t;var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}o.keys=function(){return Object.keys(a)},o.resolve=r,(e.exports=o).id="RnhZ"},T27q:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("mrSG"),o=n("q1tI"),r=n("UWWC"),i=n("qD+2"),s=n("yJqL"),c=n("DRMf"),l=n("bxiW"),u=n("BVKn"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refFocus=o.createRef(),e}return Object(a.d)(e,t),e.prototype.componentDidMount=function(){this.props.fnClose&&(document.addEventListener("keydown",this.escFunction,!1),this.m_refFocus.current&&this.m_refFocus.current.focus())},e.prototype.componentWillUnmount=function(){this.props.fnClose&&document.removeEventListener("keydown",this.escFunction,!1)},e.prototype.escFunction=function(e){var t=this.props.fnClose;27===e.keyCode&&t&&t()},e.prototype.render=function(){var e=this.props,t=e.event,n=e.fnClose;return o.createElement("div",{ref:this.m_refFocus,className:c.Main,onClick:n},o.createElement(s.c,{key:t.GID,event:t,emoticonStore:r.b,partnerEventStore:u.a.Get(),appStore:i.a}))},Object(a.c)([l.a],e.prototype,"escFunction",null),e}(o.Component)},TOXn:function(e,t,n){"use strict";var p=n("mrSG"),a=n("s4NR"),i=n.n(a),h=n("q1tI"),o=n("ZeAL"),r=n("nrKv"),_=n("lkRc"),s=n("Gorr"),c=n("a5LV"),v=n("IzPI"),l=function(m){function e(e,t,n,a){var o=m.call(this,e)||this;return o.m_LinkFilter=new RegExp('((?:(?:https?:)|(?:www[.,])|(?:[!#-;=?-Z\\\\^-~]+[\\.,](?:(?:[a-zA-Z]{2,4}[\\.?]*[/\\\\?#])|(?:(?:biz|com|gallery|in|name|net|online|org|tech|trade|xyz)(?=\\W|$)))))(?:[^ː\\s"<>\\[\\]]*[^\\s"<>\\[\\],.ː:])?)'),o.m_parentNode=void 0,o.m_parentNode=t,o.m_mapHostToComponent=n,o.m_globalStoreLink=a,o}return Object(p.d)(e,m),e.prototype.AppendText=function(e,t){void 0===t&&(t=!1);var n=e;if(t&&(null==this.m_parentNode||"img"!=this.m_parentNode.tag))for(var a=this.m_LinkFilter.exec(n);a;){if(0<a.index){var o=a.input.substr(0,a.index);m.prototype.AppendText.call(this,o,t)}var r=a[0],i=!1;if(this.m_mapHostToComponent)for(var s=0;s<this.m_mapHostToComponent.length;++s)if(this.m_mapHostToComponent[s].urlRegExp.exec(r)){i=!0,m.prototype.AppendNode.call(this,this.m_mapHostToComponent[s].fnBBComponent(r,this.m_globalStoreLink));break}if(!i){var c=Object(v.a)(r),l=Object(v.a)(_.c.COMMUNITY_BASE_URL),u=Object(v.a)(_.c.STORE_BASE_URL),p=c!==l&&c!==u?_.c.COMMUNITY_BASE_URL+"linkfilter/?url="+r:r,d={href:(_.c.IN_CLIENT?"steam://openurl_external/":"")+p,target:_.c.IN_CLIENT?void 0:"_blank",rel:"noopener noreferrer"};m.prototype.AppendNode.call(this,h.createElement("a",d,new Array(r)))}n=a.input.substr(a.index+r.length),a=this.m_LinkFilter.exec(n)}0<n.length&&m.prototype.AppendText.call(this,n,t)},e}(r.a),u=function(i){function e(){var e=null!==i&&i.apply(this,arguments)||this;return e.m_EmoteFilter=new RegExp("[ː:]([a-zA-Z0-9_]+)[ː:]"),e}return Object(p.d)(e,i),e.prototype.AppendText=function(e,t){void 0===t&&(t=!1);var n=e;if(3<=e.length)for(var a=this.m_EmoteFilter.exec(n);a;){if(0<a.index){var o=a.input.substr(0,a.index);i.prototype.AppendText.call(this,o,t)}var r=a[1];i.prototype.AppendNode.call(this,h.createElement(s.a,{emoticonHoverStore:c.a,emoticon:r},[])),n=a.input.substr(a.index+r.length+2),a=this.m_EmoteFilter.exec(n)}0<n.length&&i.prototype.AppendText.call(this,n,t)},e}(r.a),d=function(a){function e(e,t){var n=a.call(this,e)||this;return n.m_parentNode=void 0,n.m_parentNode=t,n}return Object(p.d)(e,a),e.prototype.AppendText=function(e,t){void 0===t&&(t=!1);var n=e;this.m_parentNode&&"img"==this.m_parentNode.tag&&(n=Object(v.d)(n)),a.prototype.AppendText.call(this,n,t)},e}(r.a),m=n("f6Ic"),g=n("mgoM"),b=n("kLLr"),f=n("U+Q5"),E=n("okNM"),y=n("TLQK"),I=n("OcU3"),S=n.n(I),O=n("vDqi"),D=n.n(O),C=n("2vnA"),A=new(function(){function e(){this.m_mapYouTubeVideo=new Map,this.m_mapSharedFile=new Map}return e.prototype.LoadYouTubeDynamicData=function(i,s){return Object(p.b)(this,void 0,void 0,function(){var n,a,t,o,r=this;return Object(p.e)(this,function(e){switch(e.label){case 0:return n=new Array,a="",i.forEach(function(e,t){r.m_mapYouTubeVideo.has(e)?n.push(r.m_mapYouTubeVideo.get(e)):(0<a.length&&(a+=","),a+=e)}),0==a.length?[2,n]:(t={youtubevideoids:a},o=null,[4,D.a.get(_.c.STORE_BASE_URL+"/events/ajaxgetdynamiceventmetadata",{params:t,cancelToken:s.token})]);case 1:return(o=e.sent())&&o.data&&o.data.youtube&&Object(C.runInAction)(function(){o.data.youtube.forEach(function(e,t){r.m_mapYouTubeVideo.set(e.videoid,e),n.push(e)})}),[2,n]}})})},e.prototype.LoadSharedFileDynamicData=function(i,s){return Object(p.b)(this,void 0,void 0,function(){var n,a,t,o,r=this;return Object(p.e)(this,function(e){switch(e.label){case 0:return n=new Array,a="",i.forEach(function(e,t){r.m_mapSharedFile.has(e)?n.push(r.m_mapSharedFile.get(e)):(0<a.length&&(a+=","),a+=e)}),0==a.length?[2,n]:(t={sharedfileids:a},o=null,[4,D.a.get(_.c.STORE_BASE_URL+"/events/ajaxgetdynamiceventmetadata",{params:t,cancelToken:s.token})]);case 1:return(o=e.sent())&&o.data&&o.data.sharedfiles&&Object(C.runInAction)(function(){o.data.sharedfiles.forEach(function(e,t){r.m_mapSharedFile.set(e.sharedfileid,e),n.push(e)})}),[2,n]}})})},Object(p.c)([C.observable],e.prototype,"m_mapYouTubeVideo",void 0),Object(p.c)([C.observable],e.prototype,"m_mapSharedFile",void 0),e}()),T=n("bDQf"),w=function(n){function e(e){var t=n.call(this,e)||this;return t.m_cancelSignal=D.a.CancelToken.source(),t.state={bLoadedMetadata:!1},t.m_sharedFileInfo={sharedfileid:t.props.sharedFileID,title:Object(y.c)("#Loading"),description:"",type:"",previewurl:"",appid:0,url:_.c.COMMUNITY_BASE_URL+"sharedfiles/filedetails/?id="+t.props.sharedFileID},t}return Object(p.d)(e,n),e.prototype.componentDidMount=function(){var t=this;A.LoadSharedFileDynamicData([this.props.sharedFileID],this.m_cancelSignal).then(function(e){!t.m_cancelSignal.token.reason&&0<e.length&&(t.m_sharedFileInfo=e[0],t.setState({bLoadedMetadata:!0}))}).catch(function(e){return console.log("SharedFileSnippet: "+Object(T.a)(e).strErrorMsg)})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("SharedFileSnippet component unmounted")},e.prototype.render=function(){var e=void 0!==this.m_sharedFileInfo.personnaname&&0<this.m_sharedFileInfo.personnaname.length;return h.createElement("a",{href:this.m_sharedFileInfo.url,className:S.a.DynamicLinkBox,"data-modal-content-sizetofit":!!this.m_sharedFileInfo.bSizeToFit,"data-appid":this.m_sharedFileInfo.appid,"data-publishedfileid":this.props.sharedFileID},h.createElement("img",{className:S.a.DynamicLink_Preview,src:this.m_sharedFileInfo.previewurl}),h.createElement("div",{className:S.a.DynamicLink_Content},h.createElement("div",{className:S.a.DynamicLink_Name},this.m_sharedFileInfo.title),h.createElement("div",null,h.createElement("span",{className:S.a.DynamicLink_Type},this.m_sharedFileInfo.type)),e&&h.createElement("div",{className:S.a.DynamicLink_Author},Object(y.i)("#EventEditor_Author",h.createElement("span",{className:S.a.DynamicLink_AuthorName},this.m_sharedFileInfo.personnaname))),h.createElement("div",{className:S.a.DynamicLink_Description},this.m_sharedFileInfo.description)))},Object(p.c)([C.observable],e.prototype,"m_sharedFileInfo",void 0),e=Object(p.c)([E.observer],e)}(h.Component),j=n("exH9"),L=n("bxiW"),k=n("0OaU"),N=function(a){function e(e){var t=a.call(this,e)||this;t.m_cancelSignal=D.a.CancelToken.source();var n=!t.props.bShowVideoImmediately;return t.state={bSummaryMode:n,bLoadedMetaData:!1},t.m_youtubeInfo={title:Object(y.c)("#Loading"),description:"",videoid:e.videoID,views:"0"},t}var i;return Object(p.d)(e,a),(i=e).prototype.componentDidMount=function(){this.state.bSummaryMode&&this.HintLoadMetadata()},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("YouTubeInlineSnippet component unmounted")},e.prototype.HintLoadMetadata=function(){return Object(p.b)(this,void 0,void 0,function(){var t=this;return Object(p.e)(this,function(e){return A.LoadYouTubeDynamicData([this.props.videoID],this.m_cancelSignal).then(function(e){!t.m_cancelSignal.token.reason&&0<e.length&&(t.m_youtubeInfo=e[0],t.setState({bLoadedMetaData:!0}))}).catch(function(e){return console.log("YouTubeInlineSnippet: "+Object(T.a)(e).strErrorMsg)}),[2]})})},e.prototype.OnClick=function(){this.setState({bSummaryMode:!1})},e.prototype.render=function(){var e=this.props.videoID;if(this.state.bSummaryMode){var t=this.m_youtubeInfo.title,n=this.m_youtubeInfo.views,a=this.m_youtubeInfo.description;return h.createElement("div",{className:S.a.DynamicLinkBox,onClick:this.OnClick},h.createElement("img",{className:S.a.DynamicLink_Preview,src:"https://img.youtube.com/vi/"+e+"/0.jpg"}),h.createElement("div",{className:S.a.DynamicLink_Content},h.createElement("div",{className:S.a.DynamicLink_Name},Object(y.c)("#EventEditor_YouTubeVideoTitle",t)),h.createElement("div",{className:S.a.DynamicLink_YoutubeViews},Object(y.c)("#EventEditor_YouTubeVideoViews",Number(n).toLocaleString(y.b.GetPreferredLocales()))),h.createElement("div",{className:S.a.Dynamiclink_Content},this.state.bLoadedMetaData&&a,!this.state.bLoadedMetaData&&h.createElement(k.a,null))))}var o=this.props.classNameSize,r=this.props.classNameAlign;return h.createElement("div",{className:Object(j.a)(S.a.PreviewYouTubeVideo,o,r),id:e},h.createElement("img",{src:_.c.COMMUNITY_CDN_URL+"public/shared/images/responsive/youtube_16x9_placeholder.gif"}),h.createElement("iframe",{className:Object(j.a)(S.a.PreviewYouTubeVideo,o,r),src:"https://www.youtube.com/embed/"+e+i.m_strYouTubeOptions,allowFullScreen:!0,frameBorder:0}))},e.m_strYouTubeOptions="?fs=1&modestbranding=1&rel=0",Object(p.c)([C.observable],e.prototype,"m_youtubeInfo",void 0),Object(p.c)([L.a],e.prototype,"OnClick",null),e=i=Object(p.c)([E.observer],e)}(h.Component),M=n("MCLT"),G=n("4P4B"),B=n("02Wr"),x=n("UxvL"),R=n("6oCP"),U=n("ir+G"),F=n("TQGK"),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bLoading:e.props.announcementGID?!R.c.BHasClanAnnouncementGID(e.props.announcementGID):!R.c.BHasClanAnnouncementGID(e.props.eventGID),bFailedLoad:!1},e.m_cancelSignal=D.a.CancelToken.source(),e}return Object(p.d)(e,t),e.prototype.componentDidMount=function(){this.HandleLoadEventInfo()},e.prototype.HandleLoadEventInfo=function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s,c,l,u;return Object(p.e)(this,function(e){switch(e.label){case 0:t=this.props,n=t.appid,a=t.strVanity,o=t.announcementGID,r=t.eventGID,i=t.strGroupVanity,s=this.props.clanSteamID,e.label=1;case 1:return e.trys.push([1,9,,10]),this.state.bLoading?void 0===a?[3,3]:[4,F.a.LoadOGGClanInfoForIdentifier(a)]:[3,8];case 2:return c=e.sent(),s=c.clanSteamID,[3,5];case 3:return void 0===i?[3,5]:[4,F.a.LoadOGGClanInfoForGroupVanity(i)];case 4:c=e.sent(),s=c.clanSteamID,e.label=5;case 5:return[4,R.c.LoadPartnerEventGeneric(s,n,r,o,0)];case 6:return l=e.sent(),[4,U.a.EnsureStoreCapsuleInfoLoaded(l.appid)];case 7:e.sent(),this.setState({bFailedLoad:!1,bLoading:!1}),e.label=8;case 8:return[3,10];case 9:return u=e.sent(),this.HandleError(u),[3,10];case 10:return[2]}})})},e.prototype.HandleError=function(e){var t=Object(T.a)(e),n=this.props,a=n.eventGID,o=n.announcementGID,r=n.strGroupVanity,i=n.strVanity;console.log("EventSnippet hit error on announceGID "+o+" eventGID "+a+" strVanity "+i+" strGroupVanity "+r+" error: "+t.strErrorMsg),this.setState({bFailedLoad:!0})},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted")},e.prototype.render=function(){var e=this.props,t=e.appid,n=e.announcementGID,a=e.eventGID,o=e.strURL,r=e.fnFilterImageURLsForKnownFailures,i=e.fnImageFailureCallback;if(this.state.bFailedLoad)return ze(o);if(this.state.bLoading)return h.createElement(k.a,null);var s=void 0!==n?R.c.GetClanEventFromAnnouncementGID(n):R.c.GetClanEventModel(a);if(null==s)return ze(o);var c=Object(g.e)(_.c.LANGUAGE),l=s.GetImageForSizeAsArrayWithFallback("capsule",c,f.c.capsule_main);r&&(l=r(l));var u=s.GetNameWithFallback(c),p=s.GetSubTitleWithSummaryFallback(c),d=U.a.GetStoreCapsuleInfo(t),m=Object(y.g)(s.GetStartTimeAndDateUnixSeconds());return h.createElement("a",{href:o,className:S.a.DynamicLinkBox,"data-modal-content-sizetofit":!0,"data-appid":t},h.createElement(x.a,{className:S.a.DynamicLink_Preview,rgSources:l,onIncrementalError:function(e,t,n){return i&&i(t)}}),h.createElement("div",{className:S.a.DynamicLink_Content},h.createElement("div",{className:S.a.DynamicLink_Author},Object(y.c)(s.type==g.a.k_ENewsEvent?"#EventDisplay_Share_Announcement":"#EventDisplay_Share_Event",d.GetAppStoreData().title),h.createElement("span",{className:S.a.DynamicLink_Date},m)),h.createElement("div",{className:S.a.DynamicLink_Name},h.createElement("div",{className:S.a.DynamicLink_Type},u)),h.createElement("div",{className:S.a.DynamicLink_Description},p)))},e=Object(p.c)([E.observer],e)}(h.Component),z=n("bWts"),V=n("+d9t"),H=n("cGQe"),Y=function(){function e(){}return e.prototype.BIsValid=function(){return void 0!==this.giveaway_id&&null!==this.giveaway_id},e.prototype.BStarted=function(){return this.BIsValid()&&(0<=this.seconds_until_drawing||0<this.winner_count)},Object(p.c)([C.observable],e.prototype,"giveaway_id",void 0),Object(p.c)([C.observable],e.prototype,"seconds_until_drawing",void 0),Object(p.c)([C.observable],e.prototype,"rtime_start",void 0),Object(p.c)([C.observable],e.prototype,"rtime_end",void 0),Object(p.c)([C.observable],e.prototype,"closed",void 0),Object(p.c)([C.observable],e.prototype,"winner_count",void 0),e}(),W=new(function(){function e(){this.m_mapGiveawayIDToNextDrawInfo=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){if(!this.m_bLoadedFromConfig){var e=Object(_.f)("giveawaynextdraw","application_config");if(e&&e.giveaway_id){var t=new Y;this.CopyToGiveaway(e,t),this.m_mapGiveawayIDToNextDrawInfo.set(e.giveaway_id,t)}this.m_bLoadedFromConfig=!0}},e.prototype.CopyToGiveaway=function(e,t){t.closed!=e.closed&&(t.closed=e.closed),t.giveaway_id!=e.giveaway_id&&(t.giveaway_id=e.giveaway_id),t.rtime_start!=e.rtime_start&&(t.rtime_start=e.rtime_start),t.rtime_end!=e.rtime_end&&(t.rtime_end=e.rtime_end),t.winner_count!=e.winner_count&&(t.winner_count=e.winner_count),t.seconds_until_drawing!=e.seconds_until_drawing&&(t.seconds_until_drawing=e.seconds_until_drawing)},e.prototype.FirstTimeLoadGiveaway=function(t,n){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(e){return this.LazyInit(),this.m_mapGiveawayIDToNextDrawInfo.has(t)?[2,this.m_mapGiveawayIDToNextDrawInfo.get(t)]:[2,this.ReloadGiveaway(t,n)]})})},e.prototype.ReloadGiveaway=function(o,r){return Object(p.b)(this,void 0,void 0,function(){var t,n,a;return Object(p.e)(this,function(e){switch(e.label){case 0:return t=_.c.STORE_BASE_URL+"prizes/nextdraw/"+o,n=null,a={origin:self.origin},[4,D.a.get(t,{params:a,cancelToken:r.token})];case 1:return n=e.sent(),this.m_mapGiveawayIDToNextDrawInfo.has(o)||this.m_mapGiveawayIDToNextDrawInfo.set(o,new Y),this.CopyToGiveaway(n.data,this.m_mapGiveawayIDToNextDrawInfo.get(o)),[2,this.m_mapGiveawayIDToNextDrawInfo.get(o)]}})})},Object(p.c)([C.observable],e.prototype,"m_mapGiveawayIDToNextDrawInfo",void 0),Object(p.c)([C.action],e.prototype,"CopyToGiveaway",null),e}());window.g_GiveawayStore=W;var Q,K,Z=n("uEKC"),J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={info:void 0},e.m_cancelSignal=D.a.CancelToken.source(),e}return Object(p.d)(e,t),e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("GiveawayNextDraw component unmounted"),this.ClearRefreshInterval(),this.ClearCountDown()},e.prototype.componentDidMount=function(){return Object(p.b)(this,void 0,void 0,function(){var t;return Object(p.e)(this,function(e){switch(e.label){case 0:return[4,W.FirstTimeLoadGiveaway(this.props.giveawayid,this.m_cancelSignal)];case 1:return t=e.sent(),this.setState({info:t}),this.SetupRefreshDataInterval(),this.SetupCountDown(),[2]}})})},e.prototype.SetupRefreshDataInterval=function(){this.ClearRefreshInterval();var e=this.state.info;if(!e.closed){var t=e.seconds_until_drawing<=0&&0==e.winner_count?6e4:5e3;this.m_intervalID=window.setInterval(this.RefreshData,t)}},e.prototype.ClearRefreshInterval=function(){this.m_intervalID&&(window.clearInterval(this.m_intervalID),this.m_intervalID=void 0)},e.prototype.RefreshData=function(){return Object(p.b)(this,void 0,void 0,function(){var t;return Object(p.e)(this,function(e){switch(e.label){case 0:return(t=this.state.info).BIsValid()&&t.seconds_until_drawing<=0&&!t.closed?(this.ClearCountDown(),[4,W.ReloadGiveaway(this.props.giveawayid,this.m_cancelSignal)]):[3,2];case 1:e.sent(),this.SetupCountDown(),e.label=2;case 2:return[2]}})})},e.prototype.SetupCountDown=function(){0<this.state.info.seconds_until_drawing&&(this.m_intervalCountDownID=window.setInterval(this.UpdateTimer,1e3))},e.prototype.ClearCountDown=function(){this.m_intervalCountDownID&&(window.clearInterval(this.m_intervalCountDownID),this.m_intervalCountDownID=void 0)},e.prototype.UpdateTimer=function(){return Object(p.b)(this,void 0,void 0,function(){return Object(p.e)(this,function(e){return this.state.info.seconds_until_drawing-=1,0==this.state.info.seconds_until_drawing&&this.ClearCountDown(),[2]})})},e.prototype.PrintTwoDigits=function(e){return e<10?"0"+e:e},e.prototype.render=function(){var e=this.state.info;if(!e||null==e.giveaway_id||!e.BStarted())return null;var t=_.c.STORE_BASE_URL+"prizes/view/"+e.giveaway_id+(_.c.SNR?"?snr="+_.c.SNR:"");return h.createElement("div",{className:Z.countdownCtn},Boolean(e.closed)&&h.createElement("div",{className:Z.Closed},0<e.winner_count?Object(y.c)("#Giveaway_Closed",e.winner_count.toLocaleString()):Object(y.c)("#Giveaway_Closed_NoWinnerInfo")),Boolean(!e.closed)&&h.createElement(h.Fragment,null,Boolean(e.seconds_until_drawing<=0)?h.createElement("div",{className:Z.Throbber},h.createElement(k.a,{size:"small"}),h.createElement("div",null,Object(y.c)("#Giveaway_RandomDraw"))):h.createElement("div",{className:Z.CountDownCtn},h.createElement("div",{className:Z.CountDownTime},this.PrintTwoDigits(Math.floor(e.seconds_until_drawing/60))+":"+this.PrintTwoDigits(e.seconds_until_drawing%60)),h.createElement("div",{className:Z.CountDownText},Object(y.c)("#Giveaway_CountDown2")," ",Object(y.c)("#Giveaway_KeepWatching"))),Boolean(0<e.winner_count)&&h.createElement("div",{className:Z.WinnerInfo},h.createElement("div",{className:Z.WinnerCount},e.winner_count.toLocaleString()),h.createElement("div",{className:Z.WinnerText},Object(y.c)("#Giveaway_Congratulation")))),h.createElement(V.a,{className:Z.LearnMore,href:(_.c.IN_CLIENT?"steam://openurl/":"")+t},Object(y.c)("#Giveaway_LearnMore")))},Object(p.c)([L.a],e.prototype,"SetupRefreshDataInterval",null),Object(p.c)([L.a],e.prototype,"ClearRefreshInterval",null),Object(p.c)([L.a],e.prototype,"RefreshData",null),Object(p.c)([L.a],e.prototype,"SetupCountDown",null),Object(p.c)([L.a],e.prototype,"UpdateTimer",null),e=Object(p.c)([E.observer],e)}(h.Component),q=n("DTkY"),X=n.n(q),$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bSummaryMode:!0,bLoadedMetaData:!1},e}return Object(p.d)(e,t),e.prototype.componentDidMount=function(){return Object(p.b)(this,void 0,void 0,function(){var t,n,a;return Object(p.e)(this,function(e){switch(e.label){case 0:t="https://sketchfab.com/oembed?url=https://sketchfab.com/models/"+this.props.modelID,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,D.a.get(t)];case 2:return n=e.sent(),this.setState({bLoadedMetaData:!0,data:n.data}),[3,4];case 3:return a=e.sent(),this.setState({bError:!0}),console.log(Object(T.a)(a)),[3,4];case 4:return[2]}})})},e.prototype.OnSketchFabClick=function(){this.state.bLoadedMetaData&&this.setState({bSummaryMode:!1})},e.prototype.render=function(){var e=this.props.modelID;return this.state.bError?h.createElement("div",{className:X.a.dynamiclink_box,onClick:this.OnSketchFabClick},h.createElement("span",null,e),h.createElement("span",null,Object(y.c)("#EventDisplay_SketchFab_Error_Network"))):this.state.bSummaryMode?h.createElement("div",{className:X.a.dynamiclink_box,onClick:this.OnSketchFabClick},Boolean(this.state.bLoadedMetaData)?h.createElement(h.Fragment,null,h.createElement("img",{className:X.a.dynamiclink_preview,src:this.state.data.thumbnail_url}),h.createElement("img",{className:X.a.sketchfab_play_overlay_image}),h.createElement("div",{className:X.a.dynamiclink_content},h.createElement("div",{className:X.a.dynamiclink_name},h.createElement("span",{className:X.a.dynamiclink_type},Object(y.c)("#EventDisplay_Sketchfab")),h.createElement("div",null,this.state.data.title," ")),h.createElement("div",{className:X.a.dynamiclink_author},this.state.data.author_name))):h.createElement(k.a,{size:"medium"})):h.createElement("div",{className:X.a.sketchfabmodelembedded},h.createElement("iframe",{className:X.a.sketchfabmodelembedded,src:"https://sketchfab.com/models/"+this.props.modelID+"/embed?autostart=1",frameBorder:0,allowFullScreen:!0}))},Object(p.c)([L.a],e.prototype,"OnSketchFabClick",null),e=Object(p.c)([E.observer],e)}(h.Component),ee=n("c+D6"),te=n("oVVc");(K=Q||(Q={})).k_eBlock="block",K.k_eFinal="final",K.k_eOriginal="original";var ne=function(e){switch(e.display_style){case Q.k_eFinal:return Boolean(e.formatted_final_price)&&h.createElement("span",null,e.formatted_final_price);case Q.k_eOriginal:var t=e.formatted_orig_price||e.formatted_final_price;return Boolean(t)&&h.createElement("span",null,t)}return h.createElement("span",{className:ee.StoreSalePriceWidget},Boolean(e.discount_percent)&&h.createElement("span",{className:ee.StoreSaleDiscountBox},"-"+e.discount_percent+"%"),Boolean(e.formatted_final_price)&&(Boolean(e.discount_percent&&e.formatted_orig_price)?h.createElement("div",{className:ee.StoreSaleDiscountedPriceCtn},h.createElement("div",{className:ee.StoreOrignalPrice},e.formatted_orig_price),h.createElement("div",{className:ee.StoreSalePriceBox},e.formatted_final_price)):h.createElement("div",{className:ee.StoreSalePriceBox},e.formatted_final_price)))},ae=Object(E.observer)(function(e){var t=te.b.GetPackageInfo(e.packageID);return t?h.createElement(ne,{formatted_final_price:t.formatted_final_price,formatted_orig_price:t.formatted_orig_price,discount_percent:t.discount_percent,display_style:e.display_style}):(te.b.LoadPackageInfo([e.packageID]),null)});function oe(e){var t=Number(e.args.packageid);if(!t)return null;var n=e.args.display;return h.createElement(ae,{packageID:t,display_style:n})}var re=Object(E.observer)(function(e){var t=te.b.GetPackageInfo(e.packageID),n=te.b.GetPackageInfo(e.compareID);if(!t||!n)return te.b.LoadPackageInfo([e.packageID]),te.b.LoadPackageInfo([e.compareID]),null;var a=function(e,t){if(e.final_price_cents&&t.final_price_cents){var n=1;if(e.renewal_time_units!=te.a.k_eNone&&t.renewal_time_units!=te.a.k_eNone){if(e.renewal_time_units!=t.renewal_time_units)return;if(!e.renewal_time_amount||!t.renewal_time_amount)return;n=t.renewal_time_amount/e.renewal_time_amount}return 1-n*e.final_price_cents/t.final_price_cents}}(t,n);return void 0===a?null:h.createElement("span",{className:ee.StorePriceSavings},(100*a).toFixed(0),"%")});function ie(e){var t=Number(e.args.packageid),n=Number(e.args.compareid);return t&&n?h.createElement(re,{packageID:t,compareID:n}):null}n.d(t,"a",function(){return de}),n.d(t,"b",function(){return ze});var se=/(?:steampowered\.com|valve\.org\/store)\/app\/(\d+)/i,ce=/(?:steamcommunity\.com|valve\.org\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/(?:announcements\/detail|partnerevents\/view_old_announcement)\/(\d+)/i,le=/(?:steamcommunity\.com|valve\.org\/community)\/(games|app|ogg|gid|groups)\/(\w+)\/partnerevents\/view\/(\d+)/i,ue=/:\/\/medal.tv\/(?:clip|clips)\/(\d+)/i,pe=/sketchfab.com\/(?:models\/(?:[^\/\s]+-)?)([a-z0-9]{32})/i,de=function(n){function a(e){var t=n.call(this,e)||this;return t.m_parser=new o.a(a.BBCodeDictionary,t.ElementAccumulator,e.languageOverride),t}return Object(p.d)(a,n),a.prototype.ElementAccumulator=function(e){return new d(new u(new l(new r.c(new r.b,0,!0),e,a.BBCodeURLComponent,{partnerEventStore:this.props.partnerEventStore,event:this.props.event})),e)},a.prototype.render=function(){return this.m_parser.UpdateOverrideLanguage(this.props.languageOverride),this.m_parser.ParseBBCode(this.props.text,{showErrorInfo:this.props.showErrorInfo,event:this.props.event})},a.BBCodeDictionary=new Map([["b",{Constructor:_e,autocloses:!1}],["i",{Constructor:ve,autocloses:!1}],["h1",{Constructor:ge,autocloses:!1}],["h2",{Constructor:be,autocloses:!1}],["h3",{Constructor:fe,autocloses:!1}],["u",{Constructor:Ee,autocloses:!1}],["hr",{Constructor:ye,autocloses:!1}],["strike",{Constructor:Ie,autocloses:!1}],["spoiler",{Constructor:Se,autocloses:!1}],["noparse",{Constructor:Oe,autocloses:!1}],["url",{Constructor:De,autocloses:!1}],["quote",{Constructor:Ce,autocloses:!1}],["pullquote",{Constructor:Ae,autocloses:!1}],["code",{Constructor:Te,autocloses:!1}],["img",{Constructor:we,autocloses:!1}],["list",{Constructor:je,autocloses:!1}],["olist",{Constructor:Le,autocloses:!1}],["*",{Constructor:ke,autocloses:!0}],["table",{Constructor:Ne,autocloses:!1}],["tr",{Constructor:Me,autocloses:!1}],["th",{Constructor:Ge,autocloses:!1}],["td",{Constructor:Be,autocloses:!1}],["previewyoutube",{Constructor:xe,autocloses:!1}],["looping_media",{Constructor:Re,autocloses:!1}],["remindme",{Constructor:Ue,autocloses:!1}],["giveawayinfo",{Constructor:Fe,autocloses:!1}],["video",{Constructor:Pe,autocloses:!1}],["price",{Constructor:oe,autocloses:!1}],["pricesavings",{Constructor:ie,autocloses:!1}]]),a.BBCodeURLComponent=[{urlRegExp:new RegExp(/youtu.be|youtube.com/i),fnBBComponent:Ve},{urlRegExp:new RegExp(/community.+sharedfiles\/filedetails\/\?id=\d+/i),fnBBComponent:We},{urlRegExp:new RegExp(se),fnBBComponent:Qe},{urlRegExp:new RegExp(le),fnBBComponent:Ze},{urlRegExp:new RegExp(ce),fnBBComponent:Ke},{urlRegExp:new RegExp(ue),fnBBComponent:He},{urlRegExp:new RegExp(pe),fnBBComponent:Ye}],Object(p.c)([L.a],a.prototype,"ElementAccumulator",null),a}(h.Component);function me(e,t){return Object(M.isNullOrUndefined)(t)?e[""]:e[t]}function he(e,t){if(void 0!==e&&e.startsWith(G.c))return(a=_.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/")+e.substr(G.c.length+1);if(void 0!==e&&e.startsWith(G.b)){var n=new Array,a=_.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/",o=e.substr(G.b.length+1),r=f.a.GetHashFromHashAndExt(o),i=f.a.GetExtensionStringFromHashAndExt(o);if(null!=t){var s=Object(g.c)(t);n.push(a+r+"/"+s+i)}return n.push(a+o),n}return e}function _e(e){return h.createElement("b",{className:z.Bold},e.children)}function ve(e){return h.createElement("i",null,e.children)}function ge(e){return h.createElement("div",{className:z.Header1},e.children)}function be(e){return h.createElement("div",{className:z.Header2},e.children)}function fe(e){return h.createElement("div",{className:z.Header3},e.children)}function Ee(e){return h.createElement("u",null,e.children)}function ye(e){return h.createElement("div",{className:z.HR})}function Ie(e){return h.createElement("span",{className:z.Strike},e.children)}function Se(e){return h.createElement("span",{className:z.Spoiler},h.createElement("span",null,e.children))}function Oe(e){return h.createElement(h.Fragment,null,e.children)}function De(e){var t=me(e.args),n=me(e.args,"style");if(void 0===t)return e.children;if("string"==typeof t&&0<t.length){var a=he(t,e.language);t="string"==typeof a?a:a[1]}var o="string"==typeof e.children&&0<e.children.length&&t?Object(v.b)(t):void 0;return"steam://settings/account"==t?h.createElement(V.a,{className:z.Link,href:"steam://settings/account"},e.children):h.createElement(V.a,{className:function(e){switch(e){case"button":return z.LinkButton;default:return z.Link}}(n),href:(_.c.IN_CLIENT?"steam://openurl/":"")+_.c.COMMUNITY_BASE_URL+"linkfilter/?url="+t},h.createElement("span",{"data-tooltip-text":o},e.children))}function Ce(e){var t=me(e.args,"author");return h.createElement("blockquote",{className:z.BlockQuote},t&&h.createElement("div",{className:z.QuoteAuthor},Object(y.c)("#Bbcode_Originally_Posted_By")+" "," ",h.createElement("b",{className:Object(j.a)(z.Bold,z.BlockQuoteAuthor)},t+":")),e.children)}function Ae(e){return h.createElement("div",{className:z.PullQuote},e.children)}function Te(e){return h.createElement("div",{className:z.Code},e.children)}function we(e){var t=e&&e.children&&e.children.toString();if(!(null!=t&&null!=t&&0!=t.length||null!=(t=e&&e.args&&e.args[""])&&null!=t&&0!=t.length))return"";var n=he(t,e.language);if("string"!=typeof n)return h.createElement(x.a,{rgSources:n});t=n;var a=Object(v.a)(t),o=Object(v.a)(_.c.COMMUNITY_CDN_URL),r=Object(v.a)(_.c.MEDIA_CDN_URL),i=Object(v.a)(_.c.MEDIA_CDN_COMMUNITY_URL),s=a!==o&&a!==r&&a!==i;return e.context.showErrorInfo?h.createElement(B.a,{src:t,crossOrigin:s?"anonymous":void 0}):h.createElement("img",{src:t,crossOrigin:s?"anonymous":void 0})}function je(e){return h.createElement("ul",{className:z.UnorderList},e.children)}function Le(e){return h.createElement("ol",null,e.children)}function ke(e){return h.createElement("li",null,e.children)}function Ne(e){var t=me(e.args,"noborder");return h.createElement("div",{className:Object(j.a)(z.Table,t?z.NoBorder:"")},e.children)}function Me(e){return h.createElement("div",{className:z.TableRow},e.children)}function Ge(e){return h.createElement("div",{className:z.TableHeader},e.children)}function Be(e){return h.createElement("div",{className:z.TableData},e.children)}function xe(e){var t=me(e.args);if(t){var n=t.split(";");if(2==n.length){var a=n[0],o=n[1].toLocaleLowerCase(),r="full"==o?I.sizeFull:I.sizeThumb,i="full"==o?"":"leftthumb"==o?I.floatLeft:I.floatRight;return h.createElement(N,{videoID:a,classNameAlign:i,classNameSize:r,bShowVideoImmediately:!0})}}return h.createElement(h.Fragment,null)}function Re(e){var t=me(e.args,"mp4"),n=me(e.args,"webm"),a=me(e.args,"poster");return t?h.createElement("video",{width:"100%",height:"auto",autoPlay:!0,muted:!0,playsInline:!0,controls:!1,poster:a,loop:!0},n&&h.createElement("source",{src:n,type:"video/webm"}),h.createElement("source",{src:t,type:"video/mp4"})):h.createElement(h.Fragment,null)}function Ue(e){var t=e.context,n=t.event,a=t.language;if(n){var o=me(e.args)||n.GID;if(o)return h.createElement(H.a,{eventModel:n,eventGID:o,lang:a})}return h.createElement(h.Fragment,null)}function Fe(e){var t=me(e.args);return t?h.createElement(J,{giveawayid:t}):h.createElement(h.Fragment,null)}function Pe(e){var t=me(e.args);t&&0<t.length&&(e.args[t]="");var n=me(e.args,"poster");n&&(n=Object(v.d)(n));var a=Object(v.d)(e.children.toString()),o=Object(v.a)(a),r=Object(v.a)(_.c.COMMUNITY_CDN_URL),i=Object(v.a)(_.c.MEDIA_CDN_URL),s=Object(v.a)(_.c.MEDIA_CDN_COMMUNITY_URL),c=o!==r&&o!==i&&o!==s;return h.createElement("video",{poster:n,width:"100%",height:"auto",loop:!0,muted:!0,playsInline:!0,controls:!0,autoPlay:!0,crossOrigin:c?"anonymous":void 0},h.createElement("source",{src:a,type:"video/webm"}))}function ze(e){var t=Object(v.a)(e.toLocaleLowerCase()),n=Object(v.a)(_.c.COMMUNITY_BASE_URL),a=Object(v.a)(_.c.STORE_BASE_URL),o=t!==n&&t!==a?_.c.COMMUNITY_BASE_URL+"linkfilter/?url="+e:e;return o.toLocaleLowerCase().startsWith("http")||(o="http://"+o),h.createElement(V.a,{href:o},e)}function Ve(e){var t=e.split("?"),n=void 0;if(2==t.length){var a=i.a.parse(t[1]);"v"in a&&(n=a.v.toString())}if(null==n&&0<t.length&&t[0].toLocaleLowerCase().includes("youtu.be")){var o=t[0],r=o.lastIndexOf("/");-1!=r&&r+1<o.length&&(n=o.substring(r+1))}return void 0!==n?h.createElement(N,{videoID:n,classNameAlign:"",classNameSize:I.sizeFull,bShowVideoImmediately:!1}):ze(e)}function He(e,t){var n=new RegExp(ue).exec(e);if(n&&1<n.length){var a=Number(n[1]);if(0<a){var o="https://medal.tv/clip/"+a+"/?autoplay=0&donate=0"+(t&&t.event?"&steamappid="+t.event.appid:"");return h.createElement("iframe",{className:z.MedalTVWidget,src:o,frameBorder:0,allow:"autoplay"})}}return ze(e)}function Ye(e,t){var n=new RegExp(pe).exec(e);if(n&&1<n.length){var a=n[1];if(a&&1<a.length)return h.createElement($,{modelID:a})}return ze(e)}function We(e){var t=e.split("?"),n=void 0;if(2==t.length){var a=i.a.parse(t[1]);"id"in a&&(n=a.id.toString())}return void 0!==n?h.createElement(w,{sharedFileID:n}):ze(e)}function Qe(e){var t=Object(v.a)(e);if(t==Object(v.a)(_.c.STORE_BASE_URL)||t.toLocaleLowerCase().includes("steampowered.com")){var n=new RegExp(se).exec(e);if(n&&1<n.length){var a=Number(n[1]);if(0<a)return h.createElement("div",{className:z.AppSummaryWidgetCtn},h.createElement(m.j,{appid:a}))}}return ze(e)}function Ke(e,t){var n=Object(v.a)(e);if(n==Object(v.a)(_.c.STORE_BASE_URL)||n.toLocaleLowerCase().includes("steamcommunity.com")){var a=new RegExp(ce).exec(e);if(a&&2<a.length){var o=void 0,r=void 0,i=void 0,s=void 0;"gid"==a[1]?r=new b.a(a[2]):"groups"==a[1]?s=a[2]:isNaN(+a[2])?i=a[2]:o=Number(a[2]);var c=a[3];if((void 0!==o&&0<o||void 0!==i||void 0!==s||void 0!==r)&&null!=c&&0<c.length)return h.createElement(P,{appid:o,clanSteamID:r,strVanity:i,strGroupVanity:s,announcementGID:c,strURL:e})}}return ze(e)}function Ze(e,t){var n=Object(v.a)(e);if(n==Object(v.a)(_.c.STORE_BASE_URL)||n.toLocaleLowerCase().includes("steamcommunity.com")){var a=new RegExp(le).exec(e);if(a&&2<a.length){var o=void 0,r=void 0,i=void 0,s=void 0;"gid"==a[1]?r=new b.a(a[2]):"groups"==a[1]?s=a[2]:isNaN(+a[2])?i=a[2]:o=Number(a[2]);var c=a[3];if((void 0!==o&&0<o||void 0!==i||void 0!==s||void 0!==r)&&null!=c&&0<c.length)return h.createElement(P,{appid:o,clanSteamID:r,strVanity:i,strGroupVanity:s,eventGID:c,strURL:e})}}return ze(e)}},TQGK:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("mrSG"),a=n("vDqi"),i=n.n(a),o=n("2vnA"),s=n("kLLr"),c=n("lkRc"),l=n("r64O"),u=n("uIWk"),p=(n("3+zv"),new(function(){function e(){this.m_mapAppIDToClanInfo=new Map,this.m_mapVanityToClanInfo=new Map,this.m_mapClanAccountIDToClanInfo=new Map,this.m_mapPromisesLoading=new Map,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var t=this;this.m_bLoadedFromConfig||c.c.IN_CLIENT||Object(o.runInAction)(function(){var e=Object(c.f)("groupvanityinfo","application_config");t.ValidateClanConfig(e)&&e.forEach(function(e){t.InternalSetupValue(e)}),t.m_bLoadedFromConfig=!0})},e.prototype.ValidateClanConfig=function(e){var t=e;return!!(t&&Array.isArray(t)&&0<t.length&&"object"==typeof t[0])&&("number"==typeof t[0].clanAccountID&&("number"==typeof t[0].appid||"string"==typeof t[0].vanity_url))},e.prototype.InternalSetupValue=function(e){var t={clanAccountID:e.clanAccountID,clanSteamID:new s.a(e.clanSteamIDString),appid:e.appid,vanity_url:e.vanity_url,member_count:e.member_count,is_ogg:e.is_ogg,is_creator_home:e.is_creator_home,is_curator:e.is_curator,avatar_full_url:e.avatar_full_url,group_name:e.group_name,creator_page_bg_url:e.creator_page_bg_url};0!=e.appid&&this.m_mapAppIDToClanInfo.set(e.appid,t),e.vanity_url&&0<e.vanity_url.length&&this.m_mapVanityToClanInfo.set(e.vanity_url,t),this.m_mapClanAccountIDToClanInfo.set(e.clanAccountID,t)},e.prototype.GetRequestParam=function(){return{origin:self.origin}},e.prototype.LoadOGGClanInfoForAppID=function(n){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){return this.LazyInit(),"string"==typeof n&&(n=parseInt(n)),Object(l.a)(0!=n,"LoadOGGClanInfoForAppID called with appid of zero"),0==n?[2,null]:this.m_mapAppIDToClanInfo.has(n)?[2,this.m_mapAppIDToClanInfo.get(n)]:(t="appid_"+n,this.m_mapPromisesLoading.has(t)||this.m_mapPromisesLoading.set(t,this.InternalLoadOGGClanInfoForAppID(n)),[2,this.m_mapPromisesLoading.get(t)])})})},e.prototype.InternalLoadOGGClanInfoForAppID=function(a){return Object(r.b)(this,void 0,void 0,function(){var t,n;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=c.c.COMMUNITY_BASE_URL+"ogg/"+a+"/ajaxgetvanityandclanid/",[4,i.a.get(t,{params:this.GetRequestParam()})];case 1:return n=e.sent(),this.InternalSetupValue(n.data),[2,this.m_mapAppIDToClanInfo.get(a)]}})})},e.prototype.LoadOGGClanInfoForIdentifier=function(n){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){return this.LazyInit(),this.m_mapVanityToClanInfo.has(n)?[2,this.m_mapVanityToClanInfo.get(n)]:(t="storevanity_"+n,this.m_mapPromisesLoading.has(t)||this.m_mapPromisesLoading.set(t,this.InternalLoadOGGClanInfoForIdentifier(n)),[2,this.m_mapPromisesLoading.get(t)])})})},e.prototype.InternalLoadOGGClanInfoForIdentifier=function(a){return Object(r.b)(this,void 0,void 0,function(){var t,n;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=c.c.COMMUNITY_BASE_URL+"games/"+a+"/ajaxgetvanityandclanid/",[4,i.a.get(t,{params:this.GetRequestParam()})];case 1:return n=e.sent(),this.InternalSetupValue(n.data),[2,this.m_mapVanityToClanInfo.get(a)]}})})},e.prototype.LoadOGGClanInfoForGroupVanity=function(n){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){return this.LazyInit(),this.m_mapVanityToClanInfo.has(n)?[2,this.m_mapVanityToClanInfo.get(n)]:(t="community_name_"+n,this.m_mapPromisesLoading.has(t)||this.m_mapPromisesLoading.set(t,this.InternalLoadOGGClanInfoForGroupVanity(n)),[2,this.m_mapPromisesLoading.get(t)])})})},e.prototype.InternalLoadOGGClanInfoForGroupVanity=function(a){return Object(r.b)(this,void 0,void 0,function(){var t,n;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=c.c.COMMUNITY_BASE_URL+"groups/"+a+"/ajaxgetvanityandclanid/",[4,i.a.get(t,{params:this.GetRequestParam()})];case 1:return n=e.sent(),this.InternalSetupValue(n.data),[2,this.m_mapVanityToClanInfo.get(a)]}})})},e.prototype.LoadOGGClanInfoForClanSteamID=function(a){return Object(r.b)(this,void 0,void 0,function(){var t,n;return Object(r.e)(this,function(e){return this.LazyInit(),t=a.GetAccountID(),this.m_mapClanAccountIDToClanInfo.has(t)?[2,this.m_mapClanAccountIDToClanInfo.get(t)]:(n="clanaccountid_"+t,this.m_mapPromisesLoading.has(n)||this.m_mapPromisesLoading.set(n,this.InternalLoadOGGClanInfoForClanSteamID(a)),[2,this.m_mapPromisesLoading.get(n)])})})},e.prototype.InternalLoadOGGClanInfoForClanSteamID=function(o){return Object(r.b)(this,void 0,void 0,function(){var t,n,a;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=o.GetAccountID(),n=c.c.COMMUNITY_BASE_URL+"gid/"+o.ConvertTo64BitString()+"/ajaxgetvanityandclanid/",[4,i.a.get(n,{params:this.GetRequestParam()})];case 1:return a=e.sent(),this.InternalSetupValue(a.data),[2,this.m_mapClanAccountIDToClanInfo.get(t)]}})})},e.prototype.GetOGGClanInfo=function(e){return"string"==typeof e?this.m_mapVanityToClanInfo.get(e):this.m_mapAppIDToClanInfo.get(e)},e.prototype.GetClanSteamIDForAppID=function(e){if(this.m_mapAppIDToClanInfo.has(e))return s.a.InitFromClanID(this.m_mapAppIDToClanInfo.get(e).clanAccountID)},e.prototype.GetClanVanityForAppID=function(e){if(this.m_mapAppIDToClanInfo.has(e))return this.m_mapAppIDToClanInfo.get(e).vanity_url},e.prototype.GetClanVanityForClanSteamID=function(e){if(this.m_mapClanAccountIDToClanInfo.has(e.GetAccountID()))return this.m_mapClanAccountIDToClanInfo.get(e.GetAccountID()).vanity_url},e.prototype.GetClanMemberCount=function(e){return this.m_mapAppIDToClanInfo.has(e)?this.m_mapAppIDToClanInfo.get(e).member_count:0},e.prototype.GetClanInfoByClanAccountID=function(e){return Object(l.a)(!!e,"Unepxected clanid when requesting information. GetClanInfoByClanAccountID "),this.m_mapClanAccountIDToClanInfo.get(e)},e.prototype.GetCreatorStoreURL=function(e){var t=u.a.GetCreatorHome(e);if(t)return t.GetURL("developer");var n=this.GetClanInfoByClanAccountID(e.GetAccountID());return c.c.COMMUNITY_BASE_URL+(n.vanity_url?"groups/"+n.vanity_url:"gid/"+e.ConvertTo64BitString())},Object(r.c)([o.observable],e.prototype,"m_mapAppIDToClanInfo",void 0),Object(r.c)([o.observable],e.prototype,"m_mapVanityToClanInfo",void 0),Object(r.c)([o.observable],e.prototype,"m_mapClanAccountIDToClanInfo",void 0),Object(r.c)([o.action],e.prototype,"InternalSetupValue",null),e}()));window.g_ClanStore=p},TgKA:function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_comment_bubble_blue.png?v=3f1666db887b7483926275347007e7dc"},"U+Q5":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"d",function(){return I}),n.d(t,"a",function(){return O}),n.d(t,"e",function(){return D}),n.d(t,"b",function(){return C}),n.d(t,"f",function(){return A});var l,a,h=n("mrSG"),o=n("vDqi"),_=n.n(o),p=n("2vnA"),s=n("mgoM"),r=n("3+zv"),u=n("kLLr"),d=n("r64O"),i=n("qiKp"),m=n("X3Ds"),c=n("TLQK"),v=n("bDQf"),g=n("YyVH"),b=n("bxiW"),f=n("CdLH"),E=n("lkRc"),y=n("Kw0F");function I(e){return{width:r.b[e].width,height:r.b[e].height}}function S(e,t,n,a){if(void 0===a&&(a=!1),n)for(var o=0;o<n.length;++o){var r=n[o],i=I(r);if(i&&(i.width===e&&i.height===t||a&&i.width<=e&&i.height<=t))return r}}(a=l||(l={})).full="",a.background_main="_960x311",a.background_mini="_480x156",a.capsule_main="_400x225",a.spotlight_main="_1054x230";var O=function(){function m(){this.m_mapClanToImages=new Map,this.m_mapClanImageLoadState=new Map,this.m_mapImageIDToResolution=new Map,this.m_curLocImageGroup=null,this.m_curLocImageGroupType=null,this.m_vecClanImageDragListener=new Array}return m.prototype.BHasImageResolution=function(e){return this.m_mapImageIDToResolution.has(e.imageid)},m.prototype.GetImageResolution=function(e){return this.m_mapImageIDToResolution.get(e.imageid)},m.prototype.SetImageResolution=function(e,t){this.m_mapImageIDToResolution.set(e.imageid,t)},m.GetExtensionString=function(e){var t=".jpg";if(e.file_type)switch(e.file_type){case 1:t=".jpg";break;case 2:t=".gif";break;case 3:t=".png"}return t},m.GetExtensionTypeFromURL=function(e){return e.endsWith(".jpg")?1:e.endsWith(".png")?3:e.endsWith(".gif")?2:void 0},m.GetHashAndExt=function(e){return e.image_hash+m.GetExtensionString(e)},m.GetThumbHashAndExt=function(e){return e.thumbnail_hash+m.GetExtensionString(e)},m.prototype.AddClanImageDragListener=function(e){-1==this.m_vecClanImageDragListener.indexOf(e)&&this.m_vecClanImageDragListener.push(e)},m.prototype.RemoveClanImageDragListener=function(e){var t=this.m_vecClanImageDragListener.indexOf(e);-1!=t&&this.m_vecClanImageDragListener.splice(t,1)},m.prototype.GetClanImageDragListener=function(){return this.m_vecClanImageDragListener},m.prototype.BHasLoadedClanImages=function(e){return this.m_mapClanToImages.has(e.GetAccountID())},m.prototype.LoadClanImages=function(c,l,u){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s=this;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=c.GetAccountID(),Object(d.a)(c&&0!=t,"ClanSteamID missing:"+c),!c||this.m_mapClanToImages.has(t)&&!l?[3,2]:(n={},a=null,o=E.c.COMMUNITY_BASE_URL+"/gid/"+c.ConvertTo64BitString()+"/getimages/",[4,_.a.get(o,{params:n,withCredentials:!0,cancelToken:u?u.token:null})]);case 1:for(a=e.sent(),r=0,i=a.data.images;r<i.length;r++)i[r].clanAccountID=t;Object(p.runInAction)(function(){s.m_mapClanImageLoadState.set(t,{loaded:!0}),s.m_mapClanToImages.set(t,a.data.images)}),e.label=2;case 2:return[2,this.m_mapClanToImages.get(t)]}})})},m.prototype.GetLoadState=function(e){return this.m_mapClanImageLoadState.get(e.GetAccountID())},m.prototype.GetClanImages=function(e){var t=this.m_mapClanToImages.get(e.GetAccountID());return t||new Array},m.prototype.GetFilteredClanImages=function(e,t){var n=A.GetClanImages(e);if(t&&0<t.length){t=t.toLowerCase();for(var a=new Array,o=0,r=n;o<r.length;o++){var i=r[o];i.file_name&&0<=i.file_name.toLowerCase().indexOf(t)&&a.push(i)}return a}return n},m.prototype.GetClanImageByID=function(e,t){var n=e.GetAccountID(),a=this.m_mapClanToImages.get(n);return a?a.find(function(e){return e.imageid==t}):null},m.prototype.GetClanImageByURL=function(e,t){var n=e.GetAccountID(),a=this.m_mapClanToImages.get(n);return a?a.find(function(e){return e.thumb_url==t||e.url==t}):null},m.prototype.GetClanImageByFile=function(e,t){var n=e.GetAccountID(),a=this.m_mapClanToImages.get(n);return a?a.find(function(e){return e.file_name==t.name}):null},m.prototype.GetClanImageByImageHash=function(e,t){var n=e.GetAccountID(),a=this.m_mapClanToImages.get(n);return a?a.find(function(e){return e.image_hash==t}):null},m.prototype.DeleteClanImageByID=function(i,s){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r;return Object(h.e)(this,function(e){switch(e.label){case 0:return t={sessionid:E.c.SESSIONID,imageid:s},n=i.GetAccountID(),[4,_.a.get(E.c.COMMUNITY_BASE_URL+"/gid/"+i.ConvertTo64BitString()+"/deleteimage/",{params:t})];case 1:return(a=e.sent())&&200==a.status&&1==a.data.success&&(o=this.m_mapClanToImages.get(n),0<=(r=o.findIndex(function(e,t,n){return e.imageid==s}))&&o.splice(r,1)),[2,a.data]}})})},m.prototype.DeleteClanImage=function(t,n){return Object(h.b)(this,void 0,void 0,function(){return Object(h.e)(this,function(e){return[2,this.DeleteClanImageByID(t,n.imageid)]})})},m.prototype.DetectLanguageFromURL=function(e,t){var n=this.GetClanImageByURL(e,t);return n?this.DetectLanguageFromFilename(n.file_name):null},m.prototype.DetectLangageFromClanImage=function(e){return this.DetectLanguageFromFilename(e.file_name)},m.prototype.DetectLanguageFromFilename=function(e){var t=e.lastIndexOf(".");-1!=t&&(e=e.slice(0,t).toLowerCase());for(var n=0;n<29;++n){if(e.endsWith(Object(s.c)(n)))return n;if(4==n&&e.endsWith("koreana"))return n}return null},m.GetHashFromHashAndExt=function(e){var t=e.substring(e.lastIndexOf("."));return e.substring(0,e.length-t.length)},m.GetExtensionStringFromHashAndExt=function(e){return e.substring(e.lastIndexOf("."))},m.GenerateArtworkURLFromHashAndExtensions=function(e,t,n,a,o){if(void 0===n&&(n=l.full),n!=l.full||a){var r=t.substring(t.lastIndexOf(".")),i=t.substring(0,t.length-r.length);return a&&"localized_image_group"==o?E.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/"+e.GetAccountID()+"/"+i+"/"+Object(s.c)(a)+r:E.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/"+e.GetAccountID()+"/"+i+n+r}return E.c.MEDIA_CDN_COMMUNITY_URL+"images/clans/"+e.GetAccountID()+"/"+t},m.GenerateEditableArtworkURLFromHashAndExtension=function(e,t,n){var a=E.c.COMMUNITY_BASE_URL+"gid/"+e.ConvertTo64BitString()+"/showclanimage/?image_hash_and_ext="+t;return n&&(a+="&lang="+n),a},m.GetMimeType=function(e){var t=e.substr(e.length-3);switch(t){case"jpg":return"image/jpeg";case"gif":return"image/gif";case"png":return"image/png"}return"image/"+t},m.prototype.AsyncGetImageResolution=function(a,o,r,i,s){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=o+m.GetExtensionString({file_type:r}),n=m.GenerateEditableArtworkURLFromHashAndExtension(a,t),[4,this.AsyncGetImageResolutionInternal(n,i,s)];case 1:return[2,e.sent()]}})})},m.prototype.AsyncGetImageResolutionInternal=function(r,i,s){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o;return Object(h.e)(this,function(e){switch(e.label){case 0:t={success:void 0},(n=new Image).crossOrigin="anonymous",n.onerror=function(e){s||(t.err_msg="Load fail on url "+r+" with error: "+Object(v.a)(e).strErrorMsg,console.error(t.err_msg)),t.success=2},n.onload=function(){t.width=n.width,t.height=n.height,Object(d.a)(0<t.width&&0<t.height,"unexpected image resolution discovered for strURL: "+r),t.success=1},n.src=r,i.token.promise.catch(function(e){n.onload=function(){},t.success=52}),a=0,o=100,e.label=1;case 1:return void 0===t.success&&a<o?[4,Object(f.e)(100)]:[3,3];case 2:return e.sent(),a+=1,[3,1];case 3:return o<=a&&(t.success=16,t.err_msg="We timed out processing images"),[2,t]}})})},m.ConvertImageToArtworkCapsules=function(e,t,n){var a=1920/e.width,o=document.createElement("canvas"),r=o.getContext("2d");o.width=t,o.height=n;var i=Object(g.a)((e.width*a-960)/2/a,0,e.width),s=Object(g.a)(154.5/a,0,e.height);return r.drawImage(e,i,s,960/a,311/a,0,0,t,n),o},m.prototype.AsyncOverlay=function(o,c,l,u,p,d){return Object(h.b)(this,void 0,void 0,function(){var r,i,s,t,n,a;return Object(h.e)(this,function(e){switch(e.label){case 0:i=r=void 0,(s=new Image).crossOrigin="anonymous",s.onerror=function(e){r="Load fail on url "+l+" with error: "+Object(v.a)(e).strErrorMsg,console.log(r)},s.onload=function(){var o=new Image;o.crossOrigin="anonymous",o.onerror=function(e){r="Load fail on url "+c+" with error: "+Object(v.a)(e).strErrorMsg,console.log(r)},o.onload=function(){try{var e=document.createElement("canvas"),t=e.getContext("2d");e.width=p,e.height=d,t.drawImage(o,0,0,p,d);var n=(p-s.width)/2,a=(d-s.height)/2;t.drawImage(s,n,a),e.toBlob(function(e){return i=e},"image/jpeg")}catch(e){r="Failed during image processing for "+u+" with "+e}},o.src=c},s.src=l,t=0,n=100,e.label=1;case 1:return void 0===i&&t<n?[4,Object(f.e)(100)]:[3,3];case 2:return e.sent(),t+=1,[3,1];case 3:if(n<=t&&void 0===i&&(r="AsyncOverlay - We timed out processing images"),r)throw console.log(r),{success:2,err_msg:r};return[4,new C(o).UploadFile(i,u)];case 4:return[2,(a=e.sent()).image_hash+m.GetExtensionString(a)]}})})},m.prototype.BDoesClanImageFileExistsOnCDNOrOrigin=function(a,o,r,i){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=E.c.COMMUNITY_BASE_URL+"gid/"+o.ConvertTo64BitString()+"/hasclanimagefile",n={image_hash_and_ext:r,lang:""+i},[4,_.a.get(t,{params:n,cancelToken:a&&a.token})];case 1:return[2,1==e.sent().data.success]}})})},m.prototype.SetPrimaryImageForImageGroup=function(e,t){this.m_curLocImageGroup&&this.m_curLocImageGroup.primaryImage.imageid==e.imageid&&t==this.m_curLocImageGroupType||(this.m_curLocImageGroup={primaryImage:e,localized_images:[]},this.m_curLocImageGroupType=t,this.m_curLocImageGroup.localized_images=Object(y.e)(this.m_curLocImageGroup.localized_images,29,null))},m.prototype.ClearImageGroup=function(){this.m_curLocImageGroup=null,this.m_curLocImageGroupType=null},m.prototype.GetLocalizedImageGroupForEdit=function(){return this.m_curLocImageGroup},m.prototype.GetLocalizedImageGroupForEditAsURL=function(e,t){var n=this.m_curLocImageGroup.primaryImage;return this.m_curLocImageGroup.localized_images[t]?this.m_curLocImageGroup.localized_images[t]:m.GenerateArtworkURLFromHashAndExtensions(e,m.GetHashAndExt(n))},m.prototype.GetLocalizedImageGroupForEditAsImgArray=function(e){return this.GetAllLocalizedGroupImages()},m.prototype.DetermineAvailableLocalizationForGroup=function(c){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s=this;return Object(h.e)(this,function(e){switch(e.label){case 0:for(t=this.m_curLocImageGroup.primaryImage,n=u.a.InitFromClanID(t.clanAccountID),a=m.GetHashAndExt(t),o=[],r=0;r<29;++r)o.push(this.BDoesClanImageFileExistsOnCDNOrOrigin(c,n,a,r));return[4,Promise.all(o)];case 1:return i=e.sent(),Object(p.runInAction)(function(){for(var e=0;e<29;++e)i[e]&&(s.m_curLocImageGroup.localized_images[e]=m.GenerateArtworkURLFromHashAndExtensions(n,a,l.full,e,s.m_curLocImageGroupType))}),[2]}})})},m.prototype.SetLocalizedImageGroupAtLang=function(e,t,n){this.m_curLocImageGroup&&(this.m_curLocImageGroup.localized_images[e]=n?m.GenerateArtworkURLFromHashAndExtensions(t,n,l.full,e,this.m_curLocImageGroupType):null)},m.prototype.AddLocalizeImageUploaded=function(e,t){var n=this.m_curLocImageGroup.primaryImage;if(n.image_hash==e){var a=u.a.InitFromClanID(n.clanAccountID),o=m.GetHashAndExt(n);this.m_curLocImageGroup.localized_images[t]=m.GenerateArtworkURLFromHashAndExtensions(a,o,l.full,t,this.m_curLocImageGroupType)}},m.prototype.GetAllLocalizedGroupImages=function(){return this.m_curLocImageGroup&&this.m_curLocImageGroup.localized_images||[]},Object(h.c)([p.observable],m.prototype,"m_mapClanToImages",void 0),Object(h.c)([p.observable],m.prototype,"m_mapClanImageLoadState",void 0),Object(h.c)([p.observable],m.prototype,"m_curLocImageGroup",void 0),m}(),D=function(){function e(e,t,n,a,o){if(this.file=e,this.language=t,this.uploadTime=Date.now(),this.img=n,this.localizedImageGroupPrimaryImage=o,a){var r=S(n.width,n.height,a,!1);void 0===r&&(r=S(n.width,n.height,a,!0)),this.type=r||a[0]}this.status="pending",this.ResetImage()}return e.prototype.ResetImage=function(){this.height=this.img.height,this.width=this.img.width,this.dataUrl=this.img.src},e.prototype.CropImage=function(o,r,i,s,c,l){return Object(h.b)(this,void 0,void 0,function(){var a=this;return Object(h.e)(this,function(e){return[2,new Promise(function(t){var n=document.createElement("canvas");n.width=c,n.height=l;n.getContext("2d").drawImage(a.img,o,r,i,s,0,0,c,l),n.toBlob(function(e){a.file=Object(m.d)(e,a.file.name),a.width=c,a.height=l,a.dataUrl=n.toDataURL("image/png"),a.uploadTime=Date.now(),t()})})]})})},e.prototype.BIsValidDimensions=function(e){var t=this;if(e.some(function(e){return t.type===e})){if(void 0===this.width&&void 0===this.height)return!0;if(r.b[this.type]&&r.b[this.type].bDisableEnforceDimensions)return!0;var n=S(this.width,this.height,e);return"broadcast_right"===this.type&&"broadcast_left"===n||n===this.type}return!1},e.prototype.BIsOriginalMinimumDimensions=function(e){return this.img.width>=r.b[e].width&&this.img.height>=r.b[e].height},e.prototype.GetResizeDimension=function(){return e.GetResizeDimension(this.type)},e.GetResizeDimension=function(e){return"background"===e?[{width:960,height:311},{width:480,height:156}]:"capsule"===e?[{width:r.b[e].width/2,height:r.b[e].height/2}]:"spotlight"===e?[{width:r.b[e].width/2,height:r.b[e].height/2}]:void 0},Object(h.c)([p.observable],e.prototype,"dataUrl",void 0),Object(h.c)([p.observable],e.prototype,"width",void 0),Object(h.c)([p.observable],e.prototype,"height",void 0),Object(h.c)([p.observable],e.prototype,"type",void 0),Object(h.c)([p.observable],e.prototype,"status",void 0),Object(h.c)([p.observable],e.prototype,"message",void 0),e}(),C=function(){function e(e){this.m_filesToUpload=[],this.m_filesCompleted=[],this.m_allCancelTokens=new Array,this.m_clanSteamID=e}return e.prototype.AddImage=function(i,t,s,c){return void 0===t&&(t=0),Object(h.b)(this,void 0,void 0,function(){var o,r=this;return Object(h.e)(this,function(e){switch(e.label){case 0:return o=!1,[4,new Promise(function(n){var a=A.DetectLanguageFromFilename(i.name)||t,e=new FileReader;e.onload=function(){var t=new Image;t.onload=function(){var e=new D(i,a,t,s,c);r.m_filesToUpload.push(e),o=!0,n()},t.onerror=function(e){console.error("CClanImageUploader failed to load the image, details",e),o=!1,n()},t.src=e.result.toString()},e.readAsDataURL(i)})];case 1:return e.sent(),[2,o]}})})},e.prototype.AddExistingClanImage=function(r,i,s,c){return void 0===i&&(i=0),Object(h.b)(this,void 0,void 0,function(){var t,n,a,o;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=O.GetHashAndExt(r),n=O.GenerateEditableArtworkURLFromHashAndExtension(this.m_clanSteamID,t),[4,_()({url:n,method:"GET",responseType:"blob"})];case 1:return a=e.sent(),o=Object(m.d)(a.data,r.file_name),[2,this.AddImage(o,i,s,c)]}})})},e.prototype.DeleteUploadImageByIndex=function(e){this.m_filesToUpload.splice(e,1)},e.prototype.DeleteUploadImage=function(t){var e=this.m_filesToUpload.findIndex(function(e){return t.file==e.file&&t.uploadTime==e.uploadTime});0<=e&&this.DeleteUploadImageByIndex(e)},e.prototype.ClearImages=function(){this.m_filesToUpload=[]},e.prototype.GetFilesUploaded=function(){return this.m_filesCompleted},e.prototype.GetLastErrorFile=function(){return this.m_lastError},e.prototype.GetCompletedFiles=function(){return this.m_filesCompleted.length},e.prototype.GetTotalFiles=function(){return this.m_filesToUpload.length},e.prototype.GetFilesToUpload=function(){return this.m_filesToUpload.map(function(e){return e.file})},e.prototype.BHasError=function(){return null!=this.m_lastError},e.prototype.BAllDone=function(){return 0<this.m_filesCompleted.length&&this.m_filesCompleted.length==this.m_filesToUpload.length},e.prototype.BIsFileCompleted=function(e){return-1!=this.m_filesCompleted.indexOf(e)},e.prototype.UploadAllFiles=function(r){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o;return Object(h.e)(this,function(e){switch(e.label){case 0:for(t={},n=0;n<this.m_filesToUpload.length;++n)a=this.m_filesToUpload[n],this.BIsFileCompleted(a.file)||r&&!a.BIsValidDimensions(r)||(a.status="uploading",o=a.uploadTime+"/"+a.file.name,t[o]=this.UploadFile(a.file,a.file.name,a.GetResizeDimension(),a.localizedImageGroupPrimaryImage,a.language));return[4,Object(i.d)(t)];case 1:return[2,e.sent()]}})})},e.prototype.CancelAllUploads=function(){for(var e=0,t=this.m_allCancelTokens;e<t.length;e++){t[e].cancel(Object(c.c)("#ImageUpload_CancelRequest"))}this.m_allCancelTokens=new Array},e.prototype.RetryAllFailedUploads=function(){this.CancelAllUploads(),this.UploadAllFiles()},e.prototype.handleUploadRefresh=function(t){return Object(h.b)(this,void 0,void 0,function(){return Object(h.e)(this,function(e){switch(e.label){case 0:return[4,A.LoadClanImages(this.m_clanSteamID,!0,t)];case 1:return e.sent(),[2]}})})},e.prototype.UploadFile=function(c,l,u,p,d){return Object(h.b)(this,void 0,void 0,function(){var t,n,a,o,r,i,s;return Object(h.e)(this,function(e){switch(e.label){case 0:t=null,(n=new FormData).append("clanimage",c,l),n.append("sessionid",E.c.SESSIONID),u&&0<u.length&&n.append("resize",u.map(function(e){return e.width+"x"+e.height}).join(",")),a="/uploadimage/",p&&(a="/ajaxuploadlocalizedimage/",n.append("origimagehash",p.image_hash),n.append("thumbhash",p.thumbnail_hash),n.append("extension",""+p.file_type),n.append("language",""+d)),o=_.a.CancelToken.source(),this.m_allCancelTokens.push(o),r=E.c.COMMUNITY_BASE_URL+"/gid/"+this.m_clanSteamID.ConvertTo64BitString()+a,i={cancelToken:o.token,withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,_.a.post(r,n,i)];case 2:return t=e.sent(),this.m_filesCompleted.push(c),[3,4];case 3:return s=e.sent(),this.m_lastError={file:c,status:s.response?s.response.status:500,message:Object(v.a)(s).strErrorMsg},t=s.response,[3,4];case 4:return p?[3,6]:[4,this.handleUploadRefresh(o)];case 5:e.sent(),e.label=6;case 6:return[2,t.data]}})})},e.SendResizeRequest=function(a,o,r,i,s){return Object(h.b)(this,void 0,void 0,function(){var t,n;return Object(h.e)(this,function(e){switch(e.label){case 0:return t=E.c.COMMUNITY_BASE_URL+"/gid/"+o.ConvertTo64BitString()+"/resizeimage/",(n=new FormData).append("imagehash",r),n.append("extension",i),n.append("resize",s.map(function(e){return e.width+"x"+e.height}).join(",")),n.append("sessionid",E.c.SESSIONID),[4,_.a.post(t,n,{cancelToken:a.token})];case 1:return[2,e.sent().data.count]}})})},Object(h.c)([p.observable],e.prototype,"m_filesToUpload",void 0),Object(h.c)([p.observable],e.prototype,"m_filesCompleted",void 0),Object(h.c)([p.observable],e.prototype,"m_lastError",void 0),Object(h.c)([b.a],e.prototype,"AddImage",null),Object(h.c)([b.a],e.prototype,"AddExistingClanImage",null),Object(h.c)([b.a],e.prototype,"DeleteUploadImageByIndex",null),Object(h.c)([b.a],e.prototype,"DeleteUploadImage",null),Object(h.c)([b.a],e.prototype,"ClearImages",null),e}(),A=new O},Wb2E:function(e,t,n){e.exports={Emoticon_Toggle:"emoticonsuggestion_Emoticon_Toggle_Y5J3n",Active:"emoticonsuggestion_Active_YCbwL",Emoticon:"emoticonsuggestion_Emoticon_2o57_"}},Wwly:function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_thumbs_up.png?v=774f54c9a34cf663628faf99e93cc982"},YLyR:function(e,t,n){"use strict";n.d(t,"d",function(){return y}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return I}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return d});var v=n("mrSG"),g=n("q1tI"),a=n("5E+2"),b=n("TLQK"),o=n("okNM"),c=n("exH9"),f=n("CdLH"),r=n("Ee63"),E=n.n(r),l=n("f0Wu");var i,s=(i=b.b.GetPreferredLocales()[0],null==(new Date).toLocaleTimeString(i).match(new RegExp("am|pm","i")));function y(e,t){var n=s?"HH:mm":"h:mm a",a=l.tz.guess(),o=l.unix(e).tz(a);return g.createElement(g.Fragment,null,o.format(n),t?g.createElement("span",{"data-tooltip-text":o.format("Z")+", "+a}," ",o.zoneAbbr()):null)}var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(v.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.dateAndTime,n=e.bSingleLine,a=e.bOnlyTime,o=!a,r=o&&Object(b.g)(t),i=this.props.stylesmodule?Object(v.a)(Object(v.a)({},E.a),this.props.stylesmodule):E.a;return n?g.createElement("span",{className:a?i.DateAndTimeInline:i.DateAndTime},o&&r,g.createElement("span",null," "),y(t,!0)):g.createElement("div",{className:i.DateAndTime},o&&g.createElement(g.Fragment,null,g.createElement("div",{className:i.LocalizedDate},r)," ",g.createElement("span",{className:i.At},"@")),g.createElement("div",{className:i.LocalizedTime},y(t,!0)))},t=Object(v.c)([o.observer],t)}(g.Component),I=function(e){var t=g.createElement(u,{dateAndTime:e.rtFullDate,bSingleLine:!0,stylesmodule:e.stylesmodule});return g.createElement(a.a,{toolTipContent:t,direction:"top",className:e.className,strTooltipClassname:e.stylesmodule.DateToolTip},e.children)},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(v.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.startDateAndTime,n=e.endDateAndTime,a=this.props.stylesmodule?Object(v.a)(Object(v.a)({},E.a),this.props.stylesmodule):E.a,o=this.props.bHideEndTime||null==this.props.endDateAndTime||this.props.endDateAndTime<1;if(null==t||0==t)return g.createElement("div",{className:a.DateAndTime},g.createElement("span",{className:a.RightSideTitles},Object(b.c)("#EventDisplay_TimeRange")),Object(b.c)("#EventDisplay_TimeDisplayNone"));var r=l().unix();if(o)return g.createElement("div",null,g.createElement("div",{className:a.RightSideTitles},Object(b.c)(t<r?"#EventDisplay_TimeInPast":"#EventDisplay_TimeUpcoming")," "),g.createElement(u,{stylesmodule:a,dateAndTime:t}));var i=t<=r&&r<=n,s=Object(f.a)(new Date(1e3*t),new Date(1e3*n));return g.createElement("div",{className:a.MultiDateAndTime},g.createElement("span",{className:a.RightSideTitles},Object(b.c)(r<=t?"#EventDisplay_TimeBeginsOn":r<=n?"#EventDisplay_TimeBeginsOn_Past":"#EventDisplay_TimeBeginsOn_StartAndEnd_Past")),g.createElement(u,{stylesmodule:a,bSingleLine:!0,dateAndTime:t}),g.createElement("span",{className:a.RightSideTitles},Object(b.c)(n<r?"#EventDisplay_TimeEndsOn_Past":"#EventDisplay_TimeEndsOn")),g.createElement(u,{stylesmodule:a,bSingleLine:!0,bOnlyTime:s,dateAndTime:n}),i&&g.createElement("span",{className:a.ActiveEvent},g.createElement("span",{className:Object(c.a)(a.RightSideTitles,a.ActiveEventCallOut)},Object(b.c)("#EventDisplay_TimeEventOnNow"))))},t=Object(v.c)([o.observer],t)}(g.Component),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(v.d)(t,e),t.prototype.render=function(){var e=this.props,t=e.startDateAndTime,n=e.endDateAndTime,a=e.bHideEndTime,o=this.props.stylesmodule?Object(v.a)(Object(v.a)({},E.a),this.props.stylesmodule):E.a;if(null==t||0==t)return g.createElement("div",{className:o.DateAndTime},g.createElement("span",{className:o.RightSideTitles},Object(b.c)("#EventDisplay_TimeRange")),Object(b.c)("#EventDisplay_TimeDisplayNone"));var r=new Date,i=r.getTime()/1e3,s=Object(f.b)(new Date(1e3*t),r),c=g.createElement("div",{className:o.ShortDateAndTime},Object(b.g)(t,s)),l=g.createElement(I,{rtFullDate:t,stylesmodule:o},g.createElement("div",{className:o.RightSideTitles},Object(b.c)(t<i?"#EventDisplay_TimeInPast":"#EventDisplay_TimeUpcoming")),c);if(i<t&&t<i+f.d.PerWeek&&(l=g.createElement(I,{rtFullDate:t,stylesmodule:o},g.createElement("div",{className:o.RightSideTitles},Object(b.i)("#EventDisplay_EventUpcoming_WithDateAndTime",c,g.createElement("div",{className:o.ShortDateAndTime},y(t)," "))))),a||null==n||n<1)return l;var u=t<=i&&i<=n;u&&(l=g.createElement(I,{rtFullDate:t,className:o.ActiveEvent,stylesmodule:o},g.createElement("span",{className:o.ActiveEventCallOut},Object(b.c)("#EventDisplay_TimeEventOnNow"))));var p=null,d=u?n-i:n-t;if(d<=f.d.PerDay){var m=g.createElement("div",{className:o.ShortDateAndTime},Object(b.l)(d,!0));p=n<i?g.createElement("div",{className:o.RightSideTitles},Object(b.c)("#EventDisplay_TimeEndsOn_Ran"),m):g.createElement("div",{className:o.RightSideTitles},Object(b.i)(u?"#EventDisplay_TimeLeft":"#EventDisplay_RunsForDuration",m))}else{var h=r.getFullYear()==new Date(1e3*n).getFullYear();p=g.createElement(g.Fragment,null,g.createElement("div",{className:o.RightSideTitles},Object(b.c)(n<i?"#EventDisplay_TimeEndsOn_Past":"#EventDisplay_TimeEndsOn")),g.createElement("div",{className:o.ShortDateAndTime},Object(b.g)(n,h)))}var _=g.createElement(I,{rtFullDate:n,stylesmodule:o},p);return g.createElement("div",{className:o.ShortDateRange},l,_)},t=Object(v.c)([o.observer],t)}(g.Component)},apHd:function(e,t,n){"use strict";function a(e){return window.StoreDefaults?window.StoreDefaults[e]:void 0}n.d(t,"a",function(){return a})},bWts:function(e,t,n){e.exports={BlockQuote:"eventbbcodeparser_BlockQuote_2cY7b",BlockQuoteAuthor:"eventbbcodeparser_BlockQuoteAuthor_Jyzed",PullQuote:"eventbbcodeparser_PullQuote_UZBJN",Code:"eventbbcodeparser_Code_1zoQP",Header1:"eventbbcodeparser_Header1_SPYFj",Header2:"eventbbcodeparser_Header2_QuKtT",Header3:"eventbbcodeparser_Header3_3s7cU",HR:"eventbbcodeparser_HR_2IENn",Link:"eventbbcodeparser_Link_29bMZ",LinkHost:"eventbbcodeparser_LinkHost_16eO9",LinkButton:"eventbbcodeparser_LinkButton_2HnDg",Strike:"eventbbcodeparser_Strike_1tIBv",Spoiler:"eventbbcodeparser_Spoiler_3QcA9",UnorderList:"eventbbcodeparser_UnorderList_3995Y",Table:"eventbbcodeparser_Table_3sT80",TableHeader:"eventbbcodeparser_TableHeader_3WcB-",sharedFilePreviewImage:"eventbbcodeparser_sharedFilePreviewImage_2bwhK",TableData:"eventbbcodeparser_TableData_1skQk",TableRow:"eventbbcodeparser_TableRow_sc_Sn",StoreWidget:"eventbbcodeparser_StoreWidget_36Y-l",MedalTVWidget:"eventbbcodeparser_MedalTVWidget_1j2vi",AppSummaryWidgetCtn:"eventbbcodeparser_AppSummaryWidgetCtn_3DfY9",SaleSectionCtn:"eventbbcodeparser_SaleSectionCtn_39HWX",ReminderCtn:"eventbbcodeparser_ReminderCtn_25AZk",NoBorder:"eventbbcodeparser_NoBorder_1ZU5y"}},"c+D6":function(e,t,n){e.exports={StoreSalePriceWidget:"packagepricewidget_StoreSalePriceWidget_NIRD8",StoreSaleDiscountedPriceCtn:"packagepricewidget_StoreSaleDiscountedPriceCtn_2M2uu",StoreSalePriceBox:"packagepricewidget_StoreSalePriceBox_pk-Lo",StoreSaleDiscountBox:"packagepricewidget_StoreSaleDiscountBox_XMxka",StoreOrignalPrice:"packagepricewidget_StoreOrignalPrice_3TcPB"}},cGQe:function(e,t,n){"use strict";var c=n("mrSG"),p=n("q1tI"),a=n("okNM"),o=n("wd/R"),r=n("BFsE"),l=n("mgoM"),i=n("TtDX"),s=n("5bld"),d=n("O0NR"),m=n("9w6b"),u=n("2vnA"),h=n("lkRc"),_=n("vDqi"),v=n.n(_),g=new(function(){function e(){this.m_bValidatedEmail=!1,this.m_nMobileDeviceCount=0,this.m_bIsLoaded=!1,this.m_bLoadedFromConfig=!1}return e.prototype.LazyInit=function(){var e=this;if(!this.m_bLoadedFromConfig){var t=Object(h.f)("notificationstore","application_config");this.ValidateStoreDefault(t)&&Object(u.runInAction)(function(){e.m_bIsLoaded=!0,e.m_bValidatedEmail=t.email_validated,e.m_nMobileDeviceCount=t.mobile_device_count}),this.m_bLoadedFromConfig=!0}},e.prototype.ValidateStoreDefault=function(e){return e&&"object"==typeof e&&"number"==typeof e.mobile_device_count},e.prototype.BIsLoaded=function(){return this.m_bIsLoaded},e.prototype.BHasValidatedEmail=function(){return this.m_bValidatedEmail},e.prototype.BHasPushNotification=function(){return 0<this.m_nMobileDeviceCount},e.prototype.HintLoad=function(){return Object(c.b)(this,void 0,void 0,function(){return Object(c.e)(this,function(e){return this.LazyInit(),this.m_bIsLoaded?[2,1]:h.i.logged_in?(this.m_promise||(this.m_promise=this.InternalLoad()),[2,this.m_promise]):[2,1]})})},e.prototype.InternalLoad=function(){return Object(c.b)(this,void 0,void 0,function(){var t,n,a,o=this;return Object(c.e)(this,function(e){switch(e.label){case 0:return t=h.c.STORE_BASE_URL+"notification/ajaxusersettings",n={authwgtoken:h.i.authwgtoken},[4,v.a.get(t,{params:n,withCredentials:!0})];case 1:return 1==(a=e.sent()).data.success&&Object(u.runInAction)(function(){o.m_bIsLoaded=!0,o.m_bValidatedEmail=a.data.email_validated,o.m_nMobileDeviceCount=a.data.mobile_device_count}),[2,a.data.success]}})})},Object(c.c)([u.observable],e.prototype,"m_bValidatedEmail",void 0),Object(c.c)([u.observable],e.prototype,"m_nMobileDeviceCount",void 0),e}()),b=n("Mgs7"),f=n("YLyR"),E=n("Jqb/"),y=n("ka0M"),I=n("6Y59"),S=n("0OaU"),O=n("5E+2"),D=n("exH9"),C=n("TLQK"),A=n("bDQf"),T=n("bxiW"),w=n("CdLH"),j=n("bWts"),L=n.n(j),k=n("R3/U"),N=n("fpVW"),M=n("+jbA");n.d(t,"a",function(){return G});var G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_elDropDownRef=p.createRef(),e.m_bLoadWasCancelled=!1,e.state={bIsOpen:!1,bIsLoadingNotificationSettings:!g.BIsLoaded()},e}return Object(c.d)(e,t),e.prototype.componentDidMount=function(){var t=this;this.state.bIsLoadingNotificationSettings&&g.HintLoad().catch(function(e){return console.log(Object(A.a)(e).strErrorMsg),2}).then(function(e){1!=e||t.m_bLoadWasCancelled||t.setState({bIsLoadingNotificationSettings:!1})})},e.prototype.componentWillUnmount=function(){this.m_bLoadWasCancelled=!0},e.prototype.ToggleMenu=function(e){var t=m.a.Get().BIsUserLoggedIn();t||h.c.IN_CLIENT?(!t&&h.c.IN_CLIENT&&console.log("EventReminderWidget: In Client: Cannot use login widget. We expect to be already logged in."),this.state.bIsOpen?this.HideMenu():this.ShowMenu(),e.stopPropagation(),e.preventDefault()):Object(y.d)(p.createElement(E.b,{strTitle:Object(C.c)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(C.c)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(C.c)("#MobileLogin_SignIn"),onOK:function(){return Object(r.a)()}}),window)},e.prototype.ShowMenu=function(){var e=this;if(this.m_iMenuInstance)this.m_iMenuInstance.Show();else{var t=p.createElement(x,Object(c.a)({},this.props,{fnHasReminderSet:function(){return e.BHasSomeNotificationSetting()},fnHidePanel:this.HideMenu})),n={bOverlapHorizontal:!0,bOverlapVertical:!0,bDisablePopTop:!0,bMatchWidth:!0,strClassName:Object(D.a)(k.ReminderDialog,k.ReminderOptions,M.contextMenu)};this.m_iMenuInstance=Object(i.a)(t,this.m_elDropDownRef.current,n),this.m_iMenuInstance.SetOnHideCallback(this.HideMenu)}this.setState({bIsOpen:!0}),d.b.RecordAppInteractionEvent(this.props.eventModel.appid,d.a.k_eReminder_Opened)},e.prototype.HideMenu=function(){this.m_iMenuInstance&&this.m_iMenuInstance.Hide(),this.setState({bIsOpen:!1})},e.prototype.BHasSomeNotificationSetting=function(){var e=this.props,t=e.eventModel,n=e.eventGID;return g.BHasValidatedEmail()&&m.a.Get().BFollowsEventAndNotifiedBy(t.clanSteamID,n,m.b.k_ENotifyFlagByEmail)||g.BHasPushNotification()&&m.a.Get().BFollowsEventAndNotifiedBy(t.clanSteamID,n,m.b.k_ENotifyFlagByPush)},e.prototype.render=function(){var e=this.BHasSomeNotificationSetting();return p.createElement("div",{className:Object(D.a)(k.ReminderCheckBox,L.a.ReminderCtn),onClick:this.ToggleMenu,ref:this.m_elDropDownRef},e&&p.createElement("div",{className:k.RemindCheck},p.createElement(I.c,null)),p.createElement("div",{className:k.ReminderDefault},Object(C.c)("#EventDisplay_Reminder_SetReminder")),p.createElement("div",{className:k.ReminderOptions}))},Object(c.c)([T.a],e.prototype,"ToggleMenu",null),Object(c.c)([T.a],e.prototype,"ShowMenu",null),Object(c.c)([T.a],e.prototype,"HideMenu",null),e=Object(c.c)([a.observer],e)}(p.Component);function B(e){return o.unix(e).utc().format("YYYYMMDD[T]HHmmss[Z]")}var x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bIsRequestInFlight:!1},e}return Object(c.d)(e,t),e.prototype.OnChangeFollowOrIgnore=function(r,i,s){return Object(c.b)(this,void 0,void 0,function(){var t,n,a,o;return Object(c.e)(this,function(e){switch(e.label){case 0:if(t=this.props,n=t.eventGID,a=t.eventModel,!n||n==l.f)return[3,5];this.setState({bIsRequestInFlight:!0}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,m.a.Get().SetFollowOrUnfollowEvent(!r,i,a.clanSteamID,n,s)];case 2:return e.sent(),r&&(s===m.b.k_ENotifyFlagByEmail?this.TrackEventAction(d.a.k_eReminder_Email):s===m.b.k_ENotifyFlagByPush&&this.TrackEventAction(d.a.k_eReminder_MobilePush)),[3,4];case 3:return o=e.sent(),Object(y.c)(p.createElement(E.d,{strTitle:Object(C.c)(i?"#EventDisplay_Reminder_IgnoreEvent_Error":"#EventDisplay_Reminder_FollowEvent_Error"),strDescription:Object(C.c)(i?"#EventDisplay_Reminder_IgnoreEvent_ErrorDesc":"#EventDisplay_Reminder_FollowEvent_ErrorDesc")},Object(A.a)(o).strErrorMsg),window),[3,4];case 4:this.setState({bIsRequestInFlight:!1}),e.label=5;case 5:return[2]}})})},e.prototype.OnChangeFollowByEmail=function(e){this.OnChangeFollowOrIgnore(e,!1,m.b.k_ENotifyFlagByEmail)},e.prototype.OnChangeFollowByPush=function(e){this.OnChangeFollowOrIgnore(e,!1,m.b.k_ENotifyFlagByPush)},e.prototype.GetExternalCalendarEventTitle=function(){var e=this.props,t=e.eventModel,n=e.lang,a=t.GetNameWithFallback(n),o=s.d.GetEntityNameForID(t.appid,t.clanSteamID.GetAccountID());return o?o+": "+a:a},e.prototype.TrackEventAction=function(e){var t=this.props.eventModel;d.b.RecordAppInteractionEvent(t.appid,e)},e.prototype.GetExternalCalendarEventBody=function(){var e=this.props,t=e.eventModel,n=e.eventGID,a=e.lang,o=t.GetSubTitleWithLanguageFallback(a);return""+(o=o?o+"\n\n\n":"")+t.GetSummaryWithFallback(a)+"\n\n"+(h.c.STORE_BASE_URL+"newshub/"+(t.appid?"app/"+t.appid:"group/"+t.clanSteamID.GetAccountID())+"/view/"+n)},e.prototype.GetGoogleCalendarLink=function(){var e=this.props.eventModel,t=encodeURIComponent(this.GetExternalCalendarEventTitle()),n=encodeURIComponent(this.GetExternalCalendarEventBody()),a=e.GetStartTimeAndDateUnixSeconds();return"https://calendar.google.com/calendar/r/eventedit?text="+t+"&details="+n+"&dates="+B(a)+"/"+B(e.GetEndTimeAndDateUnixSeconds()||a+w.d.PerHour)},e.prototype.GetICSDownloadLink=function(e){var t=this.props,n=t.eventModel,a=t.eventGID,o=t.lang;return(h.c.IN_CLIENT?"steam://openurl/":"")+h.c.STORE_BASE_URL+"newshub/download"+"/"+(n.appid?"app/"+n.appid:"group/"+n.clanSteamID.GetAccountID())+"/"+e+"/"+a+"?"+("l="+Object(l.c)(o))},e.prototype.render=function(){var e=this,t=this.props,n=t.eventGID,a=t.eventModel,o=t.bShowStartTime,r=t.bExpandLeft,i=t.fnHasReminderSet,s=t.fnHidePanel,c=g.BHasValidatedEmail(),l=g.BHasPushNotification(),u=o&&a.GetStartTimeAndDateUnixSeconds();return p.createElement("div",null,p.createElement("div",{className:k.ReminderCheckBox,onClick:s},i()&&p.createElement("div",{className:k.RemindCheck},p.createElement(I.c,null)),p.createElement("div",{className:k.ReminderDefault},Object(C.c)("#EventDisplay_Reminder_SetReminder")),p.createElement("div",{className:k.ReminderOpennedOptions})),p.createElement("div",{className:Object(D.a)(k.FlexColumnContainer,k.ReminderBackground,r&&k.ReminderExpandsLeft)},this.state.bIsRequestInFlight&&p.createElement(S.a,{className:k.RpcThrobber,size:"xlarge",position:"center"}),u&&p.createElement("div",{className:k.FullStartTime},Object(C.i)("#EventDisplay_EventUpcoming_WithDateAndTime",Object(C.g)(u,Object(w.b)(new Date(1e3*u),new Date)),Object(f.d)(u,!0))),p.createElement("div",{className:k.ReminderOptionsHeader},Object(C.c)("#EventDisplay_Reminder_GetNotification_Via")),p.createElement("div",{className:Object(D.a)(k.ReminderOption,!c&&k.Unverified)},p.createElement(O.a,{className:k.CheckboxWrapper,strTooltipClassname:k.ReminderOptionTooltip,toolTipContent:Object(C.c)(c?"#EventReminder_NotifyByEmail_ttip":"#EventReminder_NotifyByEmail_Missing")},p.createElement(b.d,{label:Object(C.c)("#EventDisplay_Reminder_ViaEmail"),disabled:!c,checked:m.a.Get().BFollowsEventAndNotifiedBy(a.clanSteamID,n,m.b.k_ENotifyFlagByEmail),onChange:this.OnChangeFollowByEmail})),!c&&p.createElement("div",{className:N.FlexColumnContainer},p.createElement("a",{href:(h.c.IN_CLIENT?"steam://openurl/":"")+h.c.STORE_BASE_URL+"account/",target:h.c.IN_CLIENT?void 0:"_blank",onClick:function(){return e.TrackEventAction(d.a.k_eReminder_EmailUnverified)}},Object(C.c)("#EventReminder_NotifyByEmail_Missing_Add")))),p.createElement("div",{className:Object(D.a)(k.ReminderOption,!l&&k.Unverified)},p.createElement(O.a,{className:k.CheckboxWrapper,strTooltipClassname:k.ReminderOptionTooltip,toolTipContent:Object(C.c)(l?"#EventReminder_NotifyByMobile_ttip":"#EventReminder_NotifyByMobile_Missing")},p.createElement(b.d,{label:Object(C.c)("#EventDisplay_Reminder_ViaMobileApp"),disabled:!l,checked:m.a.Get().BFollowsEventAndNotifiedBy(a.clanSteamID,n,m.b.k_ENotifyFlagByPush),onChange:this.OnChangeFollowByPush})),!l&&p.createElement("div",{className:N.FlexColumnContainer},p.createElement("a",{href:(h.c.IN_CLIENT?"steam://openurl/":"")+h.c.STORE_BASE_URL+"mobile/?show=steamapp",target:h.c.IN_CLIENT?void 0:"_blank",onClick:function(){return e.TrackEventAction(d.a.k_eReminder_MobilePushMissing)}},Object(C.c)("#EventReminder_NotifyByMobile_Install")))),p.createElement(p.Fragment,null,p.createElement("div",{className:k.ReminderOptionsHeader},Object(C.c)("#EventDisplay_Reminder_AddToCalendar")),p.createElement("div",{className:k.ReminderCalendarOptions},p.createElement("a",{className:k.ReminderOption,target:h.c.IN_CLIENT?void 0:"_blank",href:this.GetICSDownloadLink("ics"),onClick:function(){return e.TrackEventAction(d.a.k_eReminder_CalendarApple)}},Object(C.c)("#EventDisplay_Reminder_AppleCalendar_Short")),p.createElement("a",{className:k.ReminderOption,target:h.c.IN_CLIENT?void 0:"_blank",href:this.GetGoogleCalendarLink(),onClick:function(){return e.TrackEventAction(d.a.k_eReminder_CalendarGoogle)}},Object(C.c)("#EventDisplay_Reminder_GoogleCalendar_Short")),p.createElement("a",{className:k.ReminderOption,target:h.c.IN_CLIENT?void 0:"_blank",href:this.GetICSDownloadLink("outlook"),onClick:function(){return e.TrackEventAction(d.a.k_eReminder_CalendarOutlook)}},Object(C.c)("#EventDisplay_Reminder_OutlookCalendar_Short")))),!1))},Object(c.c)([T.a],e.prototype,"OnChangeFollowByEmail",null),Object(c.c)([T.a],e.prototype,"OnChangeFollowByPush",null),Object(c.c)([T.a],e.prototype,"TrackEventAction",null),e=Object(c.c)([a.observer],e)}(p.Component)},ccG0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyNjlFOEM1MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyNjlFOEM2MjJEMzExRTJCNTVBQkZGOUQyOTI0ODU5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjI2OUU4QzMyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjI2OUU4QzQyMkQzMTFFMkI1NUFCRkY5RDI5MjQ4NTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4IrEPeAAABJ0lEQVR42mL8//8/AzmABUScEOZJI1HfLBaoppmk2sh4Ql/r/69HD0jSxCanwMD07eVzhl9ADgz/ZmJikMjOY2CUlEIRR8YgPYzbBLhQQoeJl4/B7uY9hv9//jC8XLWc4UFfD8OPZ08xbGX6CSSQ8XdgKH/79o3h+69fDHwBwQy6ew8ySOYXMfxiZERRx/ILPTqA/K9fv8K5f4EG3Pn5i+EfSB2SWpaf6G6A2vgP6NSrWzYz3J8zk0Hk9SsGVka0ePzLxs7w9ydC+3+gpn29PQzv9uxiEHz7mkEY6ESQPb+QHMbMwcHAwiotw/Dj3h2E6L+/DIyrljKIgCMLGMoMmCmLQ0qagdnh66fn/xgYfP+B9BCJv79/lw5KcrPISKqzGMlN5AABBgBSmY83jVsiQAAAAABJRU5ErkJggg=="},ckHM:function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_share.png?v=a1ce99278ead4f85c589e813d06eb40f"},f26i:function(e,t,n){e.exports={Container:"discussionwidget_Container_mKmrO",VoteContainer:"discussionwidget_VoteContainer_3Kelh",DiscussContainer:"discussionwidget_DiscussContainer_16xC0",ShareContainer:"discussionwidget_ShareContainer_3ctGq",InnerContainer:"discussionwidget_InnerContainer_9x4Z7",DiscussionButton:"discussionwidget_DiscussionButton_rHz7G",DiscussIcon:"discussionwidget_DiscussIcon_1HBhp",linkField:"discussionwidget_linkField_3Vmkn",LinkInput:"discussionwidget_LinkInput_hgGF9",ShareIcon:"discussionwidget_ShareIcon_3qVz2",ClipboardIcon:"discussionwidget_ClipboardIcon_3XZsW",SteamIcon:"discussionwidget_SteamIcon_3PXcv",share_controls_ctn:"discussionwidget_share_controls_ctn_3F-Ry",ShareBtn:"discussionwidget_ShareBtn_22m-G",VoteCount:"discussionwidget_VoteCount_3csl-",DiscussionCount:"discussionwidget_DiscussionCount_QQy4B",DiscussionButtonText:"discussionwidget_DiscussionButtonText_3P2Xe",VoteDownIcon:"discussionwidget_VoteDownIcon_3Zqxx",VoteDownSelectedIcon:"discussionwidget_VoteDownSelectedIcon_1PTQ2",VoteUpIcon:"discussionwidget_VoteUpIcon_2akzu",VoteUpSelectedIcon:"discussionwidget_VoteUpSelectedIcon_34YgM",VoteUpStaticIcon:"discussionwidget_VoteUpStaticIcon_Sf3ur",VoteButtonSelected:"discussionwidget_VoteButtonSelected_2OXBS"}},fkaw:function(e,t,n){e.exports={Container:"sharewithfriends_Container_2vGr9",SmallAvatar:"sharewithfriends_SmallAvatar_3V8w8",ShareDescription:"sharewithfriends_ShareDescription_3CqiH"}},goqe:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTQwMHB4IiBoZWlnaHQ9IjE0MDlweCIgdmlld0JveD0iMCAxODAxLjUgMTQwMCAxNDA5IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMTgwMS41IDE0MDAgMTQwOSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iaWNvbm1vbnN0ci1saW5rLTFfMV8iIGZpbGw9IiNGRkZGRkYiIGQ9Ik0zNjIuMzUzLDIzMTAuNTg4YzE0OC4yMzUtMTQ4LjIzNSwzODcuMDYtMTQ4LjIzNSw1MjcuMDYsMA0KCWMxNi40NzEsMTYuNDcxLDMyLjk0MSw0MS4xNzcsNDkuNDExLDU3LjY0N0w4MDcuMDU5LDI1MDBjLTQxLjE3Ni04Mi4zNTMtMTMxLjc2NS0xMzEuNzY1LTIyMi4zNTMtMTE1LjI5NA0KCWMtNDEuMTc3LDguMjM1LTc0LjExOCwyNC43MDYtOTguODIzLDQ5LjQxMWwtMjQ3LjA1OSwyNDcuMDZjLTc0LjExOCw3NC4xMTctNzQuMTE4LDE5Ny42NDYsMCwyODANCgljNzQuMTE4LDc0LjExNywxOTcuNjQ3LDc0LjExNywyODAsMGwwLDBsNzQuMTE4LTc0LjExOGM3NC4xMTcsMjQuNzA2LDE0OC4yMzUsNDEuMTc3LDIyMi4zNTMsMzIuOTQxbC0xNzIuOTQsMTcyLjk0MQ0KCWMtMTQ4LjIzNSwxNDguMjM1LTM4Ny4wNiwxNDguMjM1LTUyNy4wNiwwcy0xNDguMjM1LTM4Ny4wNTksMC01MjcuMDU5QzEwNy4wNTksMjU1Ny42NDcsMzYyLjM1MywyMzEwLjU4OCwzNjIuMzUzLDIzMTAuNTg4eg0KCSBNNzU3LjY0NiwxOTA3LjA1OUw1OTIuOTQxLDIwODBjNzQuMTE3LTguMjM1LDE0OC4yMzUsOC4yMzUsMjE0LjExNywzMi45NDFsNzQuMTE4LTc0LjExOGM3NC4xMTctNzQuMTE3LDE5Ny42NDYtNzQuMTE3LDI4MCwwDQoJYzgyLjM1Myw3NC4xMTgsNzQuMTE3LDE5Ny42NDcsMCwyODBsLTI1NS4yOTQsMjQ3LjA2Yy03NC4xMTgsNzQuMTE3LTE5Ny42NDcsNzQuMTE3LTI4MCwwDQoJYy04LjIzNS0xNi40NzEtMjQuNzA2LTQxLjE3Ny0zMi45NDEtNjUuODgzbC0xMzEuNzY1LDEzMS43NjVjMTYuNDcxLDI0LjcwNiwzMi45NCw0MS4xNzcsNDkuNDExLDU3LjY0Nw0KCWMxNDguMjM1LDE0OC4yMzUsMzg3LjA1OSwxNDguMjM1LDUyNy4wNiwwbDAsMGwyNDcuMDU5LTI0Ny4wNmMxNDguMjM1LTE0OC4yMzUsMTQ4LjIzNS0zODcuMDU5LDAtNTI3LjA1OQ0KCVM5MDUuODgzLDE3NjcuMDU5LDc1Ny42NDYsMTkwNy4wNTlMNzU3LjY0NiwxOTA3LjA1OUw3NTcuNjQ2LDE5MDcuMDU5eiIvPg0KPC9zdmc+DQo="},"mB/g":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return f}),n.d(t,"c",function(){return E});var d,a,o,r,i=n("q1tI"),s=n("Ty5D"),c=n("55Ip"),m=n("lkRc"),h=n("r64O");function l(e,t,n){var a="store"===Object(m.e)(),o="community"===Object(m.e)();switch(o&&!n&&(o=t.appid?t.appid===m.b.APPID:t.clanSteamID.GetAccountID()===m.b.CLANACCOUNTID),e){case d.k_eView:return a||o;case d.k_eCommunityView:case d.k_eCommunityEdit:case d.k_eCommunityEditBroadcast:case d.k_eCommunityAdminPage:case d.k_eCommunityPublish:case d.k_eCommunityMigrate:case d.k_eCommunityPreview:return o;case d.k_eStoreView:case d.k_eStoreNewsHub:case d.k_eStoreOwnerPage:case d.k_eStoreSalePage:return a;default:return Object(h.a)(!1,"Unknown route specified for link"),!1}}function u(e){return m.c.IN_CLIENT?"steam://openurl/"+e:e}function p(){return m.c.IN_CLIENT?void 0:"_blank"}function _(e,t){var n=m.c.COMMUNITY_BASE_URL+"gid/"+e.clanSteamID.ConvertTo64BitString()+"/announcements/share/"+e.AnnouncementGID+"?site="+t;return t===o.k_eFacebook?n+"&t="+Math.random():n}function v(e){return g(e,d.k_eStoreView,"absolute",null)}function g(e,t,n,a){var o="relative"===n,r="community"===Object(m.e)(),i=o?"/":m.c.COMMUNITY_BASE_URL,s=o?"/":m.c.STORE_BASE_URL,c=i+(e.appid?"ogg/"+e.appid:"gid/"+e.clanSteamID.ConvertTo64BitString())+"/";if(o){var l=a||m.b.VANITY_ID;c=(e.appid?"/games/"+l:"/groups/"+l)+"/"}t===d.k_eView&&(t=r?d.k_eCommunityView:d.k_eStoreView);var u=e.GID?e.GID:"",p=e.AnnouncementGID?e.AnnouncementGID:"";switch(t){case d.k_eCommunityPublish:return c+(e.bOldAnnouncement?"partnerevents/migrate_announcement/"+p:"partnerevents/publish/"+u);case d.k_eCommunityEdit:return c+(e.bOldAnnouncement?"partnerevents/migrate_announcement/"+p:"partnerevents/edit/"+u);case d.k_eCommunityEditBroadcast:return c+(e.bOldAnnouncement?"partnerevents/migrate_announcement/"+p:"partnerevents/edit/"+u)+"?tab=broadcast";case d.k_eCommunityMigrate:return c+"partnerevents/migrate_announcement/"+p;case d.k_eCommunityPreview:return c+(e.bOldAnnouncement?"partnerevents/preview_old_announcement/"+p:"partnerevents/preview/"+u);case d.k_eCommunityAdminPage:return c+"partnerevents";case d.k_eStoreNewsHub:return s+(e.appid?"newshub/app/"+e.appid:"newshub/group/"+e.clanSteamID.GetAccountID());case d.k_eStoreOwnerPage:return s+(e.appid?"app/"+e.appid:"curator/"+e.clanSteamID.GetAccountID());case d.k_eStoreSalePage:return e.jsondata.bSaleEnabled?s+(e.jsondata.sale_vanity_id_valve_approved_for_sale_subpath?"sale/":"curator/"+e.clanSteamID.GetAccountID()+"/sale")+e.jsondata.sale_vanity_id:s;case d.k_eCommunityView:return c+(e.bOldAnnouncement?"announcements/detail/"+p:"partnerevents/view/"+u);case d.k_eStoreView:return s+"newshub/"+(e.appid?"app/"+e.appid:"group/"+e.clanSteamID.GetAccountID())+"/"+(e.bOldAnnouncement?"old_view/"+p:"view/"+u);default:return Object(h.a)(!1,"Unknown route specified for link"),""}}function b(e,t,n){var a=g(e,t,"absolute",n);window.open(u(a),p())}function f(e,t,n){var a=l(t,e,n),o=g(e,t,a?"relative":"absolute",n);return a?i.createElement(s.a,{push:!0,to:o}):(window.open(o),null)}(a=d||(d={})).k_eView="view",a.k_eCommunityView="communityview",a.k_eCommunityEdit="edit",a.k_eCommunityEditBroadcast="editBroadcast",a.k_eCommunityAdminPage="admin",a.k_eCommunityPublish="publish",a.k_eCommunityMigrate="migrate",a.k_eCommunityPreview="preview",a.k_eStoreView="storeview",a.k_eStoreNewsHub="newshub",a.k_eStoreOwnerPage="store",a.k_eStoreSalePage="sale",(r=o||(o={})).k_eFacebook="facebook",r.k_eTwitter="twitter",r.k_eReddit="reddit";var E=function(e){if(!e.eventModel)return null;var t=!e.forceAnchor&&!e.openNewWindow&&l(e.route,e.eventModel,e.vanityID),n=g(e.eventModel,e.route,t?"relative":"absolute",e.vanityID);if(t)return i.createElement(c.b,{to:n,className:e.className,onClick:e.onClick},e.children);var a=e.openNewWindow?u(n):n,o=e.openNewWindow?p():void 0;return i.createElement("a",{href:a,target:o,className:e.className,onClick:e.onClick},e.children)}},oazx:function(e,t,n){e.exports={ErrorDiv:"image_ErrorDiv_2FXME"}},"r+ba":function(e,t,n){e.exports={Container:"partnereventwebrowembed_Container_2Jd3M",StoreHeaderAdjust:"partnereventwebrowembed_StoreHeaderAdjust_3YyCp",SectionButtonCtn:"partnereventwebrowembed_SectionButtonCtn_1HP0y",SectionButton:"partnereventwebrowembed_SectionButton_3n8sw",EventsSummariesCtn:"partnereventwebrowembed_EventsSummariesCtn_1snIw"}},uEKC:function(e,t,n){e.exports={countdownCtn:"giveawaynextdraw_countdownCtn_GWWac",Closed:"giveawaynextdraw_Closed_ATX_x",CountDownCtn:"giveawaynextdraw_CountDownCtn_11RwP",CountDownTime:"giveawaynextdraw_CountDownTime_eh0pM",CountDownText:"giveawaynextdraw_CountDownText_3VKQ3",LearnMore:"giveawaynextdraw_LearnMore_1q98m",Throbber:"giveawaynextdraw_Throbber_bEkRt",WinnerInfo:"giveawaynextdraw_WinnerInfo_2LTFl",WinnerCount:"giveawaynextdraw_WinnerCount_Z7ScP",WinnerText:"giveawaynextdraw_WinnerText_chkuq"}},w4Zq:function(e,t,n){e.exports={BBCode_Toggle:"bbcodesuggestions_BBCode_Toggle_3dX8-",Active:"bbcodesuggestions_Active_2vTzh",BBCode:"bbcodesuggestions_BBCode_1pH9C"}},y5Xn:function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_thumbs_up_blue.png?v=759f592f67d995f8cc2642cb7e96b348"},yJqL:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return H}),n.d(t,"c",function(){return W});var a,o,i=n("mrSG"),s=n("2vnA"),r=n("okNM"),y=n("q1tI"),I=n("uuth"),d=n("QYE3"),S=n("mgoM"),m=n("kLLr"),O=n("U+Q5"),D=n("TQGK"),h=n("ee7K"),c=n("9w6b"),C=n("ylkE"),A=n("TOXn"),T=n("4sqd"),w=n("BpzF"),l=n("6eA3"),j=n.n(l),u=n("fpVW"),L=n.n(u),p=n("6Y59"),_=n("0OaU"),v=n("hJxo"),g=n("Kw0F"),b=n("qiKp"),k=n("exH9"),f=n("X3Ds"),N=n("TLQK"),E=n("bxiW"),M=n("IzPI"),G=n("lkRc"),B=n("UxvL"),x=n("G24H"),R=n.n(x),U=n("cGQe"),F=n("mB/g"),P=y.lazy(function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,"NIbt"))});(o=a||(a={}))[o.AppDetails=1]="AppDetails",o[o.LibraryHome=2]="LibraryHome";var z,V,H=function(n){function e(e){var t=n.call(this,e)||this;return t.m_loader=null,t.m_refPage=y.createRef(),t.m_refContent=y.createRef(),t.m_refScroll=y.createRef(),t.m_refScrollAnchor=y.createRef(),t.m_scrollAnimation=null,t.m_nPreviousRenderCount=0,t.m_nCurrentRenderCount=0,t.m_loader=new Q(t.props.partnerEventStore),t.m_loader.InitAroundEvent(t.props.initialEvent),t}return Object(i.d)(e,n),e.prototype.FindCurrentlyViewedEventIndex=function(){if(!this.m_refContent.current||!this.m_refScroll.current)return-1;for(var e=this.m_refContent.current.children,t=Math.ceil(this.m_refScroll.current.scrollTop+50),n=0;n<e.length;n++){var a=e[n],o=a.offsetTop,r=o+a.clientHeight;if(o<=t&&t<r)return n}return-1},e.prototype.ScrollToEvent=function(e){var t=this.m_refContent.current;if(t&&!(e<0||e>=t.children.length||this.m_scrollAnimation)){var n=t.children[e].offsetTop-50;this.ScrollToOffset(n)}},e.prototype.ScrollToOffset=function(e){var t=this.m_refScroll.current;if(t){var n={msDuration:500,timing:"cubic-in-out",onComplete:this.OnScrollComplete};this.m_scrollAnimation=new v.a(t,{scrollTop:e},n),this.m_scrollAnimation.Start()}},e.prototype.ScrollToBottom=function(){this.m_refScroll.current&&this.ScrollToOffset(this.m_refScroll.current.scrollHeight)},e.prototype.ScrollToNextEvent=function(){var e=this.m_loader.GetEvents(),t=this.FindCurrentlyViewedEventIndex()+1;t>=e.length?this.ScrollToBottom():(this.ScrollToEvent(t),t==e.length-1&&this.m_loader.LoadMoreAtEnd())},e.prototype.ScrollToPrevEvent=function(){var e=this.FindCurrentlyViewedEventIndex(),t=e-1;if(t<0)this.ScrollToOffset(0);else{var n=this.m_refContent.current;if(n){var a=n.children[e],o=a.offsetTop,r=o+a.clientHeight,i=Math.ceil(this.m_refScroll.current.scrollTop+50);o<=(i-=.3*(r-o))&&(t=e)}this.ScrollToEvent(t)}},e.prototype.OnScrollComplete=function(){this.m_scrollAnimation=null},e.prototype.Close=function(){this.props.closeFn&&this.props.closeFn()},e.prototype.OnBackgroundClick=function(e){e.currentTarget==e.target&&this.Close()},e.prototype.OnKeyDown=function(e){27==e.keyCode&&this.Close()},e.prototype.OnScroll=function(e){var t=this.m_refScroll.current;if(t){var n=t.clientHeight;t.scrollHeight-(t.scrollTop+n)<=n&&this.m_loader.LoadMoreAtEnd(),t.scrollTop<=n&&this.m_loader.LoadMoreAtBeginning()}},e.prototype.getSnapshotBeforeUpdate=function(e){var t=this.m_nCurrentRenderCount!=this.m_nPreviousRenderCount;if(this.m_nPreviousRenderCount=this.m_nCurrentRenderCount,!t)return null;var n=this.m_refScroll.current;if(!n||!this.m_refScrollAnchor.current)return null;var a=this.m_refScrollAnchor.current.GetDOM();return a?a.offsetTop-n.scrollTop:null},e.prototype.OnTouchStart=function(e){1==e.touches.length&&(this.m_nTouchStartClientY=e.touches[0].clientY)},e.prototype.OnTouchMove=function(e){if(this.m_refScroll.current&&0!=e.touches.length){var t=this.m_nTouchStartClientY-e.touches[0].clientY;this.SuppressUnwantedScrollEventsBecauseSafariIsDumb(e,t)}},e.prototype.OnWheel=function(e){this.SuppressUnwantedScrollEventsBecauseSafariIsDumb(e,e.deltaY)},e.prototype.SuppressUnwantedScrollEventsBecauseSafariIsDumb=function(e,t){var n=e.target instanceof Node&&f.c(this.m_refScroll.current,e.target),a=t<0&&this.m_refScroll.current.scrollTop<1,o=this.m_refScroll.current.scrollHeight-this.m_refScroll.current.scrollTop<=this.m_refScroll.current.clientHeight;(!n||a||0<t&&o)&&e.cancelable&&e.preventDefault()},e.prototype.componentDidMount=function(){var e=this.m_refScroll.current;e&&!f.c(e,e.ownerDocument.activeElement)&&e.focus();var t=this.m_refPage.current;t&&(t.addEventListener("touchstart",this.OnTouchStart),t.addEventListener("touchmove",this.OnTouchMove,{passive:!1}),t.addEventListener("wheel",this.OnWheel,{passive:!1}))},e.prototype.componentDidUpdate=function(e,t,n){if(null!==n){var a=this.m_refScroll.current;a&&!f.c(a,a.ownerDocument.activeElement)&&a.focus();var o=this.m_refScrollAnchor.current?this.m_refScrollAnchor.current.GetDOM():null;o&&(a.scrollTop=o.offsetTop-n)}},e.prototype.componentWillUnmount=function(){var e=this.m_refPage.current;e&&(e.removeEventListener("touchstart",this.OnTouchStart),e.removeEventListener("touchmove",this.OnTouchMove),e.removeEventListener("wheel",this.OnWheel))},e.prototype.render=function(){for(var e,t,n=[],a=0,o=this.m_loader.GetEvents();a<o.length;a++){var r=o[a],i=r.GID==this.props.initialEvent.GID;n.push(y.createElement(W,{ref:i?this.m_refScrollAnchor:null,key:r.GID,event:r,emoticonStore:this.props.emoticonStore,partnerEventStore:this.props.partnerEventStore,appStore:this.props.appInfoStore,disableReadTracking:i,fnFilterImageURLsForKnownFailures:this.props.fnFilterImageURLsForKnownFailures,fnImageFailureCallback:this.props.fnImageFailureCallback})),null==e&&(e=r.appid),null==t&&(t=r.clanSteamID.GetAccountID())}this.m_nCurrentRenderCount=n.length;var s="";if(this.props.onAppIconClick)if(e){var c=e&&this.props.appInfoStore.GetAppInfo(e);s=c?c.icon_url:""}else if(t){var l=D.a.GetClanInfoByClanAccountID(t);s=l?l.avatar_full_url:""}return y.createElement("div",{className:R.a.AppPartnerEventsPage,ref:this.m_refPage},this.props.showAppHeader&&y.createElement(K,{appInfoStore:this.props.appInfoStore,appId:e,clanId:t}),y.createElement("div",{className:R.a.AppPartnerEventsBody,ref:this.m_refScroll,onScroll:this.OnScroll,onClick:this.OnBackgroundClick,tabIndex:-1,onKeyDown:this.OnKeyDown},y.createElement("div",{className:Object(k.a)(R.a.ControlSection,!this.props.onAppIconClick&&R.a.NoGameLink)},y.createElement("div",{className:R.a.ControlSectionWidth},y.createElement("div",{className:R.a.ControlSectionRightSide},y.createElement("div",{className:Object(k.a)(R.a.CloseButton,R.a.AnimIn),onClick:this.Close},y.createElement(p.H,null)),y.createElement("div",{className:Object(k.a)(R.a.ScrollButton,R.a.Up,R.a.AnimIn),onClick:this.ScrollToPrevEvent},y.createElement(p.k,{angle:0})),y.createElement("div",{className:Object(k.a)(R.a.ScrollButton,R.a.Down,R.a.AnimIn),onClick:this.ScrollToNextEvent},y.createElement(p.k,{angle:180})),this.props.onAppIconClick&&y.createElement("div",{className:Object(k.a)(R.a.ScrollButton,R.a.GameArt,R.a.AnimIn),onClick:this.props.onAppIconClick},y.createElement("img",{src:s}))))),y.createElement(Y,{loader:this.m_loader,location:"top"}),y.createElement("div",{ref:this.m_refContent,className:R.a.AppPartnerEventsContainer},n),y.createElement(Y,{loader:this.m_loader,location:"bottom"})))},Object(i.c)([E.a],e.prototype,"ScrollToNextEvent",null),Object(i.c)([E.a],e.prototype,"ScrollToPrevEvent",null),Object(i.c)([E.a],e.prototype,"OnScrollComplete",null),Object(i.c)([E.a],e.prototype,"Close",null),Object(i.c)([E.a],e.prototype,"OnBackgroundClick",null),Object(i.c)([E.a],e.prototype,"OnKeyDown",null),Object(i.c)([E.a],e.prototype,"OnScroll",null),Object(i.c)([E.a],e.prototype,"OnTouchStart",null),Object(i.c)([E.a],e.prototype,"OnTouchMove",null),Object(i.c)([E.a],e.prototype,"OnWheel",null),e=Object(i.c)([r.observer],e)}(y.Component),Y=Object(r.observer)(function(e){var t=e.loader.GetNewerState(),n=e.loader.GetOlderState();return t==z.Loading&&n==z.Loading?null:("top"==e.location?t:n)==z.Loading?y.createElement("div",{className:R.a.DirectionState},y.createElement(_.a,{position:"center",string:Object(N.c)("#Loading")})):null}),W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_refContent=y.createRef(),e.m_sendReadInfo=new b.b,e.m_bSentRead=!1,e}return Object(i.d)(e,t),e.prototype.OnEnterVisible=function(){var e=this;if(!this.m_bSentRead&&!this.m_sendReadInfo.IsScheduled()){this.m_sendReadInfo.Schedule(750,function(){c.a.Get().RecordEventRead(e.props.event,4),e.m_bSentRead=!0})}},e.prototype.OnLeaveVisible=function(){this.m_sendReadInfo.Cancel()},e.prototype.GetDOM=function(){return this.m_refContent.current},e.prototype.render=function(){var e=this.props,t=e.event,n=e.langOverride,a=e.partnerEventStore,o=e.emoticonStore,r=e.appStore,i=e.fnFilterImageURLsForKnownFailures,s=e.fnImageFailureCallback,c=e.headerClassnames,l=n||Object(S.e)(G.c.LANGUAGE),u=t.GetDescriptionWithFallback(l)||"",p=c,d=t.GetImageForSizeAsArrayWithFallback("background",l,O.c.background_main);i&&(d=i(d));var m=t.GetCategoryAsString(),h=t.type,_=t.BImageNeedScreenshotFallback("background",l),v="";if(t.appid){var g=r.GetAppInfo(t.appid);v=g?g.name:""}else if(t.clanSteamID){var b=D.a.GetClanInfoByClanAccountID(t.clanSteamID.GetAccountID());v=b?b.group_name:""}var f=Date.now()/1e3,E=h!==S.a.k_ENewsEvent&&f<t.GetStartTimeAndDateUnixSeconds();return y.createElement("div",{ref:this.m_refContent,className:Object(k.a)(R.a.PartnerEvent,j.a.InLibraryView,"editor"==p?j.a.InEditor:"")},h!=S.a.k_ESmallUpdateEvent&&!_&&y.createElement(B.a,{className:Object(k.a)(j.a.EventCoverImageBackground),rgSources:d,onIncrementalError:function(e,t,n){return s&&s(t)}}),y.createElement(B.a,{className:j.a.EventBackgroundBlur,rgSources:d,onIncrementalError:function(e,t,n){return s&&s(t)}}),y.createElement("div",{className:j.a.LibraryEventTitleContainer},y.createElement("div",{className:j.a.EventDetailTitleContainer},y.createElement("div",{className:Object(k.a)(R.a.EventTypeAndTimeRow,E&&R.a.WithReminder)},y.createElement("div",{className:R.a.TimeandPostedBy},y.createElement("span",{className:R.a.EventType},m),y.createElement("span",{className:R.a.PostedBy}," ",Object(N.c)("#EventDisplay_PostedBy"),v," "),y.createElement(w.c,{event:t})),E&&y.createElement("div",{className:R.a.ReminderContainer},y.createElement(U.a,{eventModel:t,eventGID:t.GID,lang:l,bExpandLeft:!0}))),!this.props.disableReadTracking&&y.createElement(I.a,{onEnter:this.OnEnterVisible,onLeave:this.OnLeaveVisible,bottomOffset:"300px"}),y.createElement(F.c,{eventModel:t,forceAnchor:!0,route:F.a.k_eView,className:j.a.EventDetailTitle},t.GetNameWithFallback(l)),t.BHasSubTitle(l)&&y.createElement("div",{className:Object(k.a)(j.a.EventDetailsSubTitle,R.a.LibraryViewSubtitle)},t.GetSubTitle(l)),y.createElement("div",{className:j.a.EventDetailUserType}))),t.BHasBroadcastEnabled()&&y.createElement("div",{className:j.a.EventBroadcastCtn},y.createElement(y.Suspense,{fallback:y.createElement("div",null)},y.createElement(P,{event:this.props.event}))),t.BHasTag("steam_award_nomination_request")&&y.createElement(T.a,{event:t,lang:l}),t.BHasTag("steam_award_vote_request")&&y.createElement(T.b,{event:t,lang:l}),y.createElement("div",{className:j.a.LibraryEventBodyContainer},y.createElement("div",{className:Object(k.a)(j.a.EventDetailsBody,R.a.EventDetailsBody)},y.createElement(A.a,{text:u,partnerEventStore:a}),y.createElement("span",{className:L.a.Clear})),y.createElement(w.a,{appid:t.appid})),y.createElement(C.b,{eventModel:t,partnerEventStore:a,emoticonStore:o}))},Object(i.c)([E.a],e.prototype,"OnEnterVisible",null),Object(i.c)([E.a],e.prototype,"OnLeaveVisible",null),e=Object(i.c)([r.observer],e)}(y.Component);(V=z||(z={}))[V.Idle=1]="Idle",V[V.Loading=2]="Loading",V[V.EndOfContent=3]="EndOfContent";var Q=function(){function e(e){this.k_nMaxPerDirection=3,this.m_nAppID=0,this.m_rgEvents=[],this.m_eOlderDirection=z.Idle,this.m_eNewerDirection=z.Idle,this.m_partnerEventStore=e}return e.prototype.GetEvents=function(){return this.m_rgEvents},e.prototype.GetAppID=function(){return this.m_nAppID},e.prototype.GetOlderState=function(){return this.m_eOlderDirection},e.prototype.GetNewerState=function(){return this.m_eNewerDirection},e.prototype.InitAroundEvent=function(r){return Object(i.b)(this,void 0,void 0,function(){var t,a,o=this;return Object(i.e)(this,function(e){switch(e.label){case 0:t=this.m_partnerEventStore,this.m_nAppID=r.appid,this.m_clanSteamID=r.clanSteamID,this.m_rgEvents=[],this.m_eOlderDirection=z.Loading,this.m_eNewerDirection=z.Loading,this.m_rgEvents.push(r),a=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.LoadAdjacentPartnerEventsByEvent(r,this.m_clanSteamID,this.m_nAppID,this.k_nMaxPerDirection,this.k_nMaxPerDirection)];case 2:return a=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return Object(s.runInAction)(function(){if(!a||0==a.length)return o.m_eOlderDirection=z.Idle,void(o.m_eNewerDirection=z.Idle);var e=a.findIndex(function(e){return e.GID==r.GID}),t=e,n=0<=e?a.length-e-1:0;o.m_eNewerDirection=t>=o.k_nMaxPerDirection?z.Idle:z.EndOfContent,o.m_eOlderDirection=n>=o.k_nMaxPerDirection?z.Idle:z.EndOfContent,o.m_rgEvents=a}),[2]}})})},e.prototype.LoadMoreAtEnd=function(){return Object(i.b)(this,void 0,void 0,function(){var a,o,r=this;return Object(i.e)(this,function(e){switch(e.label){case 0:if(this.m_eOlderDirection!=z.Idle)return[2];if(0==this.m_rgEvents.length)return[2];a=this.m_rgEvents[this.m_rgEvents.length-1],this.m_eOlderDirection=z.Loading,o=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.m_partnerEventStore.LoadAdjacentPartnerEventsByEvent(a,this.m_clanSteamID,this.m_nAppID,0,this.k_nMaxPerDirection)];case 2:return o=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return Object(s.runInAction)(function(){if(o){g.c(o,function(e){return e.GID==a.GID});for(var e=0,t=o;e<t.length;e++){var n=t[e];r.m_rgEvents.push(n)}r.m_eOlderDirection=o.length>=r.k_nMaxPerDirection?z.Idle:z.EndOfContent}else r.m_eOlderDirection=z.Idle}),[2]}})})},e.prototype.LoadMoreAtBeginning=function(){return Object(i.b)(this,void 0,void 0,function(){var a,o,r=this;return Object(i.e)(this,function(e){switch(e.label){case 0:if(this.m_eNewerDirection!=z.Idle)return[2];if(0==this.m_rgEvents.length)return[2];a=this.m_rgEvents[0],this.m_eNewerDirection=z.Loading,o=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.m_partnerEventStore.LoadAdjacentPartnerEventsByEvent(a,this.m_clanSteamID,this.m_nAppID,this.k_nMaxPerDirection,0)];case 2:return o=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return Object(s.runInAction)(function(){if(o){g.c(o,function(e){return e.GID==a.GID});for(var e=0,t=o;e<t.length;e++){var n=t[e];r.m_rgEvents.unshift(n)}r.m_eNewerDirection=o.length>=r.k_nMaxPerDirection?z.Idle:z.EndOfContent}else r.m_eNewerDirection=z.Idle}),[2]}})})},Object(i.c)([s.observable.shallow],e.prototype,"m_rgEvents",void 0),Object(i.c)([s.observable],e.prototype,"m_eOlderDirection",void 0),Object(i.c)([s.observable],e.prototype,"m_eNewerDirection",void 0),e}(),K=Object(r.observer)(function(e){var t=G.c.IN_CLIENT&&h.a.BOwnsApp(e.appId),n=null,a=null,o=null,r=null,i=null,s=null,c=null;if(e.appId){var l=e.appInfoStore.GetAppInfo(e.appId);l&&(a=l.header_image_url,o=l.name),t&&(n=y.createElement("a",{className:R.a.AppBannerLink,href:"steam://nav/games/details/"+e.appId},Object(N.c)("#EventDisplay_ViewInLibrary"))),s=e.appId,r=G.c.STORE_BASE_URL+"app/"+e.appId+"/",i=G.c.COMMUNITY_BASE_URL+"app/"+e.appId}else if(e.clanId){var u=D.a.GetClanInfoByClanAccountID(e.clanId);u&&(a=u.avatar_full_url,o=u.group_name),s=e.clanId;var p=m.a.InitFromClanID(s);r=G.c.STORE_BASE_URL+"curator/"+e.clanId+"/",i=G.c.COMMUNITY_BASE_URL+"gid/"+p.ConvertTo64BitString(),c=R.a.ClanBanner}return y.createElement("div",{className:R.a.AppPartnerEventsBanner},y.createElement("div",{className:Object(k.a)(R.a.AppBannerGroup,c)},y.createElement(d.a,{className:R.a.AppBannerLogoCtn,type:e.appId?"app":"clan",strURL:r,id:s},y.createElement("img",{className:R.a.AppBannerLogo,src:a})),y.createElement("div",{className:R.a.AppTitleGroup},y.createElement("a",{href:Object(M.c)((G.c.IN_CLIENT?"steam://openurl/":"")+r),className:R.a.AppBannerTitle},o)),y.createElement("div",{className:R.a.AppBannerLinks},n,y.createElement("a",{className:R.a.AppBannerLink,href:Object(M.c)((G.c.IN_CLIENT?"steam://openurl/":"")+r),target:G.c.IN_CLIENT?void 0:"_blank"},Object(N.c)("#EventDisplay_ViewStorePage")),y.createElement("a",{className:R.a.AppBannerLink,href:Object(M.c)((G.c.IN_CLIENT?"steam://openurl/":"")+i),target:G.c.IN_CLIENT?void 0:"_blank"},Object(N.c)("#EventDisplay_ViewCommunityPage")))))})},yNwp:function(e,t,n){e.exports=n.p+"../../../images/applications/store/reddit_large.png?v=82448bb30d23dd3b6c608b1eee1cfec1"},yP1N:function(e,t,n){e.exports=n.p+"../../../images/applications/store/discussion_thumbs_down_selected.png?v=112f111820fbee6d7d61d88d4ca0bcff"},ylkE:function(e,t,n){"use strict";var i=n("mrSG"),s=n("q1tI"),a=n("okNM"),c=n("lkRc"),l=n("TLQK"),u=n("bxiW"),o=n("fpVW"),p=n.n(o),d=n("ka0M"),m=n("X3Ds"),h=n("exH9"),r=n("f26i"),_=n.n(r),v=n("Jqb/"),g=n("vDqi"),b=n.n(g),f=n("fkaw"),E=n.n(f),y=n("bDQf"),I=n("Qcoi"),S=n("4P4B"),O=n("ZeAL"),D=n("TOXn"),C=n("kLLr"),A=n("0OaU"),T=n("mB/g"),w=function(n){function e(e){var t=n.call(this,e)||this;return t.m_cancelSignal=b.a.CancelToken.source(),t.state={bLoadedProfile:Boolean(I.a.GetProfile(c.i.steamid)),text:"",bPosting:!1,strPostingMessage:""},t}return Object(i.d)(e,n),e.prototype.componentDidMount=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.e)(this,function(e){switch(e.label){case 0:if(this.state.bLoadedProfile)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,I.a.LoadProfiles([c.i.steamid])];case 2:return e.sent(),this.setState({bLoadedProfile:!0}),[3,4];case 3:return t=e.sent(),console.log("ShareEventOnFriendsActivityFeed: "+Object(y.a)(t).strErrorMsg),[3,4];case 4:return[2]}})})},e.prototype.OnTextChange=function(e){this.SetText(e.currentTarget.value)},e.prototype.SetText=function(e){this.setState({text:e})},e.prototype.GetCurText=function(){return this.state.text},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("component unmounted")},e.prototype.PostComment=function(){var t=this;this.setState({bPosting:!0}),this.AsyncPostComment().then(function(){return t.setState({bPostSuccess:!0,strPostingMessage:Object(l.c)("#EventDisplay_Share_Success")})}).catch(function(e){return t.setState({strPostingMessage:Object(l.c)("#EventDisplay_Share_Failure")+"\n\n"+Object(y.a)(e).strErrorMsg})})},e.prototype.GetAnnouncementURL=function(){var e=this.props.eventModel;return Object(T.e)(e)},e.prototype.AsyncPostComment=function(){return Object(i.b)(this,void 0,void 0,function(){var t,n,a,o,r;return Object(i.e)(this,function(e){switch(e.label){case 0:return t=C.a.InitFromAccountID(c.i.accountid),n=c.c.COMMUNITY_BASE_URL+"profiles/"+t.ConvertTo64BitString()+"/ajaxpostuserstatus",a=this.GetAnnouncementURL(),0!=(o=this.state.text).trim().length&&(o+="\n\n"),o+=a,(r=new FormData).append("appid",""+this.props.eventModel.appid),r.append("status_text",o),r.append("sessionid",c.c.SESSIONID),[4,b.a.post(n,r)];case 1:return e.sent(),[2]}})})},e.prototype.render=function(){var e=I.a.GetProfile(c.i.steamid),t=e?e.avatar_url:null,n=this.GetAnnouncementURL(),a=C.a.InitFromAccountID(c.i.accountid);return this.state.bPosting?s.createElement(v.b,{strDescription:"",strTitle:Object(l.c)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.props.closeModal,bAlertDialog:!0},s.createElement("div",{className:p.a.FlexColumnContainer},s.createElement("div",null,Object(l.c)("#EventDisplay_Share_OnMyStatus_Details")),s.createElement("div",{className:E.a.Container},0==this.state.strPostingMessage.length?s.createElement(A.a,{position:"center"}):s.createElement("div",null,this.state.strPostingMessage),Boolean(this.state.bPostSuccess)&&s.createElement("a",{href:(c.c.IN_CLIENT?"steam://openurl/":"")+c.c.COMMUNITY_BASE_URL+"profiles/"+a.ConvertTo64BitString()+"/home",target:c.c.IN_CLIENT?void 0:"_blank"},Object(l.c)("#EventDisplay_Share_OpenActivityFeed"))))):s.createElement(v.b,{strDescription:"",strTitle:Object(l.c)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.PostComment,strOKButtonText:Object(l.c)("#Button_Post")},s.createElement("div",{className:p.a.FlexColumnContainer},s.createElement("div",null,Object(l.c)("#EventDisplay_Share_OnMyStatus_Details")),s.createElement("div",{className:Object(h.a)(E.a.Container,p.a.FlexColumnContainer)},s.createElement("div",null,s.createElement("img",{className:E.a.SmallAvatar,src:t}),s.createElement("div",{className:Object(h.a)(p.a.FlexColumnContainer)},s.createElement(S.a,{strPlaceholder:Object(l.c)("#EventDisplay_Share_OnMyStatus_Placeholder"),fnGetCurText:this.GetCurText,fnOnTextChange:this.OnTextChange,fnSetText:this.SetText,emoticonStore:this.props.emoticonStore,bSupportHTMLImport:!1,showFormatHelp:"UserStatusPublished",limitBBCode:O.c,classNameForTextArea:E.a.ShareDescription,bEmbeddedInDialog:!0}))),s.createElement("div",null,s.createElement(D.a,{text:n,partnerEventStore:this.props.partnerEventStore})))))},Object(i.c)([u.a],e.prototype,"OnTextChange",null),Object(i.c)([u.a],e.prototype,"SetText",null),Object(i.c)([u.a],e.prototype,"GetCurText",null),Object(i.c)([u.a],e.prototype,"PostComment",null),e=Object(i.c)([a.observer],e)}(s.Component),j=n("YyVH"),L=n("9w6b"),k=n("Wwly"),N=n.n(k),M=n("y5Xn"),G=n.n(M),B=n("Ltvz"),x=n.n(B),R=n("yP1N"),U=n.n(R),F=n("5iBV"),P=n.n(F),z=n("7u3m"),V=n.n(z),H=n("yNwp"),Y=n.n(H),W=n("D4G2"),Q=n.n(W),K=n("I5J2"),Z=n.n(K),J=n("TgKA"),q=n.n(J),X=n("ckHM"),$=n.n(X),ee=n("goqe"),te=n.n(ee),ne=n("Pr9M"),ae=n.n(ne),oe=n("BFsE"),re=n("/PpB"),ie=n("TQGK");function se(e,t){return t.BIsUserLoggedIn()?!t.GetPartnerEventPermissions(e.clanSteamID).limited_user||(Object(d.d)(s.createElement(re.a,null),window),!1):(c.c.IN_CLIENT?console.log("EventDiscussionWidget: In Client: Cannot use login widget. We expect to be already logged in."):Object(d.d)(s.createElement(v.b,{strTitle:Object(l.c)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(l.c)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(l.c)("#MobileLogin_SignIn"),onOK:function(){return Object(oe.a)()}}),window),!1)}n.d(t,"a",function(){return se}),n.d(t,"b",function(){return ce});var ce=function(o){function e(e){var t=o.call(this,e)||this;t.m_cancelSignal=b.a.CancelToken.source();var n=L.a.Get().BHasMyVote(e.eventModel),a=void 0;return n&&(a=r.ConvertMyVoteRaw(L.a.Get().GetPreviouslyLoadedVote(e.eventModel))),t.state={bLoadedVote:!!n,myVote:a},t}var r;return Object(i.d)(e,o),(r=e).prototype.HandleRefreshMyVotingInformation=function(){return Object(i.b)(this,void 0,void 0,function(){var t,n,a=this;return Object(i.e)(this,function(e){return t=this.props,n=t.eventModel,t.partnerEventStore,L.a.Get().BIsUserLoggedIn()&&(L.a.Get().LoadMyVote(n,this.m_cancelSignal).then(function(e){var t=r.ConvertMyVoteRaw(e);a.setState({myVote:t,bLoadedVote:!0})}).catch(function(e){var t=Object(y.a)(e);console.log("EventDiscussionWidget = "+t.strErrorMsg)}),ie.a.LoadOGGClanInfoForClanSteamID(n.clanSteamID).catch(function(e){var t=Object(y.a)(e);console.log("EventDiscussionWidget = "+t.strErrorMsg)})),[2]})})},e.prototype.componentDidMount=function(){this.state.bLoadedVote||this.HandleRefreshMyVotingInformation()},e.prototype.componentDidUpdate=function(e){this.props.eventModel.GID!=e.eventModel.GID&&this.HandleRefreshMyVotingInformation()},e.ConvertMyVoteRaw=function(e){var t=void 0;return!0===e?t="up":!1===e&&(t="down"),t},e.prototype.componentWillUnmount=function(){this.m_cancelSignal.cancel("EventDiscussionWidget is being unmounted")},e.prototype.OnVoteUp=function(){this.Vote("up")},e.prototype.OnVoteDown=function(){this.Vote("down")},e.prototype.Vote=function(n){var a=this,e=this.props.eventModel;se(e,L.a.Get())&&this.state.myVote!=n&&null!=n&&this.state.bLoadedVote&&this.setState({bVotingUp:"up"==n,bVotingDown:"down"==n},function(){L.a.Get().Vote(e,"up"===n,a.m_cancelSignal).catch(function(e){var t=Object(y.a)(e);console.error("EventDiscussionWidget.OnVote"+n+" "+t.strErrorMsg,t),a.setState({bVotingDown:!1,bVotingUp:!1})}),a.setState({myVote:n,bVotingDown:!1,bVotingUp:!1})})},e.prototype.OnShareDialog=function(e){Object(d.d)(s.createElement(le,{eventModel:this.props.eventModel,emoticonStore:this.props.emoticonStore,partnerEventStore:this.props.partnerEventStore}),Object(m.m)(e),Object(l.c)("#Button_Share"))},e.prototype.GotoDiscussion=function(e){Object(d.d)(s.createElement(v.d,{strDescription:Object(l.c)("#EventDisplay_Share_CommentMigrationInProcess")}),Object(m.m)(e))},e.prototype.render=function(){var e=this.props.eventModel,t=Object(j.a)(e.nVotesUp-e.nVotesDown,0,Number.MAX_SAFE_INTEGER),n=e.GetForumTopicURL();return s.createElement("div",{className:_.a.Container},s.createElement("div",{className:_.a.InnerContainer},s.createElement("div",{className:_.a.VoteContainer},s.createElement("div",{className:_.a.VoteCount},s.createElement("img",{className:_.a.VoteUpStaticIcon,src:G.a}),t.toLocaleString(l.b.GetPreferredLocales())),s.createElement("div",{className:Object(h.a)(p.a.Button,p.a.Icon,_.a.DiscussionButton,"up"==this.state.myVote?_.a.VoteButtonSelected:""),onClick:this.OnVoteUp},s.createElement("img",{className:"up"==this.state.myVote?_.a.VoteUpSelectedIcon:_.a.VoteUpIcon,src:"up"==this.state.myVote?x.a:N.a}),s.createElement("span",{className:_.a.DiscussionButtonText},Object(l.c)("#Button_RateUp"))),s.createElement("div",{className:Object(h.a)(p.a.Button,p.a.Icon,_.a.DiscussionButton,"down"==this.state.myVote?_.a.VoteButtonSelected:""),onClick:this.OnVoteDown},s.createElement("img",{className:"down"==this.state.myVote?_.a.VoteDownSelectedIcon:_.a.VoteDownIcon,src:"down"==this.state.myVote?U.a:P.a}))),s.createElement("div",{className:_.a.DiscussContainer},s.createElement("div",{className:_.a.DiscussionCount},s.createElement("img",{className:_.a.DiscussIcon,src:q.a}),e.nCommentCount.toLocaleString(l.b.GetPreferredLocales())),n&&s.createElement("a",{href:n},s.createElement("div",{className:Object(h.a)(p.a.Button,p.a.Icon,_.a.DiscussionButton)},s.createElement("img",{className:_.a.DiscussIcon,src:Z.a}),s.createElement("span",{className:_.a.DiscussionButtonText},Object(l.c)("#Button_Discuss")))),!n&&s.createElement("div",{onClick:this.GotoDiscussion,className:Object(h.a)(p.a.Button,p.a.Icon,_.a.DiscussionButton)},s.createElement("img",{className:_.a.DiscussIcon,src:Z.a}),s.createElement("span",{className:_.a.DiscussionButtonText},Object(l.c)("#Button_Discuss"))))),s.createElement("div",{className:_.a.ShareContainer},s.createElement("div",{className:Object(h.a)(p.a.Button,p.a.Icon,_.a.DiscussionButton),onClick:this.OnShareDialog},s.createElement("img",{className:_.a.ShareIcon,src:$.a}),s.createElement("span",{className:_.a.DiscussionButtonText},Object(l.c)("#Button_Share")))))},Object(i.c)([u.a],e.prototype,"OnVoteUp",null),Object(i.c)([u.a],e.prototype,"OnVoteDown",null),Object(i.c)([u.a],e.prototype,"OnShareDialog",null),Object(i.c)([u.a],e.prototype,"GotoDiscussion",null),e=r=Object(i.c)([a.observer],e)}(s.Component),le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={bShareOnSteamDialog:!1,bRequireLoginToShare:!1},e}return Object(i.d)(e,t),e.prototype.ShareOnSteamActivityFeed=function(){L.a.Get().BIsUserLoggedIn()?this.setState({bShareOnSteamDialog:!0}):c.c.IN_CLIENT?console.log("ShareEventOnSocialMediaDialog: In Client: Cannot use login widget. We expect to be already logged in."):this.setState({bRequireLoginToShare:!0})},e.prototype.render=function(){var e=this.props,t=e.eventModel,n=e.closeModal,a=e.emoticonStore,o=e.partnerEventStore;return this.state.bRequireLoginToShare?s.createElement(v.b,{strTitle:Object(l.c)("#EventDisplay_Share_NotLoggedIn"),strDescription:Object(l.c)("#EventDisplay_Share_NotLoggedIn_Description"),strOKButtonText:Object(l.c)("#MobileLogin_SignIn"),onCancel:this.props.closeModal,onOK:function(){return Object(oe.a)()}}):this.state.bShareOnSteamDialog?s.createElement(w,{eventModel:t,emoticonStore:a,partnerEventStore:o,closeModal:n}):s.createElement(v.b,{strDescription:"",strTitle:Object(l.c)("#Button_Share"),onCancel:this.props.closeModal,onOK:this.props.closeModal,bAlertDialog:!0},s.createElement(ue,{eventModel:t,fnShareOnSteamActivityFeed:this.ShareOnSteamActivityFeed}))},Object(i.c)([u.a],e.prototype,"ShareOnSteamActivityFeed",null),e}(s.Component),ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refInputText=s.createRef(),e}return Object(i.d)(e,t),e.prototype.CopyToClipboard=function(e){this.refInputText.current&&(this.refInputText.current.select(),document.execCommand("copy"))},e.prototype.render=function(){var e=this.props.eventModel;return s.createElement("div",{className:Object(h.a)(p.a.FlexColumnContainer,_.a.share_controls_ctn)},s.createElement("div",{className:p.a.FlexRowContainer,style:{flexWrap:"wrap"}},s.createElement("div",{"data-tooltip-text":Object(l.c)("#EventDisplay_Share_OnSteam"),onClick:this.props.fnShareOnSteamActivityFeed,className:Object(h.a)(p.a.Button,_.a.ShareBtn)},s.createElement("img",{className:_.a.SteamIcon,src:ae.a}),s.createElement("span",{style:{whiteSpace:"nowrap"}},Object(l.c)("#EventDisplay_Share_OnMyStatus"))),s.createElement("a",{"data-tooltip-text":Object(l.c)("#EventDisplay_Share_OnFaceBook"),href:(c.c.IN_CLIENT?"steam://openurl_external/":"")+Object(T.d)(e,T.b.k_eFacebook),target:c.c.IN_CLIENT?void 0:"_blank",className:_.a.ShareBtn},s.createElement("img",{className:Object(h.a)(p.a.Button),src:V.a})),s.createElement("a",{"data-tooltip-text":Object(l.c)("#EventDisplay_Share_OnTwitter"),href:(c.c.IN_CLIENT?"steam://openurl_external/":"")+Object(T.d)(e,T.b.k_eTwitter),target:c.c.IN_CLIENT?void 0:"_blank",className:_.a.ShareBtn},s.createElement("img",{className:Object(h.a)(p.a.Button),src:Q.a})),s.createElement("a",{"data-tooltip-text":Object(l.c)("#EventDisplay_Share_OnReddit"),href:(c.c.IN_CLIENT?"steam://openurl_external/":"")+Object(T.d)(e,T.b.k_eReddit),target:c.c.IN_CLIENT?void 0:"_blank",className:_.a.ShareBtn},s.createElement("img",{className:Object(h.a)(p.a.Button),src:Y.a}))),s.createElement("div",{className:p.a.Divider}),s.createElement("div",{className:Object(h.a)(p.a.FlexRowContainer,_.a.linkField)},s.createElement("span",null,Object(l.c)("#EventDisplay_Share_Link")),s.createElement("input",{className:_.a.LinkInput,ref:this.refInputText,type:"text",value:Object(T.e)(e),readOnly:!0}),document.queryCommandSupported("copy")&&s.createElement("div",{className:p.a.Button,onClick:this.CopyToClipboard,"data-tooltip-text":Object(l.c)("#ToolTip_CopyLinkToClipboard")},s.createElement("img",{className:_.a.ClipboardIcon,src:te.a}))))},Object(i.c)([u.a],e.prototype,"CopyToClipboard",null),e}(s.Component)}}]);